function fp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Pt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var mp={exports:{}},Su={},gp={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kl=Symbol.for("react.element"),nv=Symbol.for("react.portal"),rv=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),sv=Symbol.for("react.profiler"),iv=Symbol.for("react.provider"),ov=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),cv=Symbol.for("react.suspense"),uv=Symbol.for("react.memo"),dv=Symbol.for("react.lazy"),L1=Symbol.iterator;function hv(e){return e===null||typeof e!="object"?null:(e=L1&&e[L1]||e["@@iterator"],typeof e=="function"?e:null)}var pp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xp=Object.assign,yp={};function Qi(e,t,n){this.props=e,this.context=t,this.refs=yp,this.updater=n||pp}Qi.prototype.isReactComponent={};Qi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wp(){}wp.prototype=Qi.prototype;function Zf(e,t,n){this.props=e,this.context=t,this.refs=yp,this.updater=n||pp}var Jf=Zf.prototype=new wp;Jf.constructor=Zf;xp(Jf,Qi.prototype);Jf.isPureReactComponent=!0;var B1=Array.isArray,vp=Object.prototype.hasOwnProperty,e0={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function Cp(e,t,n){var r,i={},o=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(o=""+t.key),t)vp.call(t,r)&&!bp.hasOwnProperty(r)&&(i[r]=t[r]);var g=arguments.length-2;if(g===1)i.children=n;else if(1<g){for(var p=Array(g),x=0;x<g;x++)p[x]=arguments[x+2];i.children=p}if(e&&e.defaultProps)for(r in g=e.defaultProps,g)i[r]===void 0&&(i[r]=g[r]);return{$$typeof:kl,type:e,key:o,ref:h,props:i,_owner:e0.current}}function fv(e,t){return{$$typeof:kl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function t0(e){return typeof e=="object"&&e!==null&&e.$$typeof===kl}function mv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var F1=/\/+/g;function Ad(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mv(""+e.key):t.toString(36)}function Ec(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(o){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case kl:case nv:h=!0}}if(h)return h=e,i=i(h),e=r===""?"."+Ad(h,0):r,B1(i)?(n="",e!=null&&(n=e.replace(F1,"$&/")+"/"),Ec(i,t,n,"",function(x){return x})):i!=null&&(t0(i)&&(i=fv(i,n+(!i.key||h&&h.key===i.key?"":(""+i.key).replace(F1,"$&/")+"/")+e)),t.push(i)),1;if(h=0,r=r===""?".":r+":",B1(e))for(var g=0;g<e.length;g++){o=e[g];var p=r+Ad(o,g);h+=Ec(o,t,n,p,i)}else if(p=hv(e),typeof p=="function")for(e=p.call(e),g=0;!(o=e.next()).done;)o=o.value,p=r+Ad(o,g++),h+=Ec(o,t,n,p,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Ql(e,t,n){if(e==null)return e;var r=[],i=0;return Ec(e,r,"","",function(o){return t.call(n,o,i++)}),r}function gv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var An={current:null},Sc={transition:null},pv={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:e0};function Np(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:Ql,forEach:function(e,t,n){Ql(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ql(e,function(){t++}),t},toArray:function(e){return Ql(e,function(t){return t})||[]},only:function(e){if(!t0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Re.Component=Qi;Re.Fragment=rv;Re.Profiler=sv;Re.PureComponent=Zf;Re.StrictMode=av;Re.Suspense=cv;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pv;Re.act=Np;Re.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xp({},e.props),i=e.key,o=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,h=e0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var g=e.type.defaultProps;for(p in t)vp.call(t,p)&&!bp.hasOwnProperty(p)&&(r[p]=t[p]===void 0&&g!==void 0?g[p]:t[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){g=Array(p);for(var x=0;x<p;x++)g[x]=arguments[x+2];r.children=g}return{$$typeof:kl,type:e.type,key:i,ref:o,props:r,_owner:h}};Re.createContext=function(e){return e={$$typeof:ov,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iv,_context:e},e.Consumer=e};Re.createElement=Cp;Re.createFactory=function(e){var t=Cp.bind(null,e);return t.type=e,t};Re.createRef=function(){return{current:null}};Re.forwardRef=function(e){return{$$typeof:lv,render:e}};Re.isValidElement=t0;Re.lazy=function(e){return{$$typeof:dv,_payload:{_status:-1,_result:e},_init:gv}};Re.memo=function(e,t){return{$$typeof:uv,type:e,compare:t===void 0?null:t}};Re.startTransition=function(e){var t=Sc.transition;Sc.transition={};try{e()}finally{Sc.transition=t}};Re.unstable_act=Np;Re.useCallback=function(e,t){return An.current.useCallback(e,t)};Re.useContext=function(e){return An.current.useContext(e)};Re.useDebugValue=function(){};Re.useDeferredValue=function(e){return An.current.useDeferredValue(e)};Re.useEffect=function(e,t){return An.current.useEffect(e,t)};Re.useId=function(){return An.current.useId()};Re.useImperativeHandle=function(e,t,n){return An.current.useImperativeHandle(e,t,n)};Re.useInsertionEffect=function(e,t){return An.current.useInsertionEffect(e,t)};Re.useLayoutEffect=function(e,t){return An.current.useLayoutEffect(e,t)};Re.useMemo=function(e,t){return An.current.useMemo(e,t)};Re.useReducer=function(e,t,n){return An.current.useReducer(e,t,n)};Re.useRef=function(e){return An.current.useRef(e)};Re.useState=function(e){return An.current.useState(e)};Re.useSyncExternalStore=function(e,t,n){return An.current.useSyncExternalStore(e,t,n)};Re.useTransition=function(){return An.current.useTransition()};Re.version="18.3.1";gp.exports=Re;var F=gp.exports;const we=Tl(F),xv=fp({__proto__:null,default:we},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=F,wv=Symbol.for("react.element"),vv=Symbol.for("react.fragment"),bv=Object.prototype.hasOwnProperty,Cv=yv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Nv={key:!0,ref:!0,__self:!0,__source:!0};function Ep(e,t,n){var r,i={},o=null,h=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)bv.call(t,r)&&!Nv.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:wv,type:e,key:o,ref:h,props:i,_owner:Cv.current}}Su.Fragment=vv;Su.jsx=Ep;Su.jsxs=Ep;mp.exports=Su;var c=mp.exports,vh={},Sp={exports:{}},tr={},_p={exports:{}},Ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(oe,de){var ue=oe.length;oe.push(de);e:for(;0<ue;){var Oe=ue-1>>>1,_e=oe[Oe];if(0<i(_e,de))oe[Oe]=de,oe[ue]=_e,ue=Oe;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var de=oe[0],ue=oe.pop();if(ue!==de){oe[0]=ue;e:for(var Oe=0,_e=oe.length,It=_e>>>1;Oe<It;){var Ze=2*(Oe+1)-1,gr=oe[Ze],ge=Ze+1,kn=oe[ge];if(0>i(gr,ue))ge<_e&&0>i(kn,gr)?(oe[Oe]=kn,oe[ge]=ue,Oe=ge):(oe[Oe]=gr,oe[Ze]=ue,Oe=Ze);else if(ge<_e&&0>i(kn,ue))oe[Oe]=kn,oe[ge]=ue,Oe=ge;else break e}}return de}function i(oe,de){var ue=oe.sortIndex-de.sortIndex;return ue!==0?ue:oe.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var h=Date,g=h.now();e.unstable_now=function(){return h.now()-g}}var p=[],x=[],w=1,b=null,N=3,j=!1,I=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(oe){for(var de=n(x);de!==null;){if(de.callback===null)r(x);else if(de.startTime<=oe)r(x),de.sortIndex=de.expirationTime,t(p,de);else break;de=n(x)}}function R(oe){if(S=!1,E(oe),!I)if(n(p)!==null)I=!0,J(X);else{var de=n(x);de!==null&&ce(R,de.startTime-oe)}}function X(oe,de){I=!1,S&&(S=!1,T(G),G=-1),j=!0;var ue=N;try{for(E(de),b=n(p);b!==null&&(!(b.expirationTime>de)||oe&&!W());){var Oe=b.callback;if(typeof Oe=="function"){b.callback=null,N=b.priorityLevel;var _e=Oe(b.expirationTime<=de);de=e.unstable_now(),typeof _e=="function"?b.callback=_e:b===n(p)&&r(p),E(de)}else r(p);b=n(p)}if(b!==null)var It=!0;else{var Ze=n(x);Ze!==null&&ce(R,Ze.startTime-de),It=!1}return It}finally{b=null,N=ue,j=!1}}var H=!1,L=null,G=-1,B=5,V=-1;function W(){return!(e.unstable_now()-V<B)}function q(){if(L!==null){var oe=e.unstable_now();V=oe;var de=!0;try{de=L(!0,oe)}finally{de?re():(H=!1,L=null)}}else H=!1}var re;if(typeof _=="function")re=function(){_(q)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,$=ye.port2;ye.port1.onmessage=q,re=function(){$.postMessage(null)}}else re=function(){O(q,0)};function J(oe){L=oe,H||(H=!0,re())}function ce(oe,de){G=O(function(){oe(e.unstable_now())},de)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(oe){oe.callback=null},e.unstable_continueExecution=function(){I||j||(I=!0,J(X))},e.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<oe?Math.floor(1e3/oe):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(p)},e.unstable_next=function(oe){switch(N){case 1:case 2:case 3:var de=3;break;default:de=N}var ue=N;N=de;try{return oe()}finally{N=ue}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(oe,de){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var ue=N;N=oe;try{return de()}finally{N=ue}},e.unstable_scheduleCallback=function(oe,de,ue){var Oe=e.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Oe+ue:Oe):ue=Oe,oe){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ue+_e,oe={id:w++,callback:de,priorityLevel:oe,startTime:ue,expirationTime:_e,sortIndex:-1},ue>Oe?(oe.sortIndex=ue,t(x,oe),n(p)===null&&oe===n(x)&&(S?(T(G),G=-1):S=!0,ce(R,ue-Oe))):(oe.sortIndex=_e,t(p,oe),I||j||(I=!0,J(X))),oe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(oe){var de=N;return function(){var ue=N;N=de;try{return oe.apply(this,arguments)}finally{N=ue}}}})(Ap);_p.exports=Ap;var Ev=_p.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sv=F,er=Ev;function ae(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tp=new Set,nl={};function Bs(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(nl[e]=t,e=0;e<t.length;e++)Tp.add(t[e])}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=Object.prototype.hasOwnProperty,_v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U1={},z1={};function Av(e){return bh.call(z1,e)?!0:bh.call(U1,e)?!1:_v.test(e)?z1[e]=!0:(U1[e]=!0,!1)}function Tv(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kv(e,t,n,r){if(t===null||typeof t>"u"||Tv(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tn(e,t,n,r,i,o,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=h}var dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){dn[e]=new Tn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];dn[t]=new Tn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){dn[e]=new Tn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){dn[e]=new Tn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){dn[e]=new Tn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){dn[e]=new Tn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){dn[e]=new Tn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){dn[e]=new Tn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){dn[e]=new Tn(e,5,!1,e.toLowerCase(),null,!1,!1)});var n0=/[\-:]([a-z])/g;function r0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(n0,r0);dn[t]=new Tn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(n0,r0);dn[t]=new Tn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(n0,r0);dn[t]=new Tn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){dn[e]=new Tn(e,1,!1,e.toLowerCase(),null,!1,!1)});dn.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){dn[e]=new Tn(e,1,!1,e.toLowerCase(),null,!0,!0)});function a0(e,t,n,r){var i=dn.hasOwnProperty(t)?dn[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kv(t,n,i,r)&&(n=null),r||i===null?Av(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ma=Sv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zl=Symbol.for("react.element"),ci=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),s0=Symbol.for("react.strict_mode"),Ch=Symbol.for("react.profiler"),kp=Symbol.for("react.provider"),jp=Symbol.for("react.context"),i0=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Eh=Symbol.for("react.suspense_list"),o0=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),Ip=Symbol.for("react.offscreen"),W1=Symbol.iterator;function No(e){return e===null||typeof e!="object"?null:(e=W1&&e[W1]||e["@@iterator"],typeof e=="function"?e:null)}var Et=Object.assign,Td;function Mo(e){if(Td===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Td=t&&t[1]||""}return`
`+Td+e}var kd=!1;function jd(e,t){if(!e||kd)return"";kd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(x){var r=x}Reflect.construct(e,[],t)}else{try{t.call()}catch(x){r=x}e.call(t.prototype)}else{try{throw Error()}catch(x){r=x}e()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),o=r.stack.split(`
`),h=i.length-1,g=o.length-1;1<=h&&0<=g&&i[h]!==o[g];)g--;for(;1<=h&&0<=g;h--,g--)if(i[h]!==o[g]){if(h!==1||g!==1)do if(h--,g--,0>g||i[h]!==o[g]){var p=`
`+i[h].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=h&&0<=g);break}}}finally{kd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mo(e):""}function jv(e){switch(e.tag){case 5:return Mo(e.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return e=jd(e.type,!1),e;case 11:return e=jd(e.type.render,!1),e;case 1:return e=jd(e.type,!0),e;default:return""}}function Sh(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ui:return"Fragment";case ci:return"Portal";case Ch:return"Profiler";case s0:return"StrictMode";case Nh:return"Suspense";case Eh:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jp:return(e.displayName||"Context")+".Consumer";case kp:return(e._context.displayName||"Context")+".Provider";case i0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case o0:return t=e.displayName||null,t!==null?t:Sh(e.type)||"Memo";case Ia:t=e._payload,e=e._init;try{return Sh(e(t))}catch{}}return null}function Iv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sh(t);case 8:return t===s0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qa(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Op(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ov(e){var t=Op(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,o.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jl(e){e._valueTracker||(e._valueTracker=Ov(e))}function Dp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Op(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Lc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _h(e,t){var n=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function V1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qa(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mp(e,t){t=t.checked,t!=null&&a0(e,"checked",t,!1)}function Ah(e,t){Mp(e,t);var n=Qa(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Th(e,t.type,n):t.hasOwnProperty("defaultValue")&&Th(e,t.type,Qa(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function H1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Th(e,t,n){(t!=="number"||Lc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ro=Array.isArray;function _i(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qa(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kh(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ae(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $1(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ae(92));if(Ro(n)){if(1<n.length)throw Error(ae(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qa(n)}}function Rp(e,t){var n=Qa(t.value),r=Qa(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function G1(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Pp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function jh(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Pp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ec,Lp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ec=ec||document.createElement("div"),ec.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ec.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var zo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dv=["Webkit","ms","Moz","O"];Object.keys(zo).forEach(function(e){Dv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),zo[t]=zo[e]})});function Bp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||zo.hasOwnProperty(e)&&zo[e]?(""+t).trim():t+"px"}function Fp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Bp(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Mv=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(e,t){if(t){if(Mv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ae(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ae(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ae(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ae(62))}}function Oh(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dh=null;function l0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mh=null,Ai=null,Ti=null;function Y1(e){if(e=Ol(e)){if(typeof Mh!="function")throw Error(ae(280));var t=e.stateNode;t&&(t=ju(t),Mh(e.stateNode,e.type,t))}}function Up(e){Ai?Ti?Ti.push(e):Ti=[e]:Ai=e}function zp(){if(Ai){var e=Ai,t=Ti;if(Ti=Ai=null,Y1(e),t)for(e=0;e<t.length;e++)Y1(t[e])}}function Wp(e,t){return e(t)}function Vp(){}var Id=!1;function Hp(e,t,n){if(Id)return e(t,n);Id=!0;try{return Wp(e,t,n)}finally{Id=!1,(Ai!==null||Ti!==null)&&(Vp(),zp())}}function al(e,t){var n=e.stateNode;if(n===null)return null;var r=ju(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ae(231,t,typeof n));return n}var Rh=!1;if(ca)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Rh=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Rh=!1}function Rv(e,t,n,r,i,o,h,g,p){var x=Array.prototype.slice.call(arguments,3);try{t.apply(n,x)}catch(w){this.onError(w)}}var Wo=!1,Bc=null,Fc=!1,Ph=null,Pv={onError:function(e){Wo=!0,Bc=e}};function Lv(e,t,n,r,i,o,h,g,p){Wo=!1,Bc=null,Rv.apply(Pv,arguments)}function Bv(e,t,n,r,i,o,h,g,p){if(Lv.apply(this,arguments),Wo){if(Wo){var x=Bc;Wo=!1,Bc=null}else throw Error(ae(198));Fc||(Fc=!0,Ph=x)}}function Fs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function $p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function X1(e){if(Fs(e)!==e)throw Error(ae(188))}function Fv(e){var t=e.alternate;if(!t){if(t=Fs(e),t===null)throw Error(ae(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return X1(i),e;if(o===r)return X1(i),t;o=o.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=o;else{for(var h=!1,g=i.child;g;){if(g===n){h=!0,n=i,r=o;break}if(g===r){h=!0,r=i,n=o;break}g=g.sibling}if(!h){for(g=o.child;g;){if(g===n){h=!0,n=o,r=i;break}if(g===r){h=!0,r=o,n=i;break}g=g.sibling}if(!h)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?e:t}function Gp(e){return e=Fv(e),e!==null?Yp(e):null}function Yp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yp(e);if(t!==null)return t;e=e.sibling}return null}var Xp=er.unstable_scheduleCallback,K1=er.unstable_cancelCallback,Uv=er.unstable_shouldYield,zv=er.unstable_requestPaint,Rt=er.unstable_now,Wv=er.unstable_getCurrentPriorityLevel,c0=er.unstable_ImmediatePriority,Kp=er.unstable_UserBlockingPriority,Uc=er.unstable_NormalPriority,Vv=er.unstable_LowPriority,qp=er.unstable_IdlePriority,_u=null,$r=null;function Hv(e){if($r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(_u,e,void 0,(e.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:Yv,$v=Math.log,Gv=Math.LN2;function Yv(e){return e>>>=0,e===0?32:31-($v(e)/Gv|0)|0}var tc=64,nc=4194304;function Po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function zc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,h=n&268435455;if(h!==0){var g=h&~i;g!==0?r=Po(g):(o&=h,o!==0&&(r=Po(o)))}else h=n&~i,h!==0?r=Po(h):o!==0&&(r=Po(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ar(t),i=1<<n,r|=e[n],t&=~i;return r}function Xv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var h=31-Ar(o),g=1<<h,p=i[h];p===-1?(!(g&n)||g&r)&&(i[h]=Xv(g,t)):p<=t&&(e.expiredLanes|=g),o&=~g}}function Lh(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qp(){var e=tc;return tc<<=1,!(tc&4194240)&&(tc=64),e}function Od(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function jl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ar(t),e[t]=n}function qv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ar(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function u0(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ar(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Qe=0;function Zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Jp,d0,ex,tx,nx,Bh=!1,rc=[],za=null,Wa=null,Va=null,sl=new Map,il=new Map,Da=[],Qv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q1(e,t){switch(e){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Wa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(t.pointerId)}}function So(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Ol(t),t!==null&&d0(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Zv(e,t,n,r,i){switch(t){case"focusin":return za=So(za,e,t,n,r,i),!0;case"dragenter":return Wa=So(Wa,e,t,n,r,i),!0;case"mouseover":return Va=So(Va,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return sl.set(o,So(sl.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,il.set(o,So(il.get(o)||null,e,t,n,r,i)),!0}return!1}function rx(e){var t=Ns(e.target);if(t!==null){var n=Fs(t);if(n!==null){if(t=n.tag,t===13){if(t=$p(n),t!==null){e.blockedOn=t,nx(e.priority,function(){ex(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fh(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dh=r,n.target.dispatchEvent(r),Dh=null}else return t=Ol(n),t!==null&&d0(t),e.blockedOn=n,!1;t.shift()}return!0}function Q1(e,t,n){_c(e)&&n.delete(t)}function Jv(){Bh=!1,za!==null&&_c(za)&&(za=null),Wa!==null&&_c(Wa)&&(Wa=null),Va!==null&&_c(Va)&&(Va=null),sl.forEach(Q1),il.forEach(Q1)}function _o(e,t){e.blockedOn===t&&(e.blockedOn=null,Bh||(Bh=!0,er.unstable_scheduleCallback(er.unstable_NormalPriority,Jv)))}function ol(e){function t(i){return _o(i,e)}if(0<rc.length){_o(rc[0],e);for(var n=1;n<rc.length;n++){var r=rc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(za!==null&&_o(za,e),Wa!==null&&_o(Wa,e),Va!==null&&_o(Va,e),sl.forEach(t),il.forEach(t),n=0;n<Da.length;n++)r=Da[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Da.length&&(n=Da[0],n.blockedOn===null);)rx(n),n.blockedOn===null&&Da.shift()}var ki=ma.ReactCurrentBatchConfig,Wc=!0;function eb(e,t,n,r){var i=Qe,o=ki.transition;ki.transition=null;try{Qe=1,h0(e,t,n,r)}finally{Qe=i,ki.transition=o}}function tb(e,t,n,r){var i=Qe,o=ki.transition;ki.transition=null;try{Qe=4,h0(e,t,n,r)}finally{Qe=i,ki.transition=o}}function h0(e,t,n,r){if(Wc){var i=Fh(e,t,n,r);if(i===null)Wd(e,t,r,Vc,n),q1(e,r);else if(Zv(i,e,t,n,r))r.stopPropagation();else if(q1(e,r),t&4&&-1<Qv.indexOf(e)){for(;i!==null;){var o=Ol(i);if(o!==null&&Jp(o),o=Fh(e,t,n,r),o===null&&Wd(e,t,r,Vc,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wd(e,t,r,null,n)}}var Vc=null;function Fh(e,t,n,r){if(Vc=null,e=l0(r),e=Ns(e),e!==null)if(t=Fs(e),t===null)e=null;else if(n=t.tag,n===13){if(e=$p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vc=e,null}function ax(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wv()){case c0:return 1;case Kp:return 4;case Uc:case Vv:return 16;case qp:return 536870912;default:return 16}default:return 16}}var La=null,f0=null,Ac=null;function sx(){if(Ac)return Ac;var e,t=f0,n=t.length,r,i="value"in La?La.value:La.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===i[o-r];r++);return Ac=i.slice(e,1<r?1-r:void 0)}function Tc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ac(){return!0}function Z1(){return!1}function nr(e){function t(n,r,i,o,h){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(o):o[g]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ac:Z1,this.isPropagationStopped=Z1,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),t}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},m0=nr(Zi),Il=Et({},Zi,{view:0,detail:0}),nb=nr(Il),Dd,Md,Ao,Au=Et({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ao&&(Ao&&e.type==="mousemove"?(Dd=e.screenX-Ao.screenX,Md=e.screenY-Ao.screenY):Md=Dd=0,Ao=e),Dd)},movementY:function(e){return"movementY"in e?e.movementY:Md}}),J1=nr(Au),rb=Et({},Au,{dataTransfer:0}),ab=nr(rb),sb=Et({},Il,{relatedTarget:0}),Rd=nr(sb),ib=Et({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ob=nr(ib),lb=Et({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cb=nr(lb),ub=Et({},Zi,{data:0}),em=nr(ub),db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fb[e])?!!t[e]:!1}function g0(){return mb}var gb=Et({},Il,{key:function(e){if(e.key){var t=db[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g0,charCode:function(e){return e.type==="keypress"?Tc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pb=nr(gb),xb=Et({},Au,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tm=nr(xb),yb=Et({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g0}),wb=nr(yb),vb=Et({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bb=nr(vb),Cb=Et({},Au,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nb=nr(Cb),Eb=[9,13,27,32],p0=ca&&"CompositionEvent"in window,Vo=null;ca&&"documentMode"in document&&(Vo=document.documentMode);var Sb=ca&&"TextEvent"in window&&!Vo,ix=ca&&(!p0||Vo&&8<Vo&&11>=Vo),nm=" ",rm=!1;function ox(e,t){switch(e){case"keyup":return Eb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var di=!1;function _b(e,t){switch(e){case"compositionend":return lx(t);case"keypress":return t.which!==32?null:(rm=!0,nm);case"textInput":return e=t.data,e===nm&&rm?null:e;default:return null}}function Ab(e,t){if(di)return e==="compositionend"||!p0&&ox(e,t)?(e=sx(),Ac=f0=La=null,di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ix&&t.locale!=="ko"?null:t.data;default:return null}}var Tb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function am(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tb[e.type]:t==="textarea"}function cx(e,t,n,r){Up(r),t=Hc(t,"onChange"),0<t.length&&(n=new m0("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ho=null,ll=null;function kb(e){vx(e,0)}function Tu(e){var t=mi(e);if(Dp(t))return e}function jb(e,t){if(e==="change")return t}var ux=!1;if(ca){var Pd;if(ca){var Ld="oninput"in document;if(!Ld){var sm=document.createElement("div");sm.setAttribute("oninput","return;"),Ld=typeof sm.oninput=="function"}Pd=Ld}else Pd=!1;ux=Pd&&(!document.documentMode||9<document.documentMode)}function im(){Ho&&(Ho.detachEvent("onpropertychange",dx),ll=Ho=null)}function dx(e){if(e.propertyName==="value"&&Tu(ll)){var t=[];cx(t,ll,e,l0(e)),Hp(kb,t)}}function Ib(e,t,n){e==="focusin"?(im(),Ho=t,ll=n,Ho.attachEvent("onpropertychange",dx)):e==="focusout"&&im()}function Ob(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(ll)}function Db(e,t){if(e==="click")return Tu(t)}function Mb(e,t){if(e==="input"||e==="change")return Tu(t)}function Rb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jr=typeof Object.is=="function"?Object.is:Rb;function cl(e,t){if(jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bh.call(t,i)||!jr(e[i],t[i]))return!1}return!0}function om(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lm(e,t){var n=om(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=om(n)}}function hx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fx(){for(var e=window,t=Lc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Lc(e.document)}return t}function x0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pb(e){var t=fx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hx(n.ownerDocument.documentElement,n)){if(r!==null&&x0(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lm(n,o);var h=lm(n,r);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Lb=ca&&"documentMode"in document&&11>=document.documentMode,hi=null,Uh=null,$o=null,zh=!1;function cm(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zh||hi==null||hi!==Lc(r)||(r=hi,"selectionStart"in r&&x0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&cl($o,r)||($o=r,r=Hc(Uh,"onSelect"),0<r.length&&(t=new m0("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=hi)))}function sc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fi={animationend:sc("Animation","AnimationEnd"),animationiteration:sc("Animation","AnimationIteration"),animationstart:sc("Animation","AnimationStart"),transitionend:sc("Transition","TransitionEnd")},Bd={},mx={};ca&&(mx=document.createElement("div").style,"AnimationEvent"in window||(delete fi.animationend.animation,delete fi.animationiteration.animation,delete fi.animationstart.animation),"TransitionEvent"in window||delete fi.transitionend.transition);function ku(e){if(Bd[e])return Bd[e];if(!fi[e])return e;var t=fi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mx)return Bd[e]=t[n];return e}var gx=ku("animationend"),px=ku("animationiteration"),xx=ku("animationstart"),yx=ku("transitionend"),wx=new Map,um="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ts(e,t){wx.set(e,t),Bs(t,[e])}for(var Fd=0;Fd<um.length;Fd++){var Ud=um[Fd],Bb=Ud.toLowerCase(),Fb=Ud[0].toUpperCase()+Ud.slice(1);ts(Bb,"on"+Fb)}ts(gx,"onAnimationEnd");ts(px,"onAnimationIteration");ts(xx,"onAnimationStart");ts("dblclick","onDoubleClick");ts("focusin","onFocus");ts("focusout","onBlur");ts(yx,"onTransitionEnd");Pi("onMouseEnter",["mouseout","mouseover"]);Pi("onMouseLeave",["mouseout","mouseover"]);Pi("onPointerEnter",["pointerout","pointerover"]);Pi("onPointerLeave",["pointerout","pointerover"]);Bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ub=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function dm(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bv(r,t,void 0,e),e.currentTarget=null}function vx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var h=r.length-1;0<=h;h--){var g=r[h],p=g.instance,x=g.currentTarget;if(g=g.listener,p!==o&&i.isPropagationStopped())break e;dm(i,g,x),o=p}else for(h=0;h<r.length;h++){if(g=r[h],p=g.instance,x=g.currentTarget,g=g.listener,p!==o&&i.isPropagationStopped())break e;dm(i,g,x),o=p}}}if(Fc)throw e=Ph,Fc=!1,Ph=null,e}function ft(e,t){var n=t[Gh];n===void 0&&(n=t[Gh]=new Set);var r=e+"__bubble";n.has(r)||(bx(t,e,2,!1),n.add(r))}function zd(e,t,n){var r=0;t&&(r|=4),bx(n,e,r,t)}var ic="_reactListening"+Math.random().toString(36).slice(2);function ul(e){if(!e[ic]){e[ic]=!0,Tp.forEach(function(n){n!=="selectionchange"&&(Ub.has(n)||zd(n,!1,e),zd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ic]||(t[ic]=!0,zd("selectionchange",!1,t))}}function bx(e,t,n,r){switch(ax(t)){case 1:var i=eb;break;case 4:i=tb;break;default:i=h0}n=i.bind(null,t,n,e),i=void 0,!Rh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wd(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var g=r.stateNode.containerInfo;if(g===i||g.nodeType===8&&g.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var p=h.tag;if((p===3||p===4)&&(p=h.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;h=h.return}for(;g!==null;){if(h=Ns(g),h===null)return;if(p=h.tag,p===5||p===6){r=o=h;continue e}g=g.parentNode}}r=r.return}Hp(function(){var x=o,w=l0(n),b=[];e:{var N=wx.get(e);if(N!==void 0){var j=m0,I=e;switch(e){case"keypress":if(Tc(n)===0)break e;case"keydown":case"keyup":j=pb;break;case"focusin":I="focus",j=Rd;break;case"focusout":I="blur",j=Rd;break;case"beforeblur":case"afterblur":j=Rd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=J1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=wb;break;case gx:case px:case xx:j=ob;break;case yx:j=bb;break;case"scroll":j=nb;break;case"wheel":j=Nb;break;case"copy":case"cut":case"paste":j=cb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=tm}var S=(t&4)!==0,O=!S&&e==="scroll",T=S?N!==null?N+"Capture":null:N;S=[];for(var _=x,E;_!==null;){E=_;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,T!==null&&(R=al(_,T),R!=null&&S.push(dl(_,R,E)))),O)break;_=_.return}0<S.length&&(N=new j(N,I,null,n,w),b.push({event:N,listeners:S}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",N&&n!==Dh&&(I=n.relatedTarget||n.fromElement)&&(Ns(I)||I[ua]))break e;if((j||N)&&(N=w.window===w?w:(N=w.ownerDocument)?N.defaultView||N.parentWindow:window,j?(I=n.relatedTarget||n.toElement,j=x,I=I?Ns(I):null,I!==null&&(O=Fs(I),I!==O||I.tag!==5&&I.tag!==6)&&(I=null)):(j=null,I=x),j!==I)){if(S=J1,R="onMouseLeave",T="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(S=tm,R="onPointerLeave",T="onPointerEnter",_="pointer"),O=j==null?N:mi(j),E=I==null?N:mi(I),N=new S(R,_+"leave",j,n,w),N.target=O,N.relatedTarget=E,R=null,Ns(w)===x&&(S=new S(T,_+"enter",I,n,w),S.target=E,S.relatedTarget=O,R=S),O=R,j&&I)t:{for(S=j,T=I,_=0,E=S;E;E=Js(E))_++;for(E=0,R=T;R;R=Js(R))E++;for(;0<_-E;)S=Js(S),_--;for(;0<E-_;)T=Js(T),E--;for(;_--;){if(S===T||T!==null&&S===T.alternate)break t;S=Js(S),T=Js(T)}S=null}else S=null;j!==null&&hm(b,N,j,S,!1),I!==null&&O!==null&&hm(b,O,I,S,!0)}}e:{if(N=x?mi(x):window,j=N.nodeName&&N.nodeName.toLowerCase(),j==="select"||j==="input"&&N.type==="file")var X=jb;else if(am(N))if(ux)X=Mb;else{X=Ob;var H=Ib}else(j=N.nodeName)&&j.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(X=Db);if(X&&(X=X(e,x))){cx(b,X,n,w);break e}H&&H(e,N,x),e==="focusout"&&(H=N._wrapperState)&&H.controlled&&N.type==="number"&&Th(N,"number",N.value)}switch(H=x?mi(x):window,e){case"focusin":(am(H)||H.contentEditable==="true")&&(hi=H,Uh=x,$o=null);break;case"focusout":$o=Uh=hi=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,cm(b,n,w);break;case"selectionchange":if(Lb)break;case"keydown":case"keyup":cm(b,n,w)}var L;if(p0)e:{switch(e){case"compositionstart":var G="onCompositionStart";break e;case"compositionend":G="onCompositionEnd";break e;case"compositionupdate":G="onCompositionUpdate";break e}G=void 0}else di?ox(e,n)&&(G="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(G="onCompositionStart");G&&(ix&&n.locale!=="ko"&&(di||G!=="onCompositionStart"?G==="onCompositionEnd"&&di&&(L=sx()):(La=w,f0="value"in La?La.value:La.textContent,di=!0)),H=Hc(x,G),0<H.length&&(G=new em(G,e,null,n,w),b.push({event:G,listeners:H}),L?G.data=L:(L=lx(n),L!==null&&(G.data=L)))),(L=Sb?_b(e,n):Ab(e,n))&&(x=Hc(x,"onBeforeInput"),0<x.length&&(w=new em("onBeforeInput","beforeinput",null,n,w),b.push({event:w,listeners:x}),w.data=L))}vx(b,t)})}function dl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=al(e,n),o!=null&&r.unshift(dl(e,o,i)),o=al(e,t),o!=null&&r.push(dl(e,o,i))),e=e.return}return r}function Js(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hm(e,t,n,r,i){for(var o=t._reactName,h=[];n!==null&&n!==r;){var g=n,p=g.alternate,x=g.stateNode;if(p!==null&&p===r)break;g.tag===5&&x!==null&&(g=x,i?(p=al(n,o),p!=null&&h.unshift(dl(n,p,g))):i||(p=al(n,o),p!=null&&h.push(dl(n,p,g)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var zb=/\r\n?/g,Wb=/\u0000|\uFFFD/g;function fm(e){return(typeof e=="string"?e:""+e).replace(zb,`
`).replace(Wb,"")}function oc(e,t,n){if(t=fm(t),fm(e)!==t&&n)throw Error(ae(425))}function $c(){}var Wh=null,Vh=null;function Hh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,Vb=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,Hb=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch($b)}:$h;function $b(e){setTimeout(function(){throw e})}function Vd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),ol(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ol(t)}function Ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),Wr="__reactFiber$"+Ji,hl="__reactProps$"+Ji,ua="__reactContainer$"+Ji,Gh="__reactEvents$"+Ji,Gb="__reactListeners$"+Ji,Yb="__reactHandles$"+Ji;function Ns(e){var t=e[Wr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ua]||n[Wr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gm(e);e!==null;){if(n=e[Wr])return n;e=gm(e)}return t}e=n,n=e.parentNode}return null}function Ol(e){return e=e[Wr]||e[ua],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ae(33))}function ju(e){return e[hl]||null}var Yh=[],gi=-1;function ns(e){return{current:e}}function pt(e){0>gi||(e.current=Yh[gi],Yh[gi]=null,gi--)}function ct(e,t){gi++,Yh[gi]=e.current,e.current=t}var Za={},bn=ns(Za),Un=ns(!1),js=Za;function Li(e,t){var n=e.type.contextTypes;if(!n)return Za;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function zn(e){return e=e.childContextTypes,e!=null}function Gc(){pt(Un),pt(bn)}function pm(e,t,n){if(bn.current!==Za)throw Error(ae(168));ct(bn,t),ct(Un,n)}function Cx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ae(108,Iv(e)||"Unknown",i));return Et({},n,r)}function Yc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Za,js=bn.current,ct(bn,e),ct(Un,Un.current),!0}function xm(e,t,n){var r=e.stateNode;if(!r)throw Error(ae(169));n?(e=Cx(e,t,js),r.__reactInternalMemoizedMergedChildContext=e,pt(Un),pt(bn),ct(bn,e)):pt(Un),ct(Un,n)}var ra=null,Iu=!1,Hd=!1;function Nx(e){ra===null?ra=[e]:ra.push(e)}function Xb(e){Iu=!0,Nx(e)}function rs(){if(!Hd&&ra!==null){Hd=!0;var e=0,t=Qe;try{var n=ra;for(Qe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ra=null,Iu=!1}catch(i){throw ra!==null&&(ra=ra.slice(e+1)),Xp(c0,rs),i}finally{Qe=t,Hd=!1}}return null}var pi=[],xi=0,Xc=null,Kc=0,lr=[],cr=0,Is=null,aa=1,sa="";function ys(e,t){pi[xi++]=Kc,pi[xi++]=Xc,Xc=e,Kc=t}function Ex(e,t,n){lr[cr++]=aa,lr[cr++]=sa,lr[cr++]=Is,Is=e;var r=aa;e=sa;var i=32-Ar(r)-1;r&=~(1<<i),n+=1;var o=32-Ar(t)+i;if(30<o){var h=i-i%5;o=(r&(1<<h)-1).toString(32),r>>=h,i-=h,aa=1<<32-Ar(t)+i|n<<i|r,sa=o+e}else aa=1<<o|n<<i|r,sa=e}function y0(e){e.return!==null&&(ys(e,1),Ex(e,1,0))}function w0(e){for(;e===Xc;)Xc=pi[--xi],pi[xi]=null,Kc=pi[--xi],pi[xi]=null;for(;e===Is;)Is=lr[--cr],lr[cr]=null,sa=lr[--cr],lr[cr]=null,aa=lr[--cr],lr[cr]=null}var Jn=null,Zn=null,wt=!1,_r=null;function Sx(e,t){var n=ur(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ym(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jn=e,Zn=Ha(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jn=e,Zn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Is!==null?{id:aa,overflow:sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ur(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jn=e,Zn=null,!0):!1;default:return!1}}function Xh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kh(e){if(wt){var t=Zn;if(t){var n=t;if(!ym(e,t)){if(Xh(e))throw Error(ae(418));t=Ha(n.nextSibling);var r=Jn;t&&ym(e,t)?Sx(r,n):(e.flags=e.flags&-4097|2,wt=!1,Jn=e)}}else{if(Xh(e))throw Error(ae(418));e.flags=e.flags&-4097|2,wt=!1,Jn=e}}}function wm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jn=e}function lc(e){if(e!==Jn)return!1;if(!wt)return wm(e),wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hh(e.type,e.memoizedProps)),t&&(t=Zn)){if(Xh(e))throw _x(),Error(ae(418));for(;t;)Sx(e,t),t=Ha(t.nextSibling)}if(wm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ae(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Zn=Ha(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Zn=null}}else Zn=Jn?Ha(e.stateNode.nextSibling):null;return!0}function _x(){for(var e=Zn;e;)e=Ha(e.nextSibling)}function Bi(){Zn=Jn=null,wt=!1}function v0(e){_r===null?_r=[e]:_r.push(e)}var Kb=ma.ReactCurrentBatchConfig;function To(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(h){var g=i.refs;h===null?delete g[o]:g[o]=h},t._stringRef=o,t)}if(typeof e!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,e))}return e}function cc(e,t){throw e=Object.prototype.toString.call(t),Error(ae(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vm(e){var t=e._init;return t(e._payload)}function Ax(e){function t(T,_){if(e){var E=T.deletions;E===null?(T.deletions=[_],T.flags|=16):E.push(_)}}function n(T,_){if(!e)return null;for(;_!==null;)t(T,_),_=_.sibling;return null}function r(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Xa(T,_),T.index=0,T.sibling=null,T}function o(T,_,E){return T.index=E,e?(E=T.alternate,E!==null?(E=E.index,E<_?(T.flags|=2,_):E):(T.flags|=2,_)):(T.flags|=1048576,_)}function h(T){return e&&T.alternate===null&&(T.flags|=2),T}function g(T,_,E,R){return _===null||_.tag!==6?(_=Qd(E,T.mode,R),_.return=T,_):(_=i(_,E),_.return=T,_)}function p(T,_,E,R){var X=E.type;return X===ui?w(T,_,E.props.children,R,E.key):_!==null&&(_.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ia&&vm(X)===_.type)?(R=i(_,E.props),R.ref=To(T,_,E),R.return=T,R):(R=Rc(E.type,E.key,E.props,null,T.mode,R),R.ref=To(T,_,E),R.return=T,R)}function x(T,_,E,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==E.containerInfo||_.stateNode.implementation!==E.implementation?(_=Zd(E,T.mode,R),_.return=T,_):(_=i(_,E.children||[]),_.return=T,_)}function w(T,_,E,R,X){return _===null||_.tag!==7?(_=Ts(E,T.mode,R,X),_.return=T,_):(_=i(_,E),_.return=T,_)}function b(T,_,E){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Qd(""+_,T.mode,E),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Zl:return E=Rc(_.type,_.key,_.props,null,T.mode,E),E.ref=To(T,null,_),E.return=T,E;case ci:return _=Zd(_,T.mode,E),_.return=T,_;case Ia:var R=_._init;return b(T,R(_._payload),E)}if(Ro(_)||No(_))return _=Ts(_,T.mode,E,null),_.return=T,_;cc(T,_)}return null}function N(T,_,E,R){var X=_!==null?_.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return X!==null?null:g(T,_,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Zl:return E.key===X?p(T,_,E,R):null;case ci:return E.key===X?x(T,_,E,R):null;case Ia:return X=E._init,N(T,_,X(E._payload),R)}if(Ro(E)||No(E))return X!==null?null:w(T,_,E,R,null);cc(T,E)}return null}function j(T,_,E,R,X){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(E)||null,g(_,T,""+R,X);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zl:return T=T.get(R.key===null?E:R.key)||null,p(_,T,R,X);case ci:return T=T.get(R.key===null?E:R.key)||null,x(_,T,R,X);case Ia:var H=R._init;return j(T,_,E,H(R._payload),X)}if(Ro(R)||No(R))return T=T.get(E)||null,w(_,T,R,X,null);cc(_,R)}return null}function I(T,_,E,R){for(var X=null,H=null,L=_,G=_=0,B=null;L!==null&&G<E.length;G++){L.index>G?(B=L,L=null):B=L.sibling;var V=N(T,L,E[G],R);if(V===null){L===null&&(L=B);break}e&&L&&V.alternate===null&&t(T,L),_=o(V,_,G),H===null?X=V:H.sibling=V,H=V,L=B}if(G===E.length)return n(T,L),wt&&ys(T,G),X;if(L===null){for(;G<E.length;G++)L=b(T,E[G],R),L!==null&&(_=o(L,_,G),H===null?X=L:H.sibling=L,H=L);return wt&&ys(T,G),X}for(L=r(T,L);G<E.length;G++)B=j(L,T,G,E[G],R),B!==null&&(e&&B.alternate!==null&&L.delete(B.key===null?G:B.key),_=o(B,_,G),H===null?X=B:H.sibling=B,H=B);return e&&L.forEach(function(W){return t(T,W)}),wt&&ys(T,G),X}function S(T,_,E,R){var X=No(E);if(typeof X!="function")throw Error(ae(150));if(E=X.call(E),E==null)throw Error(ae(151));for(var H=X=null,L=_,G=_=0,B=null,V=E.next();L!==null&&!V.done;G++,V=E.next()){L.index>G?(B=L,L=null):B=L.sibling;var W=N(T,L,V.value,R);if(W===null){L===null&&(L=B);break}e&&L&&W.alternate===null&&t(T,L),_=o(W,_,G),H===null?X=W:H.sibling=W,H=W,L=B}if(V.done)return n(T,L),wt&&ys(T,G),X;if(L===null){for(;!V.done;G++,V=E.next())V=b(T,V.value,R),V!==null&&(_=o(V,_,G),H===null?X=V:H.sibling=V,H=V);return wt&&ys(T,G),X}for(L=r(T,L);!V.done;G++,V=E.next())V=j(L,T,G,V.value,R),V!==null&&(e&&V.alternate!==null&&L.delete(V.key===null?G:V.key),_=o(V,_,G),H===null?X=V:H.sibling=V,H=V);return e&&L.forEach(function(q){return t(T,q)}),wt&&ys(T,G),X}function O(T,_,E,R){if(typeof E=="object"&&E!==null&&E.type===ui&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Zl:e:{for(var X=E.key,H=_;H!==null;){if(H.key===X){if(X=E.type,X===ui){if(H.tag===7){n(T,H.sibling),_=i(H,E.props.children),_.return=T,T=_;break e}}else if(H.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Ia&&vm(X)===H.type){n(T,H.sibling),_=i(H,E.props),_.ref=To(T,H,E),_.return=T,T=_;break e}n(T,H);break}else t(T,H);H=H.sibling}E.type===ui?(_=Ts(E.props.children,T.mode,R,E.key),_.return=T,T=_):(R=Rc(E.type,E.key,E.props,null,T.mode,R),R.ref=To(T,_,E),R.return=T,T=R)}return h(T);case ci:e:{for(H=E.key;_!==null;){if(_.key===H)if(_.tag===4&&_.stateNode.containerInfo===E.containerInfo&&_.stateNode.implementation===E.implementation){n(T,_.sibling),_=i(_,E.children||[]),_.return=T,T=_;break e}else{n(T,_);break}else t(T,_);_=_.sibling}_=Zd(E,T.mode,R),_.return=T,T=_}return h(T);case Ia:return H=E._init,O(T,_,H(E._payload),R)}if(Ro(E))return I(T,_,E,R);if(No(E))return S(T,_,E,R);cc(T,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,_!==null&&_.tag===6?(n(T,_.sibling),_=i(_,E),_.return=T,T=_):(n(T,_),_=Qd(E,T.mode,R),_.return=T,T=_),h(T)):n(T,_)}return O}var Fi=Ax(!0),Tx=Ax(!1),qc=ns(null),Qc=null,yi=null,b0=null;function C0(){b0=yi=Qc=null}function N0(e){var t=qc.current;pt(qc),e._currentValue=t}function qh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ji(e,t){Qc=e,b0=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fn=!0),e.firstContext=null)}function hr(e){var t=e._currentValue;if(b0!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(Qc===null)throw Error(ae(308));yi=e,Qc.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var Es=null;function E0(e){Es===null?Es=[e]:Es.push(e)}function kx(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,E0(t)):(n.next=i.next,i.next=n),t.interleaved=n,da(e,r)}function da(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Oa=!1;function S0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $a(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,We&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,da(e,n)}return i=r.interleaved,i===null?(t.next=t,E0(r)):(t.next=i.next,i.next=t),r.interleaved=t,da(e,n)}function kc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}function bm(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=h:o=o.next=h,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zc(e,t,n,r){var i=e.updateQueue;Oa=!1;var o=i.firstBaseUpdate,h=i.lastBaseUpdate,g=i.shared.pending;if(g!==null){i.shared.pending=null;var p=g,x=p.next;p.next=null,h===null?o=x:h.next=x,h=p;var w=e.alternate;w!==null&&(w=w.updateQueue,g=w.lastBaseUpdate,g!==h&&(g===null?w.firstBaseUpdate=x:g.next=x,w.lastBaseUpdate=p))}if(o!==null){var b=i.baseState;h=0,w=x=p=null,g=o;do{var N=g.lane,j=g.eventTime;if((r&N)===N){w!==null&&(w=w.next={eventTime:j,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var I=e,S=g;switch(N=t,j=n,S.tag){case 1:if(I=S.payload,typeof I=="function"){b=I.call(j,b,N);break e}b=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=S.payload,N=typeof I=="function"?I.call(j,b,N):I,N==null)break e;b=Et({},b,N);break e;case 2:Oa=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,N=i.effects,N===null?i.effects=[g]:N.push(g))}else j={eventTime:j,lane:N,tag:g.tag,payload:g.payload,callback:g.callback,next:null},w===null?(x=w=j,p=b):w=w.next=j,h|=N;if(g=g.next,g===null){if(g=i.shared.pending,g===null)break;N=g,g=N.next,N.next=null,i.lastBaseUpdate=N,i.shared.pending=null}}while(!0);if(w===null&&(p=b),i.baseState=p,i.firstBaseUpdate=x,i.lastBaseUpdate=w,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Ds|=h,e.lanes=h,e.memoizedState=b}}function Cm(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var Dl={},Gr=ns(Dl),fl=ns(Dl),ml=ns(Dl);function Ss(e){if(e===Dl)throw Error(ae(174));return e}function _0(e,t){switch(ct(ml,t),ct(fl,e),ct(Gr,Dl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:jh(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=jh(t,e)}pt(Gr),ct(Gr,t)}function Ui(){pt(Gr),pt(fl),pt(ml)}function Ix(e){Ss(ml.current);var t=Ss(Gr.current),n=jh(t,e.type);t!==n&&(ct(fl,e),ct(Gr,n))}function A0(e){fl.current===e&&(pt(Gr),pt(fl))}var Ct=ns(0);function Jc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $d=[];function T0(){for(var e=0;e<$d.length;e++)$d[e]._workInProgressVersionPrimary=null;$d.length=0}var jc=ma.ReactCurrentDispatcher,Gd=ma.ReactCurrentBatchConfig,Os=0,Nt=null,$t=null,en=null,eu=!1,Go=!1,gl=0,qb=0;function xn(){throw Error(ae(321))}function k0(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jr(e[n],t[n]))return!1;return!0}function j0(e,t,n,r,i,o){if(Os=o,Nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,jc.current=e===null||e.memoizedState===null?eC:tC,e=n(r,i),Go){o=0;do{if(Go=!1,gl=0,25<=o)throw Error(ae(301));o+=1,en=$t=null,t.updateQueue=null,jc.current=nC,e=n(r,i)}while(Go)}if(jc.current=tu,t=$t!==null&&$t.next!==null,Os=0,en=$t=Nt=null,eu=!1,t)throw Error(ae(300));return e}function I0(){var e=gl!==0;return gl=0,e}function Ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Nt.memoizedState=en=e:en=en.next=e,en}function fr(){if($t===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var t=en===null?Nt.memoizedState:en.next;if(t!==null)en=t,$t=e;else{if(e===null)throw Error(ae(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},en===null?Nt.memoizedState=en=e:en=en.next=e}return en}function pl(e,t){return typeof t=="function"?t(e):t}function Yd(e){var t=fr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=$t,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var h=i.next;i.next=o.next,o.next=h}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var g=h=null,p=null,x=o;do{var w=x.lane;if((Os&w)===w)p!==null&&(p=p.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:e(r,x.action);else{var b={lane:w,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};p===null?(g=p=b,h=r):p=p.next=b,Nt.lanes|=w,Ds|=w}x=x.next}while(x!==null&&x!==o);p===null?h=r:p.next=g,jr(r,t.memoizedState)||(Fn=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=p,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Nt.lanes|=o,Ds|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xd(e){var t=fr(),n=t.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do o=e(o,h.action),h=h.next;while(h!==i);jr(o,t.memoizedState)||(Fn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ox(){}function Dx(e,t){var n=Nt,r=fr(),i=t(),o=!jr(r.memoizedState,i);if(o&&(r.memoizedState=i,Fn=!0),r=r.queue,O0(Px.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,xl(9,Rx.bind(null,n,r,i,t),void 0,null),tn===null)throw Error(ae(349));Os&30||Mx(n,t,i)}return i}function Mx(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rx(e,t,n,r){t.value=n,t.getSnapshot=r,Lx(t)&&Bx(e)}function Px(e,t,n){return n(function(){Lx(t)&&Bx(e)})}function Lx(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jr(e,n)}catch{return!0}}function Bx(e){var t=da(e,1);t!==null&&Tr(t,e,1,-1)}function Nm(e){var t=Ur();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t.queue=e,e=e.dispatch=Jb.bind(null,Nt,e),[t.memoizedState,e]}function xl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Nt.updateQueue,t===null?(t={lastEffect:null,stores:null},Nt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fx(){return fr().memoizedState}function Ic(e,t,n,r){var i=Ur();Nt.flags|=e,i.memoizedState=xl(1|t,n,void 0,r===void 0?null:r)}function Ou(e,t,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if($t!==null){var h=$t.memoizedState;if(o=h.destroy,r!==null&&k0(r,h.deps)){i.memoizedState=xl(t,n,o,r);return}}Nt.flags|=e,i.memoizedState=xl(1|t,n,o,r)}function Em(e,t){return Ic(8390656,8,e,t)}function O0(e,t){return Ou(2048,8,e,t)}function Ux(e,t){return Ou(4,2,e,t)}function zx(e,t){return Ou(4,4,e,t)}function Wx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vx(e,t,n){return n=n!=null?n.concat([e]):null,Ou(4,4,Wx.bind(null,t,e),n)}function D0(){}function Hx(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&k0(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $x(e,t){var n=fr();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&k0(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Gx(e,t,n){return Os&21?(jr(n,t)||(n=Qp(),Nt.lanes|=n,Ds|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fn=!0),e.memoizedState=n)}function Qb(e,t){var n=Qe;Qe=n!==0&&4>n?n:4,e(!0);var r=Gd.transition;Gd.transition={};try{e(!1),t()}finally{Qe=n,Gd.transition=r}}function Yx(){return fr().memoizedState}function Zb(e,t,n){var r=Ya(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xx(e))Kx(t,n);else if(n=kx(e,t,n,r),n!==null){var i=En();Tr(n,e,r,i),qx(n,t,r)}}function Jb(e,t,n){var r=Ya(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xx(e))Kx(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var h=t.lastRenderedState,g=o(h,n);if(i.hasEagerState=!0,i.eagerState=g,jr(g,h)){var p=t.interleaved;p===null?(i.next=i,E0(t)):(i.next=p.next,p.next=i),t.interleaved=i;return}}catch{}finally{}n=kx(e,t,i,r),n!==null&&(i=En(),Tr(n,e,r,i),qx(n,t,r))}}function Xx(e){var t=e.alternate;return e===Nt||t!==null&&t===Nt}function Kx(e,t){Go=eu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qx(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,u0(e,n)}}var tu={readContext:hr,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useInsertionEffect:xn,useLayoutEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useMutableSource:xn,useSyncExternalStore:xn,useId:xn,unstable_isNewReconciler:!1},eC={readContext:hr,useCallback:function(e,t){return Ur().memoizedState=[e,t===void 0?null:t],e},useContext:hr,useEffect:Em,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ic(4194308,4,Wx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ic(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ic(4,2,e,t)},useMemo:function(e,t){var n=Ur();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ur();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zb.bind(null,Nt,e),[r.memoizedState,e]},useRef:function(e){var t=Ur();return e={current:e},t.memoizedState=e},useState:Nm,useDebugValue:D0,useDeferredValue:function(e){return Ur().memoizedState=e},useTransition:function(){var e=Nm(!1),t=e[0];return e=Qb.bind(null,e[1]),Ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Nt,i=Ur();if(wt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=t(),tn===null)throw Error(ae(349));Os&30||Mx(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Em(Px.bind(null,r,o,e),[e]),r.flags|=2048,xl(9,Rx.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ur(),t=tn.identifierPrefix;if(wt){var n=sa,r=aa;n=(r&~(1<<32-Ar(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gl++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qb++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tC={readContext:hr,useCallback:Hx,useContext:hr,useEffect:O0,useImperativeHandle:Vx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:$x,useReducer:Yd,useRef:Fx,useState:function(){return Yd(pl)},useDebugValue:D0,useDeferredValue:function(e){var t=fr();return Gx(t,$t.memoizedState,e)},useTransition:function(){var e=Yd(pl)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:Dx,useId:Yx,unstable_isNewReconciler:!1},nC={readContext:hr,useCallback:Hx,useContext:hr,useEffect:O0,useImperativeHandle:Vx,useInsertionEffect:Ux,useLayoutEffect:zx,useMemo:$x,useReducer:Xd,useRef:Fx,useState:function(){return Xd(pl)},useDebugValue:D0,useDeferredValue:function(e){var t=fr();return $t===null?t.memoizedState=e:Gx(t,$t.memoizedState,e)},useTransition:function(){var e=Xd(pl)[0],t=fr().memoizedState;return[e,t]},useMutableSource:Ox,useSyncExternalStore:Dx,useId:Yx,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=Et({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Et({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Du={isMounted:function(e){return(e=e._reactInternals)?Fs(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=En(),i=Ya(e),o=oa(r,i);o.payload=t,n!=null&&(o.callback=n),t=$a(e,o,i),t!==null&&(Tr(t,e,i,r),kc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=En(),i=Ya(e),o=oa(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=$a(e,o,i),t!==null&&(Tr(t,e,i,r),kc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=En(),r=Ya(e),i=oa(n,r);i.tag=2,t!=null&&(i.callback=t),t=$a(e,i,r),t!==null&&(Tr(t,e,r,n),kc(t,e,r))}};function Sm(e,t,n,r,i,o,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,h):t.prototype&&t.prototype.isPureReactComponent?!cl(n,r)||!cl(i,o):!0}function Qx(e,t,n){var r=!1,i=Za,o=t.contextType;return typeof o=="object"&&o!==null?o=hr(o):(i=zn(t)?js:bn.current,r=t.contextTypes,o=(r=r!=null)?Li(e,i):Za),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Du,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function _m(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Du.enqueueReplaceState(t,t.state,null)}function Zh(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},S0(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=hr(o):(o=zn(t)?js:bn.current,i.context=Li(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Qh(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Du.enqueueReplaceState(i,i.state,null),Zc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zi(e,t){try{var n="",r=t;do n+=jv(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Kd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Jh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var rC=typeof WeakMap=="function"?WeakMap:Map;function Zx(e,t,n){n=oa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ru||(ru=!0,uf=r),Jh(e,t)},n}function Jx(e,t,n){n=oa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Jh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Jh(e,t),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function Am(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new rC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xC.bind(null,e,t,n),t.then(e,e))}function Tm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function km(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=oa(-1,1),t.tag=2,$a(n,t,1))),n.lanes|=1),e)}var aC=ma.ReactCurrentOwner,Fn=!1;function Cn(e,t,n,r){t.child=e===null?Tx(t,null,n,r):Fi(t,e.child,n,r)}function jm(e,t,n,r,i){n=n.render;var o=t.ref;return ji(t,i),r=j0(e,t,n,r,o,i),n=I0(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ha(e,t,i)):(wt&&n&&y0(t),t.flags|=1,Cn(e,t,r,i),t.child)}function Im(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!z0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ey(e,t,o,r,i)):(e=Rc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var h=o.memoizedProps;if(n=n.compare,n=n!==null?n:cl,n(h,r)&&e.ref===t.ref)return ha(e,t,i)}return t.flags|=1,e=Xa(o,r),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(cl(o,r)&&e.ref===t.ref)if(Fn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(Fn=!0);else return t.lanes=e.lanes,ha(e,t,i)}return ef(e,t,n,r,i)}function ty(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(vi,qn),qn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ct(vi,qn),qn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ct(vi,qn),qn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ct(vi,qn),qn|=r;return Cn(e,t,i,n),t.child}function ny(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ef(e,t,n,r,i){var o=zn(n)?js:bn.current;return o=Li(t,o),ji(t,i),n=j0(e,t,n,r,o,i),r=I0(),e!==null&&!Fn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ha(e,t,i)):(wt&&r&&y0(t),t.flags|=1,Cn(e,t,n,i),t.child)}function Om(e,t,n,r,i){if(zn(n)){var o=!0;Yc(t)}else o=!1;if(ji(t,i),t.stateNode===null)Oc(e,t),Qx(t,n,r),Zh(t,n,r,i),r=!0;else if(e===null){var h=t.stateNode,g=t.memoizedProps;h.props=g;var p=h.context,x=n.contextType;typeof x=="object"&&x!==null?x=hr(x):(x=zn(n)?js:bn.current,x=Li(t,x));var w=n.getDerivedStateFromProps,b=typeof w=="function"||typeof h.getSnapshotBeforeUpdate=="function";b||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==r||p!==x)&&_m(t,h,r,x),Oa=!1;var N=t.memoizedState;h.state=N,Zc(t,r,h,i),p=t.memoizedState,g!==r||N!==p||Un.current||Oa?(typeof w=="function"&&(Qh(t,n,w,r),p=t.memoizedState),(g=Oa||Sm(t,n,g,r,N,p,x))?(b||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=p),h.props=r,h.state=p,h.context=x,r=g):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,jx(e,t),g=t.memoizedProps,x=t.type===t.elementType?g:Cr(t.type,g),h.props=x,b=t.pendingProps,N=h.context,p=n.contextType,typeof p=="object"&&p!==null?p=hr(p):(p=zn(n)?js:bn.current,p=Li(t,p));var j=n.getDerivedStateFromProps;(w=typeof j=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==b||N!==p)&&_m(t,h,r,p),Oa=!1,N=t.memoizedState,h.state=N,Zc(t,r,h,i);var I=t.memoizedState;g!==b||N!==I||Un.current||Oa?(typeof j=="function"&&(Qh(t,n,j,r),I=t.memoizedState),(x=Oa||Sm(t,n,x,r,N,I,p)||!1)?(w||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,I,p),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,I,p)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=I),h.props=r,h.state=I,h.context=p,r=x):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return tf(e,t,n,r,o,i)}function tf(e,t,n,r,i,o){ny(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return i&&xm(t,n,!1),ha(e,t,o);r=t.stateNode,aC.current=t;var g=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=Fi(t,e.child,null,o),t.child=Fi(t,null,g,o)):Cn(e,t,g,o),t.memoizedState=r.state,i&&xm(t,n,!0),t.child}function ry(e){var t=e.stateNode;t.pendingContext?pm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pm(e,t.context,!1),_0(e,t.containerInfo)}function Dm(e,t,n,r,i){return Bi(),v0(i),t.flags|=256,Cn(e,t,n,r),t.child}var nf={dehydrated:null,treeContext:null,retryLane:0};function rf(e){return{baseLanes:e,cachePool:null,transitions:null}}function ay(e,t,n){var r=t.pendingProps,i=Ct.current,o=!1,h=(t.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(i&2)!==0),g?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ct(Ct,i&1),e===null)return Kh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,o?(r=t.mode,o=t.child,h={mode:"hidden",children:h},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=h):o=Pu(h,r,0,null),e=Ts(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=rf(n),t.memoizedState=nf,e):M0(t,h));if(i=e.memoizedState,i!==null&&(g=i.dehydrated,g!==null))return sC(e,t,h,r,g,i,n);if(o){o=r.fallback,h=t.mode,i=e.child,g=i.sibling;var p={mode:"hidden",children:r.children};return!(h&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=p,t.deletions=null):(r=Xa(i,p),r.subtreeFlags=i.subtreeFlags&14680064),g!==null?o=Xa(g,o):(o=Ts(o,h,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,h=e.child.memoizedState,h=h===null?rf(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},o.memoizedState=h,o.childLanes=e.childLanes&~n,t.memoizedState=nf,r}return o=e.child,e=o.sibling,r=Xa(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function M0(e,t){return t=Pu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function uc(e,t,n,r){return r!==null&&v0(r),Fi(t,e.child,null,n),e=M0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sC(e,t,n,r,i,o,h){if(n)return t.flags&256?(t.flags&=-257,r=Kd(Error(ae(422))),uc(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Pu({mode:"visible",children:r.children},i,0,null),o=Ts(o,i,h,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Fi(t,e.child,null,h),t.child.memoizedState=rf(h),t.memoizedState=nf,o);if(!(t.mode&1))return uc(e,t,h,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var g=r.dgst;return r=g,o=Error(ae(419)),r=Kd(o,r,void 0),uc(e,t,h,r)}if(g=(h&e.childLanes)!==0,Fn||g){if(r=tn,r!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|h)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,da(e,i),Tr(r,e,i,-1))}return U0(),r=Kd(Error(ae(421))),uc(e,t,h,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=yC.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Zn=Ha(i.nextSibling),Jn=t,wt=!0,_r=null,e!==null&&(lr[cr++]=aa,lr[cr++]=sa,lr[cr++]=Is,aa=e.id,sa=e.overflow,Is=t),t=M0(t,r.children),t.flags|=4096,t)}function Mm(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),qh(e.return,t,n)}function qd(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function sy(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Cn(e,t,r.children,n),r=Ct.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mm(e,n,t);else if(e.tag===19)Mm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ct(Ct,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Jc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),qd(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Jc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}qd(t,!0,n,null,o);break;case"together":qd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Oc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ha(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ds|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ae(153));if(t.child!==null){for(e=t.child,n=Xa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iC(e,t,n){switch(t.tag){case 3:ry(t),Bi();break;case 5:Ix(t);break;case 1:zn(t.type)&&Yc(t);break;case 4:_0(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ct(qc,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ct(Ct,Ct.current&1),t.flags|=128,null):n&t.child.childLanes?ay(e,t,n):(ct(Ct,Ct.current&1),e=ha(e,t,n),e!==null?e.sibling:null);ct(Ct,Ct.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return sy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(Ct,Ct.current),r)break;return null;case 22:case 23:return t.lanes=0,ty(e,t,n)}return ha(e,t,n)}var iy,af,oy,ly;iy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};af=function(){};oy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ss(Gr.current);var o=null;switch(n){case"input":i=_h(e,i),r=_h(e,r),o=[];break;case"select":i=Et({},i,{value:void 0}),r=Et({},r,{value:void 0}),o=[];break;case"textarea":i=kh(e,i),r=kh(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$c)}Ih(n,r);var h;n=null;for(x in i)if(!r.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var g=i[x];for(h in g)g.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(nl.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in r){var p=r[x];if(g=i!=null?i[x]:void 0,r.hasOwnProperty(x)&&p!==g&&(p!=null||g!=null))if(x==="style")if(g){for(h in g)!g.hasOwnProperty(h)||p&&p.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in p)p.hasOwnProperty(h)&&g[h]!==p[h]&&(n||(n={}),n[h]=p[h])}else n||(o||(o=[]),o.push(x,n)),n=p;else x==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,g=g?g.__html:void 0,p!=null&&g!==p&&(o=o||[]).push(x,p)):x==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(x,""+p):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(nl.hasOwnProperty(x)?(p!=null&&x==="onScroll"&&ft("scroll",e),o||g===p||(o=[])):(o=o||[]).push(x,p))}n&&(o=o||[]).push("style",n);var x=o;(t.updateQueue=x)&&(t.flags|=4)}};ly=function(e,t,n,r){n!==r&&(t.flags|=4)};function ko(e,t){if(!wt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function oC(e,t,n){var r=t.pendingProps;switch(w0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yn(t),null;case 1:return zn(t.type)&&Gc(),yn(t),null;case 3:return r=t.stateNode,Ui(),pt(Un),pt(bn),T0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(lc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,_r!==null&&(ff(_r),_r=null))),af(e,t),yn(t),null;case 5:A0(t);var i=Ss(ml.current);if(n=t.type,e!==null&&t.stateNode!=null)oy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ae(166));return yn(t),null}if(e=Ss(Gr.current),lc(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Wr]=t,r[hl]=o,e=(t.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Lo.length;i++)ft(Lo[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":V1(r,o),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ft("invalid",r);break;case"textarea":$1(r,o),ft("invalid",r)}Ih(n,o),i=null;for(var h in o)if(o.hasOwnProperty(h)){var g=o[h];h==="children"?typeof g=="string"?r.textContent!==g&&(o.suppressHydrationWarning!==!0&&oc(r.textContent,g,e),i=["children",g]):typeof g=="number"&&r.textContent!==""+g&&(o.suppressHydrationWarning!==!0&&oc(r.textContent,g,e),i=["children",""+g]):nl.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&ft("scroll",r)}switch(n){case"input":Jl(r),H1(r,o,!0);break;case"textarea":Jl(r),G1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=$c)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Pp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Wr]=t,e[hl]=r,iy(e,t,!1,!1),t.stateNode=e;e:{switch(h=Oh(n,r),n){case"dialog":ft("cancel",e),ft("close",e),i=r;break;case"iframe":case"object":case"embed":ft("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lo.length;i++)ft(Lo[i],e);i=r;break;case"source":ft("error",e),i=r;break;case"img":case"image":case"link":ft("error",e),ft("load",e),i=r;break;case"details":ft("toggle",e),i=r;break;case"input":V1(e,r),i=_h(e,r),ft("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Et({},r,{value:void 0}),ft("invalid",e);break;case"textarea":$1(e,r),i=kh(e,r),ft("invalid",e);break;default:i=r}Ih(n,i),g=i;for(o in g)if(g.hasOwnProperty(o)){var p=g[o];o==="style"?Fp(e,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&Lp(e,p)):o==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&rl(e,p):typeof p=="number"&&rl(e,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(nl.hasOwnProperty(o)?p!=null&&o==="onScroll"&&ft("scroll",e):p!=null&&a0(e,o,p,h))}switch(n){case"input":Jl(e),H1(e,r,!1);break;case"textarea":Jl(e),G1(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qa(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?_i(e,!!r.multiple,o,!1):r.defaultValue!=null&&_i(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=$c)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return yn(t),null;case 6:if(e&&t.stateNode!=null)ly(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ae(166));if(n=Ss(ml.current),Ss(Gr.current),lc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Wr]=t,(o=r.nodeValue!==n)&&(e=Jn,e!==null))switch(e.tag){case 3:oc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oc(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=t,t.stateNode=r}return yn(t),null;case 13:if(pt(Ct),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(wt&&Zn!==null&&t.mode&1&&!(t.flags&128))_x(),Bi(),t.flags|=98560,o=!1;else if(o=lc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(ae(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ae(317));o[Wr]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;yn(t),o=!1}else _r!==null&&(ff(_r),_r=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?Gt===0&&(Gt=3):U0())),t.updateQueue!==null&&(t.flags|=4),yn(t),null);case 4:return Ui(),af(e,t),e===null&&ul(t.stateNode.containerInfo),yn(t),null;case 10:return N0(t.type._context),yn(t),null;case 17:return zn(t.type)&&Gc(),yn(t),null;case 19:if(pt(Ct),o=t.memoizedState,o===null)return yn(t),null;if(r=(t.flags&128)!==0,h=o.rendering,h===null)if(r)ko(o,!1);else{if(Gt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=Jc(e),h!==null){for(t.flags|=128,ko(o,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,h=o.alternate,h===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,e=h.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ct(Ct,Ct.current&1|2),t.child}e=e.sibling}o.tail!==null&&Rt()>Wi&&(t.flags|=128,r=!0,ko(o,!1),t.lanes=4194304)}else{if(!r)if(e=Jc(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!wt)return yn(t),null}else 2*Rt()-o.renderingStartTime>Wi&&n!==1073741824&&(t.flags|=128,r=!0,ko(o,!1),t.lanes=4194304);o.isBackwards?(h.sibling=t.child,t.child=h):(n=o.last,n!==null?n.sibling=h:t.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Rt(),t.sibling=null,n=Ct.current,ct(Ct,r?n&1|2:n&1),t):(yn(t),null);case 22:case 23:return F0(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qn&1073741824&&(yn(t),t.subtreeFlags&6&&(t.flags|=8192)):yn(t),null;case 24:return null;case 25:return null}throw Error(ae(156,t.tag))}function lC(e,t){switch(w0(t),t.tag){case 1:return zn(t.type)&&Gc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),pt(Un),pt(bn),T0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return A0(t),null;case 13:if(pt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ae(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ct),null;case 4:return Ui(),null;case 10:return N0(t.type._context),null;case 22:case 23:return F0(),null;case 24:return null;default:return null}}var dc=!1,wn=!1,cC=typeof WeakSet=="function"?WeakSet:Set,me=null;function wi(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(e,t,r)}else n.current=null}function sf(e,t,n){try{n()}catch(r){jt(e,t,r)}}var Rm=!1;function uC(e,t){if(Wh=Wc,e=fx(),x0(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var h=0,g=-1,p=-1,x=0,w=0,b=e,N=null;t:for(;;){for(var j;b!==n||i!==0&&b.nodeType!==3||(g=h+i),b!==o||r!==0&&b.nodeType!==3||(p=h+r),b.nodeType===3&&(h+=b.nodeValue.length),(j=b.firstChild)!==null;)N=b,b=j;for(;;){if(b===e)break t;if(N===n&&++x===i&&(g=h),N===o&&++w===r&&(p=h),(j=b.nextSibling)!==null)break;b=N,N=b.parentNode}b=j}n=g===-1||p===-1?null:{start:g,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vh={focusedElem:e,selectionRange:n},Wc=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){t=me;try{var I=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var S=I.memoizedProps,O=I.memoizedState,T=t.stateNode,_=T.getSnapshotBeforeUpdate(t.elementType===t.type?S:Cr(t.type,S),O);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(R){jt(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}return I=Rm,Rm=!1,I}function Yo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&sf(t,n,o)}i=i.next}while(i!==r)}}function Mu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function of(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cy(e){var t=e.alternate;t!==null&&(e.alternate=null,cy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Wr],delete t[hl],delete t[Gh],delete t[Gb],delete t[Yb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uy(e){return e.tag===5||e.tag===3||e.tag===4}function Pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$c));else if(r!==4&&(e=e.child,e!==null))for(lf(e,t,n),e=e.sibling;e!==null;)lf(e,t,n),e=e.sibling}function cf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cf(e,t,n),e=e.sibling;e!==null;)cf(e,t,n),e=e.sibling}var cn=null,Nr=!1;function _a(e,t,n){for(n=n.child;n!==null;)dy(e,t,n),n=n.sibling}function dy(e,t,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(_u,n)}catch{}switch(n.tag){case 5:wn||wi(n,t);case 6:var r=cn,i=Nr;cn=null,_a(e,t,n),cn=r,Nr=i,cn!==null&&(Nr?(e=cn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):cn.removeChild(n.stateNode));break;case 18:cn!==null&&(Nr?(e=cn,n=n.stateNode,e.nodeType===8?Vd(e.parentNode,n):e.nodeType===1&&Vd(e,n),ol(e)):Vd(cn,n.stateNode));break;case 4:r=cn,i=Nr,cn=n.stateNode.containerInfo,Nr=!0,_a(e,t,n),cn=r,Nr=i;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,h=o.destroy;o=o.tag,h!==void 0&&(o&2||o&4)&&sf(n,t,h),i=i.next}while(i!==r)}_a(e,t,n);break;case 1:if(!wn&&(wi(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(g){jt(n,t,g)}_a(e,t,n);break;case 21:_a(e,t,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,_a(e,t,n),wn=r):_a(e,t,n);break;default:_a(e,t,n)}}function Lm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cC),t.forEach(function(r){var i=wC.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,h=t,g=h;e:for(;g!==null;){switch(g.tag){case 5:cn=g.stateNode,Nr=!1;break e;case 3:cn=g.stateNode.containerInfo,Nr=!0;break e;case 4:cn=g.stateNode.containerInfo,Nr=!0;break e}g=g.return}if(cn===null)throw Error(ae(160));dy(o,h,i),cn=null,Nr=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(x){jt(i,t,x)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hy(t,e),t=t.sibling}function hy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vr(t,e),Br(e),r&4){try{Yo(3,e,e.return),Mu(3,e)}catch(S){jt(e,e.return,S)}try{Yo(5,e,e.return)}catch(S){jt(e,e.return,S)}}break;case 1:vr(t,e),Br(e),r&512&&n!==null&&wi(n,n.return);break;case 5:if(vr(t,e),Br(e),r&512&&n!==null&&wi(n,n.return),e.flags&32){var i=e.stateNode;try{rl(i,"")}catch(S){jt(e,e.return,S)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,h=n!==null?n.memoizedProps:o,g=e.type,p=e.updateQueue;if(e.updateQueue=null,p!==null)try{g==="input"&&o.type==="radio"&&o.name!=null&&Mp(i,o),Oh(g,h);var x=Oh(g,o);for(h=0;h<p.length;h+=2){var w=p[h],b=p[h+1];w==="style"?Fp(i,b):w==="dangerouslySetInnerHTML"?Lp(i,b):w==="children"?rl(i,b):a0(i,w,b,x)}switch(g){case"input":Ah(i,o);break;case"textarea":Rp(i,o);break;case"select":var N=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?_i(i,!!o.multiple,j,!1):N!==!!o.multiple&&(o.defaultValue!=null?_i(i,!!o.multiple,o.defaultValue,!0):_i(i,!!o.multiple,o.multiple?[]:"",!1))}i[hl]=o}catch(S){jt(e,e.return,S)}}break;case 6:if(vr(t,e),Br(e),r&4){if(e.stateNode===null)throw Error(ae(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(S){jt(e,e.return,S)}}break;case 3:if(vr(t,e),Br(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(t.containerInfo)}catch(S){jt(e,e.return,S)}break;case 4:vr(t,e),Br(e);break;case 13:vr(t,e),Br(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(L0=Rt())),r&4&&Lm(e);break;case 22:if(w=n!==null&&n.memoizedState!==null,e.mode&1?(wn=(x=wn)||w,vr(t,e),wn=x):vr(t,e),Br(e),r&8192){if(x=e.memoizedState!==null,(e.stateNode.isHidden=x)&&!w&&e.mode&1)for(me=e,w=e.child;w!==null;){for(b=me=w;me!==null;){switch(N=me,j=N.child,N.tag){case 0:case 11:case 14:case 15:Yo(4,N,N.return);break;case 1:wi(N,N.return);var I=N.stateNode;if(typeof I.componentWillUnmount=="function"){r=N,n=N.return;try{t=r,I.props=t.memoizedProps,I.state=t.memoizedState,I.componentWillUnmount()}catch(S){jt(r,n,S)}}break;case 5:wi(N,N.return);break;case 22:if(N.memoizedState!==null){Fm(b);continue}}j!==null?(j.return=N,me=j):Fm(b)}w=w.sibling}e:for(w=null,b=e;;){if(b.tag===5){if(w===null){w=b;try{i=b.stateNode,x?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(g=b.stateNode,p=b.memoizedProps.style,h=p!=null&&p.hasOwnProperty("display")?p.display:null,g.style.display=Bp("display",h))}catch(S){jt(e,e.return,S)}}}else if(b.tag===6){if(w===null)try{b.stateNode.nodeValue=x?"":b.memoizedProps}catch(S){jt(e,e.return,S)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;w===b&&(w=null),b=b.return}w===b&&(w=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:vr(t,e),Br(e),r&4&&Lm(e);break;case 21:break;default:vr(t,e),Br(e)}}function Br(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uy(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rl(i,""),r.flags&=-33);var o=Pm(e);cf(e,o,i);break;case 3:case 4:var h=r.stateNode.containerInfo,g=Pm(e);lf(e,g,h);break;default:throw Error(ae(161))}}catch(p){jt(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function dC(e,t,n){me=e,fy(e)}function fy(e,t,n){for(var r=(e.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var h=i.memoizedState!==null||dc;if(!h){var g=i.alternate,p=g!==null&&g.memoizedState!==null||wn;g=dc;var x=wn;if(dc=h,(wn=p)&&!x)for(me=i;me!==null;)h=me,p=h.child,h.tag===22&&h.memoizedState!==null?Um(i):p!==null?(p.return=h,me=p):Um(i);for(;o!==null;)me=o,fy(o),o=o.sibling;me=i,dc=g,wn=x}Bm(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,me=o):Bm(e)}}function Bm(e){for(;me!==null;){var t=me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wn||Mu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!wn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Cr(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Cm(t,o,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Cm(t,h,n)}break;case 5:var g=t.stateNode;if(n===null&&t.flags&4){n=g;var p=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var x=t.alternate;if(x!==null){var w=x.memoizedState;if(w!==null){var b=w.dehydrated;b!==null&&ol(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}wn||t.flags&512&&of(t)}catch(N){jt(t,t.return,N)}}if(t===e){me=null;break}if(n=t.sibling,n!==null){n.return=t.return,me=n;break}me=t.return}}function Fm(e){for(;me!==null;){var t=me;if(t===e){me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,me=n;break}me=t.return}}function Um(e){for(;me!==null;){var t=me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mu(4,t)}catch(p){jt(t,n,p)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(p){jt(t,i,p)}}var o=t.return;try{of(t)}catch(p){jt(t,o,p)}break;case 5:var h=t.return;try{of(t)}catch(p){jt(t,h,p)}}}catch(p){jt(t,t.return,p)}if(t===e){me=null;break}var g=t.sibling;if(g!==null){g.return=t.return,me=g;break}me=t.return}}var hC=Math.ceil,nu=ma.ReactCurrentDispatcher,R0=ma.ReactCurrentOwner,dr=ma.ReactCurrentBatchConfig,We=0,tn=null,Ft=null,un=0,qn=0,vi=ns(0),Gt=0,yl=null,Ds=0,Ru=0,P0=0,Xo=null,Ln=null,L0=0,Wi=1/0,ea=null,ru=!1,uf=null,Ga=null,hc=!1,Ba=null,au=0,Ko=0,df=null,Dc=-1,Mc=0;function En(){return We&6?Rt():Dc!==-1?Dc:Dc=Rt()}function Ya(e){return e.mode&1?We&2&&un!==0?un&-un:Kb.transition!==null?(Mc===0&&(Mc=Qp()),Mc):(e=Qe,e!==0||(e=window.event,e=e===void 0?16:ax(e.type)),e):1}function Tr(e,t,n,r){if(50<Ko)throw Ko=0,df=null,Error(ae(185));jl(e,n,r),(!(We&2)||e!==tn)&&(e===tn&&(!(We&2)&&(Ru|=n),Gt===4&&Ma(e,un)),Wn(e,r),n===1&&We===0&&!(t.mode&1)&&(Wi=Rt()+500,Iu&&rs()))}function Wn(e,t){var n=e.callbackNode;Kv(e,t);var r=zc(e,e===tn?un:0);if(r===0)n!==null&&K1(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&K1(n),t===1)e.tag===0?Xb(zm.bind(null,e)):Nx(zm.bind(null,e)),Hb(function(){!(We&6)&&rs()}),n=null;else{switch(Zp(r)){case 1:n=c0;break;case 4:n=Kp;break;case 16:n=Uc;break;case 536870912:n=qp;break;default:n=Uc}n=by(n,my.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function my(e,t){if(Dc=-1,Mc=0,We&6)throw Error(ae(327));var n=e.callbackNode;if(Ii()&&e.callbackNode!==n)return null;var r=zc(e,e===tn?un:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=su(e,r);else{t=r;var i=We;We|=2;var o=py();(tn!==e||un!==t)&&(ea=null,Wi=Rt()+500,As(e,t));do try{gC();break}catch(g){gy(e,g)}while(!0);C0(),nu.current=o,We=i,Ft!==null?t=0:(tn=null,un=0,t=Gt)}if(t!==0){if(t===2&&(i=Lh(e),i!==0&&(r=i,t=hf(e,i))),t===1)throw n=yl,As(e,0),Ma(e,r),Wn(e,Rt()),n;if(t===6)Ma(e,r);else{if(i=e.current.alternate,!(r&30)&&!fC(i)&&(t=su(e,r),t===2&&(o=Lh(e),o!==0&&(r=o,t=hf(e,o))),t===1))throw n=yl,As(e,0),Ma(e,r),Wn(e,Rt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ae(345));case 2:ws(e,Ln,ea);break;case 3:if(Ma(e,r),(r&130023424)===r&&(t=L0+500-Rt(),10<t)){if(zc(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){En(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$h(ws.bind(null,e,Ln,ea),t);break}ws(e,Ln,ea);break;case 4:if(Ma(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var h=31-Ar(r);o=1<<h,h=t[h],h>i&&(i=h),r&=~o}if(r=i,r=Rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*hC(r/1960))-r,10<r){e.timeoutHandle=$h(ws.bind(null,e,Ln,ea),r);break}ws(e,Ln,ea);break;case 5:ws(e,Ln,ea);break;default:throw Error(ae(329))}}}return Wn(e,Rt()),e.callbackNode===n?my.bind(null,e):null}function hf(e,t){var n=Xo;return e.current.memoizedState.isDehydrated&&(As(e,t).flags|=256),e=su(e,t),e!==2&&(t=Ln,Ln=n,t!==null&&ff(t)),e}function ff(e){Ln===null?Ln=e:Ln.push.apply(Ln,e)}function fC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!jr(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ma(e,t){for(t&=~P0,t&=~Ru,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ar(t),r=1<<n;e[n]=-1,t&=~r}}function zm(e){if(We&6)throw Error(ae(327));Ii();var t=zc(e,0);if(!(t&1))return Wn(e,Rt()),null;var n=su(e,t);if(e.tag!==0&&n===2){var r=Lh(e);r!==0&&(t=r,n=hf(e,r))}if(n===1)throw n=yl,As(e,0),Ma(e,t),Wn(e,Rt()),n;if(n===6)throw Error(ae(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ws(e,Ln,ea),Wn(e,Rt()),null}function B0(e,t){var n=We;We|=1;try{return e(t)}finally{We=n,We===0&&(Wi=Rt()+500,Iu&&rs())}}function Ms(e){Ba!==null&&Ba.tag===0&&!(We&6)&&Ii();var t=We;We|=1;var n=dr.transition,r=Qe;try{if(dr.transition=null,Qe=1,e)return e()}finally{Qe=r,dr.transition=n,We=t,!(We&6)&&rs()}}function F0(){qn=vi.current,pt(vi)}function As(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vb(n)),Ft!==null)for(n=Ft.return;n!==null;){var r=n;switch(w0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gc();break;case 3:Ui(),pt(Un),pt(bn),T0();break;case 5:A0(r);break;case 4:Ui();break;case 13:pt(Ct);break;case 19:pt(Ct);break;case 10:N0(r.type._context);break;case 22:case 23:F0()}n=n.return}if(tn=e,Ft=e=Xa(e.current,null),un=qn=t,Gt=0,yl=null,P0=Ru=Ds=0,Ln=Xo=null,Es!==null){for(t=0;t<Es.length;t++)if(n=Es[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var h=o.next;o.next=i,r.next=h}n.pending=r}Es=null}return e}function gy(e,t){do{var n=Ft;try{if(C0(),jc.current=tu,eu){for(var r=Nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eu=!1}if(Os=0,en=$t=Nt=null,Go=!1,gl=0,R0.current=null,n===null||n.return===null){Gt=1,yl=t,Ft=null;break}e:{var o=e,h=n.return,g=n,p=t;if(t=un,g.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var x=p,w=g,b=w.tag;if(!(w.mode&1)&&(b===0||b===11||b===15)){var N=w.alternate;N?(w.updateQueue=N.updateQueue,w.memoizedState=N.memoizedState,w.lanes=N.lanes):(w.updateQueue=null,w.memoizedState=null)}var j=Tm(h);if(j!==null){j.flags&=-257,km(j,h,g,o,t),j.mode&1&&Am(o,x,t),t=j,p=x;var I=t.updateQueue;if(I===null){var S=new Set;S.add(p),t.updateQueue=S}else I.add(p);break e}else{if(!(t&1)){Am(o,x,t),U0();break e}p=Error(ae(426))}}else if(wt&&g.mode&1){var O=Tm(h);if(O!==null){!(O.flags&65536)&&(O.flags|=256),km(O,h,g,o,t),v0(zi(p,g));break e}}o=p=zi(p,g),Gt!==4&&(Gt=2),Xo===null?Xo=[o]:Xo.push(o),o=h;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var T=Zx(o,p,t);bm(o,T);break e;case 1:g=p;var _=o.type,E=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Ga===null||!Ga.has(E)))){o.flags|=65536,t&=-t,o.lanes|=t;var R=Jx(o,g,t);bm(o,R);break e}}o=o.return}while(o!==null)}yy(n)}catch(X){t=X,Ft===n&&n!==null&&(Ft=n=n.return);continue}break}while(!0)}function py(){var e=nu.current;return nu.current=tu,e===null?tu:e}function U0(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),tn===null||!(Ds&268435455)&&!(Ru&268435455)||Ma(tn,un)}function su(e,t){var n=We;We|=2;var r=py();(tn!==e||un!==t)&&(ea=null,As(e,t));do try{mC();break}catch(i){gy(e,i)}while(!0);if(C0(),We=n,nu.current=r,Ft!==null)throw Error(ae(261));return tn=null,un=0,Gt}function mC(){for(;Ft!==null;)xy(Ft)}function gC(){for(;Ft!==null&&!Uv();)xy(Ft)}function xy(e){var t=vy(e.alternate,e,qn);e.memoizedProps=e.pendingProps,t===null?yy(e):Ft=t,R0.current=null}function yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=lC(n,t),n!==null){n.flags&=32767,Ft=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Gt=6,Ft=null;return}}else if(n=oC(n,t,qn),n!==null){Ft=n;return}if(t=t.sibling,t!==null){Ft=t;return}Ft=t=e}while(t!==null);Gt===0&&(Gt=5)}function ws(e,t,n){var r=Qe,i=dr.transition;try{dr.transition=null,Qe=1,pC(e,t,n,r)}finally{dr.transition=i,Qe=r}return null}function pC(e,t,n,r){do Ii();while(Ba!==null);if(We&6)throw Error(ae(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ae(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(qv(e,o),e===tn&&(Ft=tn=null,un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hc||(hc=!0,by(Uc,function(){return Ii(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=dr.transition,dr.transition=null;var h=Qe;Qe=1;var g=We;We|=4,R0.current=null,uC(e,n),hy(n,e),Pb(Vh),Wc=!!Wh,Vh=Wh=null,e.current=n,dC(n),zv(),We=g,Qe=h,dr.transition=o}else e.current=n;if(hc&&(hc=!1,Ba=e,au=i),o=e.pendingLanes,o===0&&(Ga=null),Hv(n.stateNode),Wn(e,Rt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ru)throw ru=!1,e=uf,uf=null,e;return au&1&&e.tag!==0&&Ii(),o=e.pendingLanes,o&1?e===df?Ko++:(Ko=0,df=e):Ko=0,rs(),null}function Ii(){if(Ba!==null){var e=Zp(au),t=dr.transition,n=Qe;try{if(dr.transition=null,Qe=16>e?16:e,Ba===null)var r=!1;else{if(e=Ba,Ba=null,au=0,We&6)throw Error(ae(331));var i=We;for(We|=4,me=e.current;me!==null;){var o=me,h=o.child;if(me.flags&16){var g=o.deletions;if(g!==null){for(var p=0;p<g.length;p++){var x=g[p];for(me=x;me!==null;){var w=me;switch(w.tag){case 0:case 11:case 15:Yo(8,w,o)}var b=w.child;if(b!==null)b.return=w,me=b;else for(;me!==null;){w=me;var N=w.sibling,j=w.return;if(cy(w),w===x){me=null;break}if(N!==null){N.return=j,me=N;break}me=j}}}var I=o.alternate;if(I!==null){var S=I.child;if(S!==null){I.child=null;do{var O=S.sibling;S.sibling=null,S=O}while(S!==null)}}me=o}}if(o.subtreeFlags&2064&&h!==null)h.return=o,me=h;else e:for(;me!==null;){if(o=me,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Yo(9,o,o.return)}var T=o.sibling;if(T!==null){T.return=o.return,me=T;break e}me=o.return}}var _=e.current;for(me=_;me!==null;){h=me;var E=h.child;if(h.subtreeFlags&2064&&E!==null)E.return=h,me=E;else e:for(h=_;me!==null;){if(g=me,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Mu(9,g)}}catch(X){jt(g,g.return,X)}if(g===h){me=null;break e}var R=g.sibling;if(R!==null){R.return=g.return,me=R;break e}me=g.return}}if(We=i,rs(),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(_u,e)}catch{}r=!0}return r}finally{Qe=n,dr.transition=t}}return!1}function Wm(e,t,n){t=zi(n,t),t=Zx(e,t,1),e=$a(e,t,1),t=En(),e!==null&&(jl(e,1,t),Wn(e,t))}function jt(e,t,n){if(e.tag===3)Wm(e,e,n);else for(;t!==null;){if(t.tag===3){Wm(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ga===null||!Ga.has(r))){e=zi(n,e),e=Jx(t,e,1),t=$a(t,e,1),e=En(),t!==null&&(jl(t,1,e),Wn(t,e));break}}t=t.return}}function xC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&n,tn===e&&(un&n)===n&&(Gt===4||Gt===3&&(un&130023424)===un&&500>Rt()-L0?As(e,0):P0|=n),Wn(e,t)}function wy(e,t){t===0&&(e.mode&1?(t=nc,nc<<=1,!(nc&130023424)&&(nc=4194304)):t=1);var n=En();e=da(e,t),e!==null&&(jl(e,t,n),Wn(e,n))}function yC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wy(e,n)}function wC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(t),wy(e,n)}var vy;vy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Un.current)Fn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fn=!1,iC(e,t,n);Fn=!!(e.flags&131072)}else Fn=!1,wt&&t.flags&1048576&&Ex(t,Kc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Oc(e,t),e=t.pendingProps;var i=Li(t,bn.current);ji(t,n),i=j0(null,t,r,e,i,n);var o=I0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,zn(r)?(o=!0,Yc(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,S0(t),i.updater=Du,t.stateNode=i,i._reactInternals=t,Zh(t,r,e,n),t=tf(null,t,r,!0,o,n)):(t.tag=0,wt&&o&&y0(t),Cn(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Oc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=bC(r),e=Cr(r,e),i){case 0:t=ef(null,t,r,e,n);break e;case 1:t=Om(null,t,r,e,n);break e;case 11:t=jm(null,t,r,e,n);break e;case 14:t=Im(null,t,r,Cr(r.type,e),n);break e}throw Error(ae(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),ef(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),Om(e,t,r,i,n);case 3:e:{if(ry(t),e===null)throw Error(ae(387));r=t.pendingProps,o=t.memoizedState,i=o.element,jx(e,t),Zc(t,r,null,n);var h=t.memoizedState;if(r=h.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=zi(Error(ae(423)),t),t=Dm(e,t,r,n,i);break e}else if(r!==i){i=zi(Error(ae(424)),t),t=Dm(e,t,r,n,i);break e}else for(Zn=Ha(t.stateNode.containerInfo.firstChild),Jn=t,wt=!0,_r=null,n=Tx(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bi(),r===i){t=ha(e,t,n);break e}Cn(e,t,r,n)}t=t.child}return t;case 5:return Ix(t),e===null&&Kh(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,h=i.children,Hh(r,i)?h=null:o!==null&&Hh(r,o)&&(t.flags|=32),ny(e,t),Cn(e,t,h,n),t.child;case 6:return e===null&&Kh(t),null;case 13:return ay(e,t,n);case 4:return _0(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Fi(t,null,r,n):Cn(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),jm(e,t,r,i,n);case 7:return Cn(e,t,t.pendingProps,n),t.child;case 8:return Cn(e,t,t.pendingProps.children,n),t.child;case 12:return Cn(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,h=i.value,ct(qc,r._currentValue),r._currentValue=h,o!==null)if(jr(o.value,h)){if(o.children===i.children&&!Un.current){t=ha(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var g=o.dependencies;if(g!==null){h=o.child;for(var p=g.firstContext;p!==null;){if(p.context===r){if(o.tag===1){p=oa(-1,n&-n),p.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var w=x.pending;w===null?p.next=p:(p.next=w.next,w.next=p),x.pending=p}}o.lanes|=n,p=o.alternate,p!==null&&(p.lanes|=n),qh(o.return,n,t),g.lanes|=n;break}p=p.next}}else if(o.tag===10)h=o.type===t.type?null:o.child;else if(o.tag===18){if(h=o.return,h===null)throw Error(ae(341));h.lanes|=n,g=h.alternate,g!==null&&(g.lanes|=n),qh(h,n,t),h=o.sibling}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===t){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}Cn(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ji(t,n),i=hr(i),r=r(i),t.flags|=1,Cn(e,t,r,n),t.child;case 14:return r=t.type,i=Cr(r,t.pendingProps),i=Cr(r.type,i),Im(e,t,r,i,n);case 15:return ey(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Cr(r,i),Oc(e,t),t.tag=1,zn(r)?(e=!0,Yc(t)):e=!1,ji(t,n),Qx(t,r,i),Zh(t,r,i,n),tf(null,t,r,!0,e,n);case 19:return sy(e,t,n);case 22:return ty(e,t,n)}throw Error(ae(156,t.tag))};function by(e,t){return Xp(e,t)}function vC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(e,t,n,r){return new vC(e,t,n,r)}function z0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bC(e){if(typeof e=="function")return z0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===i0)return 11;if(e===o0)return 14}return 2}function Xa(e,t){var n=e.alternate;return n===null?(n=ur(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,o){var h=2;if(r=e,typeof e=="function")z0(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case ui:return Ts(n.children,i,o,t);case s0:h=8,i|=8;break;case Ch:return e=ur(12,n,t,i|2),e.elementType=Ch,e.lanes=o,e;case Nh:return e=ur(13,n,t,i),e.elementType=Nh,e.lanes=o,e;case Eh:return e=ur(19,n,t,i),e.elementType=Eh,e.lanes=o,e;case Ip:return Pu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case kp:h=10;break e;case jp:h=9;break e;case i0:h=11;break e;case o0:h=14;break e;case Ia:h=16,r=null;break e}throw Error(ae(130,e==null?e:typeof e,""))}return t=ur(h,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ts(e,t,n,r){return e=ur(7,e,r,t),e.lanes=n,e}function Pu(e,t,n,r){return e=ur(22,e,r,t),e.elementType=Ip,e.lanes=n,e.stateNode={isHidden:!1},e}function Qd(e,t,n){return e=ur(6,e,null,t),e.lanes=n,e}function Zd(e,t,n){return t=ur(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CC(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Od(0),this.expirationTimes=Od(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Od(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function W0(e,t,n,r,i,o,h,g,p){return e=new CC(e,t,n,g,p),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ur(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},S0(o),e}function NC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ci,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cy(e){if(!e)return Za;e=e._reactInternals;e:{if(Fs(e)!==e||e.tag!==1)throw Error(ae(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(zn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ae(171))}if(e.tag===1){var n=e.type;if(zn(n))return Cx(e,n,t)}return t}function Ny(e,t,n,r,i,o,h,g,p){return e=W0(n,r,!0,e,i,o,h,g,p),e.context=Cy(null),n=e.current,r=En(),i=Ya(n),o=oa(r,i),o.callback=t??null,$a(n,o,i),e.current.lanes=i,jl(e,i,r),Wn(e,r),e}function Lu(e,t,n,r){var i=t.current,o=En(),h=Ya(i);return n=Cy(n),t.context===null?t.context=n:t.pendingContext=n,t=oa(o,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$a(i,t,h),e!==null&&(Tr(e,i,h,o),kc(e,i,h)),h}function iu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function V0(e,t){Vm(e,t),(e=e.alternate)&&Vm(e,t)}function EC(){return null}var Ey=typeof reportError=="function"?reportError:function(e){console.error(e)};function H0(e){this._internalRoot=e}Bu.prototype.render=H0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ae(409));Lu(e,t,null,null)};Bu.prototype.unmount=H0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ms(function(){Lu(null,e,null,null)}),t[ua]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=tx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Da.length&&t!==0&&t<Da[n].priority;n++);Da.splice(n,0,e),n===0&&rx(e)}};function $0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function SC(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var x=iu(h);o.call(x)}}var h=Ny(t,r,e,0,null,!1,!1,"",Hm);return e._reactRootContainer=h,e[ua]=h.current,ul(e.nodeType===8?e.parentNode:e),Ms(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var g=r;r=function(){var x=iu(p);g.call(x)}}var p=W0(e,0,!1,null,null,!1,!1,"",Hm);return e._reactRootContainer=p,e[ua]=p.current,ul(e.nodeType===8?e.parentNode:e),Ms(function(){Lu(t,p,n,r)}),p}function Uu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var h=o;if(typeof i=="function"){var g=i;i=function(){var p=iu(h);g.call(p)}}Lu(t,h,e,i)}else h=SC(n,t,e,i,r);return iu(h)}Jp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Po(t.pendingLanes);n!==0&&(u0(t,n|1),Wn(t,Rt()),!(We&6)&&(Wi=Rt()+500,rs()))}break;case 13:Ms(function(){var r=da(e,1);if(r!==null){var i=En();Tr(r,e,1,i)}}),V0(e,1)}};d0=function(e){if(e.tag===13){var t=da(e,134217728);if(t!==null){var n=En();Tr(t,e,134217728,n)}V0(e,134217728)}};ex=function(e){if(e.tag===13){var t=Ya(e),n=da(e,t);if(n!==null){var r=En();Tr(n,e,t,r)}V0(e,t)}};tx=function(){return Qe};nx=function(e,t){var n=Qe;try{return Qe=e,t()}finally{Qe=n}};Mh=function(e,t,n){switch(t){case"input":if(Ah(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ju(r);if(!i)throw Error(ae(90));Dp(r),Ah(r,i)}}}break;case"textarea":Rp(e,n);break;case"select":t=n.value,t!=null&&_i(e,!!n.multiple,t,!1)}};Wp=B0;Vp=Ms;var _C={usingClientEntryPoint:!1,Events:[Ol,mi,ju,Up,zp,B0]},jo={findFiberByHostInstance:Ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AC={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ma.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Gp(e),e===null?null:e.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||EC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_u=fc.inject(AC),$r=fc}catch{}}tr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C;tr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$0(t))throw Error(ae(200));return NC(e,t,null,n)};tr.createRoot=function(e,t){if(!$0(e))throw Error(ae(299));var n=!1,r="",i=Ey;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=W0(e,1,!1,null,null,n,!1,r,i),e[ua]=t.current,ul(e.nodeType===8?e.parentNode:e),new H0(t)};tr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ae(188)):(e=Object.keys(e).join(","),Error(ae(268,e)));return e=Gp(t),e=e===null?null:e.stateNode,e};tr.flushSync=function(e){return Ms(e)};tr.hydrate=function(e,t,n){if(!Fu(t))throw Error(ae(200));return Uu(null,e,t,!0,n)};tr.hydrateRoot=function(e,t,n){if(!$0(e))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",h=Ey;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Ny(t,null,e,1,n??null,i,!1,o,h),e[ua]=t.current,ul(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Bu(t)};tr.render=function(e,t,n){if(!Fu(t))throw Error(ae(200));return Uu(null,e,t,!1,n)};tr.unmountComponentAtNode=function(e){if(!Fu(e))throw Error(ae(40));return e._reactRootContainer?(Ms(function(){Uu(null,null,e,!1,function(){e._reactRootContainer=null,e[ua]=null})}),!0):!1};tr.unstable_batchedUpdates=B0;tr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fu(n))throw Error(ae(200));if(e==null||e._reactInternals===void 0)throw Error(ae(38));return Uu(e,t,n,!1,r)};tr.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(e){console.error(e)}}Sy(),Sp.exports=tr;var TC=Sp.exports,$m=TC;vh.createRoot=$m.createRoot,vh.hydrateRoot=$m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}var Fa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Fa||(Fa={}));const Gm="popstate";function kC(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:h,hash:g}=r.location;return mf("",{pathname:o,search:h,hash:g},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ou(i)}return IC(t,n,null,e)}function Bt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _y(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jC(){return Math.random().toString(36).substr(2,8)}function Ym(e,t){return{usr:e.state,key:e.key,idx:t}}function mf(e,t,n,r){return n===void 0&&(n=null),wl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?eo(t):t,{state:n,key:t&&t.key||r||jC()})}function ou(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function eo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IC(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,h=i.history,g=Fa.Pop,p=null,x=w();x==null&&(x=0,h.replaceState(wl({},h.state,{idx:x}),""));function w(){return(h.state||{idx:null}).idx}function b(){g=Fa.Pop;let O=w(),T=O==null?null:O-x;x=O,p&&p({action:g,location:S.location,delta:T})}function N(O,T){g=Fa.Push;let _=mf(S.location,O,T);x=w()+1;let E=Ym(_,x),R=S.createHref(_);try{h.pushState(E,"",R)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;i.location.assign(R)}o&&p&&p({action:g,location:S.location,delta:1})}function j(O,T){g=Fa.Replace;let _=mf(S.location,O,T);x=w();let E=Ym(_,x),R=S.createHref(_);h.replaceState(E,"",R),o&&p&&p({action:g,location:S.location,delta:0})}function I(O){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof O=="string"?O:ou(O);return _=_.replace(/ $/,"%20"),Bt(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let S={get action(){return g},get location(){return e(i,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(Gm,b),p=O,()=>{i.removeEventListener(Gm,b),p=null}},createHref(O){return t(i,O)},createURL:I,encodeLocation(O){let T=I(O);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:N,replace:j,go(O){return h.go(O)}};return S}var Xm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xm||(Xm={}));function OC(e,t,n){return n===void 0&&(n="/"),DC(e,t,n)}function DC(e,t,n,r){let i=typeof t=="string"?eo(t):t,o=G0(i.pathname||"/",n);if(o==null)return null;let h=Ay(e);MC(h);let g=null;for(let p=0;g==null&&p<h.length;++p){let x=GC(o);g=VC(h[p],x)}return g}function Ay(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,h,g)=>{let p={relativePath:g===void 0?o.path||"":g,caseSensitive:o.caseSensitive===!0,childrenIndex:h,route:o};p.relativePath.startsWith("/")&&(Bt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let x=Ka([r,p.relativePath]),w=n.concat(p);o.children&&o.children.length>0&&(Bt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+x+'".')),Ay(o.children,t,w,x)),!(o.path==null&&!o.index)&&t.push({path:x,score:zC(x,o.index),routesMeta:w})};return e.forEach((o,h)=>{var g;if(o.path===""||!((g=o.path)!=null&&g.includes("?")))i(o,h);else for(let p of Ty(o.path))i(o,h,p)}),t}function Ty(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let h=Ty(r.join("/")),g=[];return g.push(...h.map(p=>p===""?o:[o,p].join("/"))),i&&g.push(...h),g.map(p=>e.startsWith("/")&&p===""?"/":p)}function MC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:WC(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RC=/^:[\w-]+$/,PC=3,LC=2,BC=1,FC=10,UC=-2,Km=e=>e==="*";function zC(e,t){let n=e.split("/"),r=n.length;return n.some(Km)&&(r+=UC),t&&(r+=LC),n.filter(i=>!Km(i)).reduce((i,o)=>i+(RC.test(o)?PC:o===""?BC:FC),r)}function WC(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function VC(e,t,n){let{routesMeta:r}=e,i={},o="/",h=[];for(let g=0;g<r.length;++g){let p=r[g],x=g===r.length-1,w=o==="/"?t:t.slice(o.length)||"/",b=HC({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},w),N=p.route;if(!b)return null;Object.assign(i,b.params),h.push({params:i,pathname:Ka([o,b.pathname]),pathnameBase:qC(Ka([o,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(o=Ka([o,b.pathnameBase]))}return h}function HC(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=$C(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],h=o.replace(/(.)\/+$/,"$1"),g=i.slice(1);return{params:r.reduce((x,w,b)=>{let{paramName:N,isOptional:j}=w;if(N==="*"){let S=g[b]||"";h=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const I=g[b];return j&&!I?x[N]=void 0:x[N]=(I||"").replace(/%2F/g,"/"),x},{}),pathname:o,pathnameBase:h,pattern:e}}function $C(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),_y(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,p)=>(r.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function GC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _y(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function G0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function YC(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?eo(e):e;return{pathname:n?n.startsWith("/")?n:XC(n,t):t,search:QC(r),hash:ZC(i)}}function XC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jd(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Y0(e,t){let n=KC(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function X0(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=eo(e):(i=wl({},e),Bt(!i.pathname||!i.pathname.includes("?"),Jd("?","pathname","search",i)),Bt(!i.pathname||!i.pathname.includes("#"),Jd("#","pathname","hash",i)),Bt(!i.search||!i.search.includes("#"),Jd("#","search","hash",i)));let o=e===""||i.pathname==="",h=o?"/":i.pathname,g;if(h==null)g=n;else{let b=t.length-1;if(!r&&h.startsWith("..")){let N=h.split("/");for(;N[0]==="..";)N.shift(),b-=1;i.pathname=N.join("/")}g=b>=0?t[b]:"/"}let p=YC(i,g),x=h&&h!=="/"&&h.endsWith("/"),w=(o||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(x||w)&&(p.pathname+="/"),p}const Ka=e=>e.join("/").replace(/\/\/+/g,"/"),qC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),QC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ZC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function JC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const ky=["post","put","patch","delete"];new Set(ky);const eN=["get",...ky];new Set(eN);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vl(){return vl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vl.apply(this,arguments)}const K0=F.createContext(null),tN=F.createContext(null),as=F.createContext(null),zu=F.createContext(null),ss=F.createContext({outlet:null,matches:[],isDataRoute:!1}),jy=F.createContext(null);function nN(e,t){let{relative:n}=t===void 0?{}:t;to()||Bt(!1);let{basename:r,navigator:i}=F.useContext(as),{hash:o,pathname:h,search:g}=Oy(e,{relative:n}),p=h;return r!=="/"&&(p=h==="/"?r:Ka([r,h])),i.createHref({pathname:p,search:g,hash:o})}function to(){return F.useContext(zu)!=null}function is(){return to()||Bt(!1),F.useContext(zu).location}function Iy(e){F.useContext(as).static||F.useLayoutEffect(e)}function no(){let{isDataRoute:e}=F.useContext(ss);return e?gN():rN()}function rN(){to()||Bt(!1);let e=F.useContext(K0),{basename:t,future:n,navigator:r}=F.useContext(as),{matches:i}=F.useContext(ss),{pathname:o}=is(),h=JSON.stringify(Y0(i,n.v7_relativeSplatPath)),g=F.useRef(!1);return Iy(()=>{g.current=!0}),F.useCallback(function(x,w){if(w===void 0&&(w={}),!g.current)return;if(typeof x=="number"){r.go(x);return}let b=X0(x,JSON.parse(h),o,w.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:Ka([t,b.pathname])),(w.replace?r.replace:r.push)(b,w.state,w)},[t,r,h,o,e])}function Oy(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=F.useContext(as),{matches:i}=F.useContext(ss),{pathname:o}=is(),h=JSON.stringify(Y0(i,r.v7_relativeSplatPath));return F.useMemo(()=>X0(e,JSON.parse(h),o,n==="path"),[e,h,o,n])}function aN(e,t){return sN(e,t)}function sN(e,t,n,r){to()||Bt(!1);let{navigator:i}=F.useContext(as),{matches:o}=F.useContext(ss),h=o[o.length-1],g=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let x=is(),w;if(t){var b;let O=typeof t=="string"?eo(t):t;p==="/"||(b=O.pathname)!=null&&b.startsWith(p)||Bt(!1),w=O}else w=x;let N=w.pathname||"/",j=N;if(p!=="/"){let O=p.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(O.length).join("/")}let I=OC(e,{pathname:j}),S=uN(I&&I.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:Ka([p,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?p:Ka([p,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r);return t&&S?F.createElement(zu.Provider,{value:{location:vl({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Fa.Pop}},S):S}function iN(){let e=mN(),t=JC(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:i},n):null,null)}const oN=F.createElement(iN,null);class lN extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?F.createElement(ss.Provider,{value:this.props.routeContext},F.createElement(jy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cN(e){let{routeContext:t,match:n,children:r}=e,i=F.useContext(K0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(ss.Provider,{value:t},r)}function uN(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let h=e,g=(i=n)==null?void 0:i.errors;if(g!=null){let w=h.findIndex(b=>b.route.id&&(g==null?void 0:g[b.route.id])!==void 0);w>=0||Bt(!1),h=h.slice(0,Math.min(h.length,w+1))}let p=!1,x=-1;if(n&&r&&r.v7_partialHydration)for(let w=0;w<h.length;w++){let b=h[w];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(x=w),b.route.id){let{loaderData:N,errors:j}=n,I=b.route.loader&&N[b.route.id]===void 0&&(!j||j[b.route.id]===void 0);if(b.route.lazy||I){p=!0,x>=0?h=h.slice(0,x+1):h=[h[0]];break}}}return h.reduceRight((w,b,N)=>{let j,I=!1,S=null,O=null;n&&(j=g&&b.route.id?g[b.route.id]:void 0,S=b.route.errorElement||oN,p&&(x<0&&N===0?(pN("route-fallback"),I=!0,O=null):x===N&&(I=!0,O=b.route.hydrateFallbackElement||null)));let T=t.concat(h.slice(0,N+1)),_=()=>{let E;return j?E=S:I?E=O:b.route.Component?E=F.createElement(b.route.Component,null):b.route.element?E=b.route.element:E=w,F.createElement(cN,{match:b,routeContext:{outlet:w,matches:T,isDataRoute:n!=null},children:E})};return n&&(b.route.ErrorBoundary||b.route.errorElement||N===0)?F.createElement(lN,{location:n.location,revalidation:n.revalidation,component:S,error:j,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):_()},null)}var Dy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dy||{}),My=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(My||{});function dN(e){let t=F.useContext(K0);return t||Bt(!1),t}function hN(e){let t=F.useContext(tN);return t||Bt(!1),t}function fN(e){let t=F.useContext(ss);return t||Bt(!1),t}function Ry(e){let t=fN(),n=t.matches[t.matches.length-1];return n.route.id||Bt(!1),n.route.id}function mN(){var e;let t=F.useContext(jy),n=hN(),r=Ry();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gN(){let{router:e}=dN(Dy.UseNavigateStable),t=Ry(My.UseNavigateStable),n=F.useRef(!1);return Iy(()=>{n.current=!0}),F.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,vl({fromRouteId:t},o)))},[e,t])}const qm={};function pN(e,t,n){qm[e]||(qm[e]=!0)}function xN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function lu(e){let{to:t,replace:n,state:r,relative:i}=e;to()||Bt(!1);let{future:o,static:h}=F.useContext(as),{matches:g}=F.useContext(ss),{pathname:p}=is(),x=no(),w=X0(t,Y0(g,o.v7_relativeSplatPath),p,i==="path"),b=JSON.stringify(w);return F.useEffect(()=>x(JSON.parse(b),{replace:n,state:r,relative:i}),[x,b,i,n,r]),null}function Mt(e){Bt(!1)}function yN(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Fa.Pop,navigator:o,static:h=!1,future:g}=e;to()&&Bt(!1);let p=t.replace(/^\/*/,"/"),x=F.useMemo(()=>({basename:p,navigator:o,static:h,future:vl({v7_relativeSplatPath:!1},g)}),[p,g,o,h]);typeof r=="string"&&(r=eo(r));let{pathname:w="/",search:b="",hash:N="",state:j=null,key:I="default"}=r,S=F.useMemo(()=>{let O=G0(w,p);return O==null?null:{location:{pathname:O,search:b,hash:N,state:j,key:I},navigationType:i}},[p,w,b,N,j,I,i]);return S==null?null:F.createElement(as.Provider,{value:x},F.createElement(zu.Provider,{children:n,value:S}))}function wN(e){let{children:t,location:n}=e;return aN(gf(t),n)}new Promise(()=>{});function gf(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(r,i)=>{if(!F.isValidElement(r))return;let o=[...t,i];if(r.type===F.Fragment){n.push.apply(n,gf(r.props.children,o));return}r.type!==Mt&&Bt(!1),!r.props.index||!r.props.children||Bt(!1);let h={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=gf(r.props.children,o)),n.push(h)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pf.apply(this,arguments)}function vN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CN(e,t){return e.button===0&&(!t||t==="_self")&&!bN(e)}const NN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],EN="6";try{window.__reactRouterVersion=EN}catch{}const SN="startTransition",Qm=xv[SN];function _N(e){let{basename:t,children:n,future:r,window:i}=e,o=F.useRef();o.current==null&&(o.current=kC({window:i,v5Compat:!0}));let h=o.current,[g,p]=F.useState({action:h.action,location:h.location}),{v7_startTransition:x}=r||{},w=F.useCallback(b=>{x&&Qm?Qm(()=>p(b)):p(b)},[p,x]);return F.useLayoutEffect(()=>h.listen(w),[h,w]),F.useEffect(()=>xN(r),[r]),F.createElement(yN,{basename:t,children:n,location:g.location,navigationType:g.action,navigator:h,future:r})}const AN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=F.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:h,state:g,target:p,to:x,preventScrollReset:w,viewTransition:b}=t,N=vN(t,NN),{basename:j}=F.useContext(as),I,S=!1;if(typeof x=="string"&&TN.test(x)&&(I=x,AN))try{let E=new URL(window.location.href),R=x.startsWith("//")?new URL(E.protocol+x):new URL(x),X=G0(R.pathname,j);R.origin===E.origin&&X!=null?x=X+R.search+R.hash:S=!0}catch{}let O=nN(x,{relative:i}),T=kN(x,{replace:h,state:g,target:p,preventScrollReset:w,relative:i,viewTransition:b});function _(E){r&&r(E),E.defaultPrevented||T(E)}return F.createElement("a",pf({},N,{href:I||O,onClick:S||o?r:_,ref:n,target:p}))});var Zm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zm||(Zm={}));var Jm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Jm||(Jm={}));function kN(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:h,viewTransition:g}=t===void 0?{}:t,p=no(),x=is(),w=Oy(e,{relative:h});return F.useCallback(b=>{if(CN(b,n)){b.preventDefault();let N=r!==void 0?r:ou(x)===ou(w);p(e,{replace:N,state:i,preventScrollReset:o,relative:h,viewTransition:g})}},[x,p,w,r,i,n,e,o,h,g])}let jN={data:""},IN=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||jN,ON=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,DN=/\/\*[^]*?\*\/|  +/g,eg=/\n+/g,Ra=(e,t)=>{let n="",r="",i="";for(let o in e){let h=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+h+";":r+=o[1]=="f"?Ra(h,o):o+"{"+Ra(h,o[1]=="k"?"":t)+"}":typeof h=="object"?r+=Ra(h,t?t.replace(/([^,])+/g,g=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,g):g?g+" "+p:p)):o):h!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ra.p?Ra.p(o,h):o+":"+h+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Zr={},Py=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Py(e[n]);return t}return e},MN=(e,t,n,r,i)=>{let o=Py(e),h=Zr[o]||(Zr[o]=(p=>{let x=0,w=11;for(;x<p.length;)w=101*w+p.charCodeAt(x++)>>>0;return"go"+w})(o));if(!Zr[h]){let p=o!==e?e:(x=>{let w,b,N=[{}];for(;w=ON.exec(x.replace(DN,""));)w[4]?N.shift():w[3]?(b=w[3].replace(eg," ").trim(),N.unshift(N[0][b]=N[0][b]||{})):N[0][w[1]]=w[2].replace(eg," ").trim();return N[0]})(e);Zr[h]=Ra(i?{["@keyframes "+h]:p}:p,n?"":"."+h)}let g=n&&Zr.g?Zr.g:null;return n&&(Zr.g=Zr[h]),((p,x,w,b)=>{b?x.data=x.data.replace(b,p):x.data.indexOf(p)===-1&&(x.data=w?p+x.data:x.data+p)})(Zr[h],t,r,g),h},RN=(e,t,n)=>e.reduce((r,i,o)=>{let h=t[o];if(h&&h.call){let g=h(n),p=g&&g.props&&g.props.className||/^go/.test(g)&&g;h=p?"."+p:g&&typeof g=="object"?g.props?"":Ra(g,""):g===!1?"":g}return r+i+(h??"")},"");function Wu(e){let t=this||{},n=e.call?e(t.p):e;return MN(n.unshift?n.raw?RN(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,IN(t.target),t.g,t.o,t.k)}let Ly,xf,yf;Wu.bind({g:1});let fa=Wu.bind({k:1});function PN(e,t,n,r){Ra.p=t,Ly=e,xf=n,yf=r}function os(e,t){let n=this||{};return function(){let r=arguments;function i(o,h){let g=Object.assign({},o),p=g.className||i.className;n.p=Object.assign({theme:xf&&xf()},g),n.o=/ *go\d+/.test(p),g.className=Wu.apply(n,r)+(p?" "+p:"");let x=e;return e[0]&&(x=g.as||e,delete g.as),yf&&x[0]&&yf(g),Ly(x,g)}return i}}var LN=e=>typeof e=="function",cu=(e,t)=>LN(e)?e(t):e,BN=(()=>{let e=0;return()=>(++e).toString()})(),By=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),FN=20,Fy=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,FN)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Fy(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Pc=[],_s={toasts:[],pausedAt:void 0},Us=e=>{_s=Fy(_s,e),Pc.forEach(t=>{t(_s)})},UN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zN=(e={})=>{let[t,n]=F.useState(_s),r=F.useRef(_s);F.useEffect(()=>(r.current!==_s&&n(_s),Pc.push(n),()=>{let o=Pc.indexOf(n);o>-1&&Pc.splice(o,1)}),[]);let i=t.toasts.map(o=>{var h,g,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((h=e[o.type])==null?void 0:h.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((g=e[o.type])==null?void 0:g.duration)||(e==null?void 0:e.duration)||UN[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...t,toasts:i}},WN=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||BN()}),Ml=e=>(t,n)=>{let r=WN(t,e,n);return Us({type:2,toast:r}),r.id},Nn=(e,t)=>Ml("blank")(e,t);Nn.error=Ml("error");Nn.success=Ml("success");Nn.loading=Ml("loading");Nn.custom=Ml("custom");Nn.dismiss=e=>{Us({type:3,toastId:e})};Nn.remove=e=>Us({type:4,toastId:e});Nn.promise=(e,t,n)=>{let r=Nn.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?cu(t.success,i):void 0;return o?Nn.success(o,{id:r,...n,...n==null?void 0:n.success}):Nn.dismiss(r),i}).catch(i=>{let o=t.error?cu(t.error,i):void 0;o?Nn.error(o,{id:r,...n,...n==null?void 0:n.error}):Nn.dismiss(r)}),e};var VN=(e,t)=>{Us({type:1,toast:{id:e,height:t}})},HN=()=>{Us({type:5,time:Date.now()})},qo=new Map,$N=1e3,GN=(e,t=$N)=>{if(qo.has(e))return;let n=setTimeout(()=>{qo.delete(e),Us({type:4,toastId:e})},t);qo.set(e,n)},YN=e=>{let{toasts:t,pausedAt:n}=zN(e);F.useEffect(()=>{if(n)return;let o=Date.now(),h=t.map(g=>{if(g.duration===1/0)return;let p=(g.duration||0)+g.pauseDuration-(o-g.createdAt);if(p<0){g.visible&&Nn.dismiss(g.id);return}return setTimeout(()=>Nn.dismiss(g.id),p)});return()=>{h.forEach(g=>g&&clearTimeout(g))}},[t,n]);let r=F.useCallback(()=>{n&&Us({type:6,time:Date.now()})},[n]),i=F.useCallback((o,h)=>{let{reverseOrder:g=!1,gutter:p=8,defaultPosition:x}=h||{},w=t.filter(j=>(j.position||x)===(o.position||x)&&j.height),b=w.findIndex(j=>j.id===o.id),N=w.filter((j,I)=>I<b&&j.visible).length;return w.filter(j=>j.visible).slice(...g?[N+1]:[0,N]).reduce((j,I)=>j+(I.height||0)+p,0)},[t]);return F.useEffect(()=>{t.forEach(o=>{if(o.dismissed)GN(o.id,o.removeDelay);else{let h=qo.get(o.id);h&&(clearTimeout(h),qo.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:VN,startPause:HN,endPause:r,calculateOffset:i}}},XN=fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KN=fa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,qN=fa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,QN=os("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${qN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ZN=fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,JN=os("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ZN} 1s linear infinite;
`,e3=fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,t3=fa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,n3=os("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${e3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${t3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,r3=os("div")`
  position: absolute;
`,a3=os("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,s3=fa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,i3=os("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${s3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,o3=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?F.createElement(i3,null,t):t:n==="blank"?null:F.createElement(a3,null,F.createElement(JN,{...r}),n!=="loading"&&F.createElement(r3,null,n==="error"?F.createElement(QN,{...r}):F.createElement(n3,{...r})))},l3=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,c3=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,u3="0%{opacity:0;} 100%{opacity:1;}",d3="0%{opacity:1;} 100%{opacity:0;}",h3=os("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,f3=os("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,m3=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=By()?[u3,d3]:[l3(n),c3(n)];return{animation:t?`${fa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},g3=F.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?m3(e.position||t||"top-center",e.visible):{opacity:0},o=F.createElement(o3,{toast:e}),h=F.createElement(f3,{...e.ariaProps},cu(e.message,e));return F.createElement(h3,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:h}):F.createElement(F.Fragment,null,o,h))});PN(F.createElement);var p3=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=F.useCallback(h=>{if(h){let g=()=>{let p=h.getBoundingClientRect().height;r(e,p)};g(),new MutationObserver(g).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return F.createElement("div",{ref:o,className:t,style:n},i)},x3=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:By()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},y3=Wu`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,mc=16,w3=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:h})=>{let{toasts:g,handlers:p}=YN(n);return F.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:mc,left:mc,right:mc,bottom:mc,pointerEvents:"none",...o},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},g.map(x=>{let w=x.position||t,b=p.calculateOffset(x,{reverseOrder:e,gutter:r,defaultPosition:t}),N=x3(w,b);return F.createElement(p3,{id:x.id,key:x.id,onHeightUpdate:p.updateHeight,className:x.visible?y3:"",style:N},x.type==="custom"?cu(x.message,x):i?i(x):F.createElement(g3,{toast:x,position:w}))}))},xe=Nn,tg={},v3="@vercel/analytics",b3="1.5.0",C3=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function Uy(){return typeof window<"u"}function zy(){try{const e="production"}catch{}return"production"}function N3(e="auto"){if(e==="auto"){window.vam=zy();return}window.vam=e}function E3(){return(Uy()?window.vam:zy())||"production"}function wf(){return E3()==="development"}function S3(e){return e.scriptSrc?e.scriptSrc:wf()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function _3(e={debug:!0}){var t;if(!Uy())return;N3(e.mode),C3(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=S3(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=v3+(e.framework?`/${e.framework}`:""),r.dataset.sdkv=b3,e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{const i=wf()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${i}`)},wf()&&e.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function A3({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function T3(){if(!(typeof process>"u"||typeof tg>"u"))return tg.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function k3(e){return F.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),F.useEffect(()=>{_3({framework:e.framework||"react",basePath:e.basePath??T3(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),F.useEffect(()=>{e.route&&e.path&&A3({route:e.route,path:e.path})},[e.route,e.path]),null}const j3="modulepreload",I3=function(e){return"/"+e},ng={},Rl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=Promise.allSettled(n.map(p=>{if(p=I3(p),p in ng)return;ng[p]=!0;const x=p.endsWith(".css"),w=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":j3,x||(b.as="script"),b.crossOrigin="",b.href=p,g&&b.setAttribute("nonce",g),document.head.appendChild(b),x)return new Promise((N,j)=>{b.addEventListener("load",N),b.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(h){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=h,window.dispatchEvent(g),!g.defaultPrevented)throw h}return i.then(h=>{for(const g of h||[])g.status==="rejected"&&o(g.reason);return t().catch(o)})},O3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class q0 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class D3 extends q0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rg extends q0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ag extends q0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vf||(vf={}));var M3=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};class R3{constructor(t,{headers:n={},customFetch:r,region:i=vf.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=O3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return M3(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:h}=n;let g={},{region:p}=n;p||(p=this.region);const x=new URL(`${this.url}/${t}`);p&&p!=="any"&&(g["x-region"]=p,x.searchParams.set("forceFunctionRegion",p));let w;h&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=h):typeof h=="string"?(g["Content-Type"]="text/plain",w=h):typeof FormData<"u"&&h instanceof FormData?w=h:(g["Content-Type"]="application/json",w=JSON.stringify(h)));const b=yield this.fetch(x.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),i),body:w}).catch(S=>{throw new D3(S)}),N=b.headers.get("x-relay-error");if(N&&N==="true")throw new rg(b);if(!b.ok)throw new ag(b);let j=((r=b.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),I;return j==="application/json"?I=yield b.json():j==="application/octet-stream"?I=yield b.blob():j==="text/event-stream"?I=b:j==="multipart/form-data"?I=yield b.formData():I=yield b.text(),{data:I,error:null,response:b}}catch(i){return{data:null,error:i,response:i instanceof ag||i instanceof rg?i.context:void 0}}})}}var Bn={},Q0={},Vu={},Pl={},Hu={},$u={},P3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vi=P3();const L3=Vi.fetch,Wy=Vi.fetch.bind(Vi),Vy=Vi.Headers,B3=Vi.Request,F3=Vi.Response,ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vy,Request:B3,Response:F3,default:Wy,fetch:L3},Symbol.toStringTag,{value:"Module"})),U3=tv(ro);var Gu={};Object.defineProperty(Gu,"__esModule",{value:!0});let z3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gu.default=z3;var Hy=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($u,"__esModule",{value:!0});const W3=Hy(U3),V3=Hy(Gu);let H3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=W3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var h,g,p;let x=null,w=null,b=null,N=o.status,j=o.statusText;if(o.ok){if(this.method!=="HEAD"){const T=await o.text();T===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?w=T:w=JSON.parse(T))}const S=(h=this.headers.Prefer)===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),O=(g=o.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");S&&O&&O.length>1&&(b=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(w)&&(w.length>1?(x={code:"PGRST116",details:`Results contain ${w.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},w=null,b=null,N=406,j="Not Acceptable"):w.length===1?w=w[0]:w=null)}else{const S=await o.text();try{x=JSON.parse(S),Array.isArray(x)&&o.status===404&&(w=[],x=null,N=200,j="OK")}catch{o.status===404&&S===""?(N=204,j="No Content"):x={message:S}}if(x&&this.isMaybeSingle&&(!((p=x==null?void 0:x.details)===null||p===void 0)&&p.includes("0 rows"))&&(x=null,N=200,j="OK"),x&&this.shouldThrowOnError)throw new V3.default(x)}return{error:x,data:w,count:b,status:N,statusText:j}});return this.shouldThrowOnError||(i=i.catch(o=>{var h,g,p;return{error:{message:`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(g=o==null?void 0:o.stack)!==null&&g!==void 0?g:""}`,hint:"",code:`${(p=o==null?void 0:o.code)!==null&&p!==void 0?p:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};$u.default=H3;var $3=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hu,"__esModule",{value:!0});const G3=$3($u);let Y3=class extends G3.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){const h=o?`${o}.order`:"order",g=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${g?`${g},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const o=typeof i>"u"?"offset":`${i}.offset`,h=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(h,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:h="text"}={}){var g;const p=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${x}"; options=${p};`,h==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Hu.default=Y3;var X3=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pl,"__esModule",{value:!0});const K3=X3(Hu);let q3=class extends K3.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const h=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${h}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Pl.default=q3;var Q3=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vu,"__esModule",{value:!0});const Io=Q3(Pl);let Z3=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let o=!1;const h=(t??"*").split("").map(g=>/\s/.test(g)&&!o?"":(g==='"'&&(o=!o),g)).join("");return this.url.searchParams.set("select",h),r&&(this.headers.Prefer=`count=${r}`),new Io.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const h=t.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(h.length>0){const g=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",g.join(","))}}return new Io.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){const h="POST",g=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&g.push(this.headers.Prefer),i&&g.push(`count=${i}`),o||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(t)){const p=t.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(p.length>0){const x=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new Io.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Io.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Io.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vu.default=Z3;var Yu={},Xu={};Object.defineProperty(Xu,"__esModule",{value:!0});Xu.version=void 0;Xu.version="0.0.0-automated";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.DEFAULT_HEADERS=void 0;const J3=Xu;Yu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${J3.version}`};var $y=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q0,"__esModule",{value:!0});const eE=$y(Vu),tE=$y(Pl),nE=Yu;let rE=class Gy{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},nE.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new eE.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){let h;const g=new URL(`${this.url}/rpc/${t}`);let p;r||i?(h=r?"HEAD":"GET",Object.entries(n).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{g.searchParams.append(w,b)})):(h="POST",p=n);const x=Object.assign({},this.headers);return o&&(x.Prefer=`count=${o}`),new tE.default({method:h,url:g,headers:x,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}};Q0.default=rE;var ao=Pt&&Pt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.PostgrestError=Bn.PostgrestBuilder=Bn.PostgrestTransformBuilder=Bn.PostgrestFilterBuilder=Bn.PostgrestQueryBuilder=Bn.PostgrestClient=void 0;const Yy=ao(Q0);Bn.PostgrestClient=Yy.default;const Xy=ao(Vu);Bn.PostgrestQueryBuilder=Xy.default;const Ky=ao(Pl);Bn.PostgrestFilterBuilder=Ky.default;const qy=ao(Hu);Bn.PostgrestTransformBuilder=qy.default;const Qy=ao($u);Bn.PostgrestBuilder=Qy.default;const Zy=ao(Gu);Bn.PostgrestError=Zy.default;var aE=Bn.default={PostgrestClient:Yy.default,PostgrestQueryBuilder:Xy.default,PostgrestFilterBuilder:Ky.default,PostgrestTransformBuilder:qy.default,PostgrestBuilder:Qy.default,PostgrestError:Zy.default};const{PostgrestClient:sE,PostgrestQueryBuilder:lj,PostgrestFilterBuilder:cj,PostgrestTransformBuilder:uj,PostgrestBuilder:dj,PostgrestError:hj}=aE;class iE{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const oE="2.15.1",lE=`realtime-js/${oE}`,cE="1.0.0",bf=1e4,uE=1e3,dE=100;var Qo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Qo||(Qo={}));var Ht;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ht||(Ht={}));var Er;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Er||(Er={}));var Cf;(function(e){e.websocket="websocket"})(Cf||(Cf={}));var Cs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cs||(Cs={}));class hE{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),o=n.getUint8(2);let h=this.HEADER_LENGTH+2;const g=r.decode(t.slice(h,h+i));h=h+i;const p=r.decode(t.slice(h,h+o));h=h+o;const x=JSON.parse(r.decode(t.slice(h,t.byteLength)));return{ref:null,topic:g,event:p,payload:x}}}class Jy{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const sg=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,h)=>(o[h]=fE(h,e,t,i),o),{})},fE=(e,t,n,r)=>{const i=t.find(g=>g.name===e),o=i==null?void 0:i.type,h=n[e];return o&&!r.includes(o)?e2(o,h):Nf(h)},e2=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xE(t,n)}switch(e){case lt.bool:return mE(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return gE(t);case lt.json:case lt.jsonb:return pE(t);case lt.timestamp:return yE(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return Nf(t);default:return Nf(t)}},Nf=e=>e,mE=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gE=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pE=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xE=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const h=e.slice(1,n);try{o=JSON.parse("["+h+"]")}catch{o=h?h.split(","):[]}return o.map(g=>e2(t,g))}return e},yE=e=>typeof e=="string"?e.replace(" ","T"):e,t2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class eh{constructor(t,n,r={},i=bf){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ig;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ig||(ig={}));class Zo{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:o,onLeave:h,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Zo.syncState(this.state,i,o,h),this.pendingDiffs.forEach(p=>{this.state=Zo.syncDiff(this.state,p,o,h)}),this.pendingDiffs=[],g()}),this.channel._on(r.diff,{},i=>{const{onJoin:o,onLeave:h,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Zo.syncDiff(this.state,i,o,h),g())}),this.onJoin((i,o,h)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:h})}),this.onLeave((i,o,h)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const o=this.cloneDeep(t),h=this.transformState(n),g={},p={};return this.map(o,(x,w)=>{h[x]||(p[x]=w)}),this.map(h,(x,w)=>{const b=o[x];if(b){const N=w.map(O=>O.presence_ref),j=b.map(O=>O.presence_ref),I=w.filter(O=>j.indexOf(O.presence_ref)<0),S=b.filter(O=>N.indexOf(O.presence_ref)<0);I.length>0&&(g[x]=I),S.length>0&&(p[x]=S)}else g[x]=w}),this.syncDiff(o,{joins:g,leaves:p},r,i)}static syncDiff(t,n,r,i){const{joins:o,leaves:h}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(g,p)=>{var x;const w=(x=t[g])!==null&&x!==void 0?x:[];if(t[g]=this.cloneDeep(p),w.length>0){const b=t[g].map(j=>j.presence_ref),N=w.filter(j=>b.indexOf(j.presence_ref)<0);t[g].unshift(...N)}r(g,w,p)}),this.map(h,(g,p)=>{let x=t[g];if(!x)return;const w=p.map(b=>b.presence_ref);x=x.filter(b=>w.indexOf(b.presence_ref)<0),t[g]=x,i(g,x,p),x.length===0&&delete t[g]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var og;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(og||(og={}));var Jo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jo||(Jo={}));var ta;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ta||(ta={}));class Z0{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Ht.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new eh(this,Er.join,this.params,this.timeout),this.rejoinTimer=new Jy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ht.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ht.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ht.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Er.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Zo(this),this.broadcastEndpointURL=t2(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ht.closed){const{config:{broadcast:o,presence:h,private:g}}=this.params,p=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(N=>N.filter))!==null&&i!==void 0?i:[],x=!!this.bindings[Jo.PRESENCE]&&this.bindings[Jo.PRESENCE].length>0,w={},b={broadcast:o,presence:Object.assign(Object.assign({},h),{enabled:x}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(N=>t==null?void 0:t(ta.CHANNEL_ERROR,N)),this._onClose(()=>t==null?void 0:t(ta.CLOSED)),this.updateJoinPayload(Object.assign({config:b},w)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var j;if(this.socket.setAuth(),N===void 0){t==null||t(ta.SUBSCRIBED);return}else{const I=this.bindings.postgres_changes,S=(j=I==null?void 0:I.length)!==null&&j!==void 0?j:0,O=[];for(let T=0;T<S;T++){const _=I[T],{filter:{event:E,schema:R,table:X,filter:H}}=_,L=N&&N[T];if(L&&L.event===E&&L.schema===R&&L.table===X&&L.filter===H)O.push(Object.assign(Object.assign({},_),{id:L.id}));else{this.unsubscribe(),this.state=Ht.errored,t==null||t(ta.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(ta.SUBSCRIBED);return}}).receive("error",N=>{this.state=Ht.errored,t==null||t(ta.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ta.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Ht.joined&&t===Jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:h}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:h,private:this.private}]})};try{const x=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=x.body)===null||i===void 0?void 0:i.cancel()),x.ok?"ok":"error"}catch(x){return x.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var h,g,p;const x=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(g=(h=this.params)===null||h===void 0?void 0:h.config)===null||g===void 0?void 0:g.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),x.receive("ok",()=>o("ok")),x.receive("error",()=>o("error")),x.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ht.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Er.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new eh(this,Er.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ht.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,o=setTimeout(()=>i.abort(),r),h=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),h}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new eh(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>dE){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;const h=t.toLocaleLowerCase(),{close:g,error:p,leave:x,join:w}=Er;if(r&&[g,p,x,w].indexOf(h)>=0&&r!==this._joinRef())return;let N=this._onMessage(h,n,r);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(j=>{var I,S,O;return((I=j.filter)===null||I===void 0?void 0:I.event)==="*"||((O=(S=j.filter)===null||S===void 0?void 0:S.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===h}).map(j=>j.callback(N,r)):(o=this.bindings[h])===null||o===void 0||o.filter(j=>{var I,S,O,T,_,E;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in j){const R=j.id,X=(I=j.filter)===null||I===void 0?void 0:I.event;return R&&((S=n.ids)===null||S===void 0?void 0:S.includes(R))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const R=(_=(T=j==null?void 0:j.filter)===null||T===void 0?void 0:T.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return R==="*"||R===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===h}).map(j=>{if(typeof N=="object"&&"ids"in N){const I=N.data,{schema:S,table:O,commit_timestamp:T,type:_,errors:E}=I;N=Object.assign(Object.assign({},{schema:S,table:O,commit_timestamp:T,eventType:_,new:{},old:{},errors:E}),this._getPayloadRecords(I))}j.callback(N,r)})}_isClosed(){return this.state===Ht.closed}_isJoined(){return this.state===Ht.joined}_isJoining(){return this.state===Ht.joining}_isLeaving(){return this.state===Ht.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Z0.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Er.close,{},t)}_onError(t){this._on(Er.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ht.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sg(t.columns,t.old_record)),n}}const lg=()=>{},gc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wE=[1e3,2e3,5e3,1e4],vE=1e4,bE=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class CE{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.transport=null,this.heartbeatIntervalMs=gc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lg,this.ref=0,this.reconnectTimer=null,this.logger=lg,this.conn=null,this.sendBuffer=[],this.serializer=new hE,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...h)=>Rl(async()=>{const{default:g}=await Promise.resolve().then(()=>ro);return{default:g}},void 0).then(({default:g})=>g(...h)).catch(g=>{throw new Error(`Failed to load @supabase/node-fetch: ${g.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...h)=>o(...h)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Cf.websocket}`,this.httpEndpoint=t2(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iE.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cE}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qo.connecting:return Cs.Connecting;case Qo.open:return Cs.Open;case Qo.closing:return Cs.Closing;default:return Cs.Closed}}isConnected(){return this.connectionState()===Cs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{const o=new Z0(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:i,ref:o}=t,h=()=>{this.encode(t,g=>{var p;(p=this.conn)===null||p===void 0||p.send(g)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(uE,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},gc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:o,ref:h}=n,g=h?`(${h})`:"",p=o.status||"";this.log("receive",`${p} ${r} ${i} ${g}`.trim(),o),this.channels.filter(x=>x._isMember(r)).forEach(x=>x._trigger(i,o,h)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Er.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([bE],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:lE};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Er.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Jy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,h,g,p,x;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:bf,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:gc.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(h=t==null?void 0:t.accessToken)!==null&&h!==void 0?h:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t==null?void 0:t.reconnectAfterMs)!==null&&g!==void 0?g:w=>wE[w-1]||vE,this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:(w,b)=>b(JSON.stringify(w)),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class J0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Jt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class NE extends J0{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ef extends J0{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var EE=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};const n2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},SE=()=>EE(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rl(()=>Promise.resolve().then(()=>ro),void 0)).Response:Response}),Sf=e=>{if(Array.isArray(e))return e.map(n=>Sf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Sf(r)}),t},_E=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zs=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};const th=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AE=(e,t,n)=>zs(void 0,void 0,void 0,function*(){const r=yield SE();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const o=e.status||500,h=(i==null?void 0:i.statusCode)||o+"";t(new NE(th(i),o,h))}).catch(i=>{t(new Ef(th(i),i))}):t(new Ef(th(e),e))}),TE=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(_E(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Ll(e,t,n,r,i,o){return zs(this,void 0,void 0,function*(){return new Promise((h,g)=>{e(n,TE(t,r,i,o)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>AE(p,g,r))})})}function uu(e,t,n,r){return zs(this,void 0,void 0,function*(){return Ll(e,"GET",t,n,r)})}function na(e,t,n,r,i){return zs(this,void 0,void 0,function*(){return Ll(e,"POST",t,r,i,n)})}function _f(e,t,n,r,i){return zs(this,void 0,void 0,function*(){return Ll(e,"PUT",t,r,i,n)})}function kE(e,t,n,r){return zs(this,void 0,void 0,function*(){return Ll(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function r2(e,t,n,r,i){return zs(this,void 0,void 0,function*(){return Ll(e,"DELETE",t,r,i,n)})}var Rn=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};const jE={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IE{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=n2(i)}uploadOrUpdate(t,n,r,i){return Rn(this,void 0,void 0,function*(){try{let o;const h=Object.assign(Object.assign({},cg),i);let g=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",h.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",h.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=r,g["cache-control"]=`max-age=${h.cacheControl}`,g["content-type"]=h.contentType,p&&(g["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),i!=null&&i.headers&&(g=Object.assign(Object.assign({},g),i.headers));const x=this._removeEmptyFolders(n),w=this._getFinalPath(x),b=yield(t=="PUT"?_f:na)(this.fetch,`${this.url}/object/${w}`,o,Object.assign({headers:g},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:x,id:b.Id,fullPath:b.Key},error:null}}catch(o){if(Jt(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Rn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),h=this._getFinalPath(o),g=new URL(this.url+`/object/upload/sign/${h}`);g.searchParams.set("token",n);try{let p;const x=Object.assign({upsert:cg.upsert},i),w=Object.assign(Object.assign({},this.headers),{"x-upsert":String(x.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",x.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",x.cacheControl)):(p=r,w["cache-control"]=`max-age=${x.cacheControl}`,w["content-type"]=x.contentType);const b=yield _f(this.fetch,g.toString(),p,{headers:w});return{data:{path:o,fullPath:b.Key},error:null}}catch(p){if(Jt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,n){return Rn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const o=yield na(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),h=new URL(this.url+o.url),g=h.searchParams.get("token");if(!g)throw new J0("No token returned by API");return{data:{signedUrl:h.toString(),path:t,token:g},error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}update(t,n,r){return Rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Rn(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Rn(this,void 0,void 0,function*(){try{return{data:{path:(yield na(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Rn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield na(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${h}`)},{data:o,error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Rn(this,void 0,void 0,function*(){try{const i=yield na(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${o}`):null})),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}download(t,n){return Rn(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),h=o?`?${o}`:"";try{const g=this._getFinalPath(t);return{data:yield(yield uu(this.fetch,`${this.url}/${i}/${g}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(g){if(Jt(g))return{data:null,error:g};throw g}})}info(t){return Rn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield uu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sf(r),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}exists(t){return Rn(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield kE(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Jt(r)&&r instanceof Ef){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);const g=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&i.push(p);let x=i.join("&");return x!==""&&(x=`?${x}`),{data:{publicUrl:encodeURI(`${this.url}/${g}/public/${r}${x}`)}}}remove(t){return Rn(this,void 0,void 0,function*(){try{return{data:yield r2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}list(t,n,r){return Rn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},jE),n),{prefix:t||""});return{data:yield na(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Jt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const OE="2.10.5",DE={"X-Client-Info":`storage-js/${OE}`};var ei=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};class ME{constructor(t,n={},r,i){const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},DE),n),this.fetch=n2(r)}listBuckets(){return ei(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Jt(t))return{data:null,error:t};throw t}})}getBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield uu(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return ei(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return ei(this,void 0,void 0,function*(){try{return{data:yield _f(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Jt(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield na(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield r2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Jt(n))return{data:null,error:n};throw n}})}}class RE extends ME{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new IE(this.url,this.headers,t,this.fetch)}}const PE="2.55.0";let Bo="";typeof Deno<"u"?Bo="deno":typeof document<"u"?Bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bo="react-native":Bo="node";const LE={"X-Client-Info":`supabase-js-${Bo}/${PE}`},BE={headers:LE},FE={schema:"public"},UE={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zE={};var WE=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};const VE=e=>{let t;return e?t=e:typeof fetch>"u"?t=Wy:t=fetch,(...n)=>t(...n)},HE=()=>typeof Headers>"u"?Vy:Headers,$E=(e,t,n)=>{const r=VE(n),i=HE();return(o,h)=>WE(void 0,void 0,void 0,function*(){var g;const p=(g=yield t())!==null&&g!==void 0?g:e;let x=new i(h==null?void 0:h.headers);return x.has("apikey")||x.set("apikey",e),x.has("Authorization")||x.set("Authorization",`Bearer ${p}`),r(o,Object.assign(Object.assign({},h),{headers:x}))})};var GE=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};function YE(e){return e.endsWith("/")?e:e+"/"}function XE(e,t){var n,r;const{db:i,auth:o,realtime:h,global:g}=e,{db:p,auth:x,realtime:w,global:b}=t,N={db:Object.assign(Object.assign({},p),i),auth:Object.assign(Object.assign({},x),o),realtime:Object.assign(Object.assign({},w),h),storage:{},global:Object.assign(Object.assign(Object.assign({},b),g),{headers:Object.assign(Object.assign({},(n=b==null?void 0:b.headers)!==null&&n!==void 0?n:{}),(r=g==null?void 0:g.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>GE(this,void 0,void 0,function*(){return""})};return e.accessToken?N.accessToken=e.accessToken:delete N.accessToken,N}const a2="2.71.1",oi=30*1e3,Af=3,nh=Af*oi,KE="http://localhost:9999",qE="supabase.auth.token",QE={"X-Client-Info":`gotrue-js/${a2}`},Tf="X-Supabase-Api-Version",s2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZE=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JE=10*60*1e3;class e1 extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ke(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class eS extends e1{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function tS(e){return ke(e)&&e.name==="AuthApiError"}class i2 extends e1{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ls extends e1{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class ja extends ls{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nS(e){return ke(e)&&e.name==="AuthSessionMissingError"}class pc extends ls{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xc extends ls{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yc extends ls{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rS(e){return ke(e)&&e.name==="AuthImplicitGrantRedirectError"}class ug extends ls{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kf extends ls{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function rh(e){return ke(e)&&e.name==="AuthRetryableFetchError"}class dg extends ls{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class jf extends ls{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const du="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hg=` 	
\r=`.split(""),aS=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hg.length;t+=1)e[hg[t].charCodeAt(0)]=-2;for(let t=0;t<du.length;t+=1)e[du[t].charCodeAt(0)]=t;return e})();function fg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(du[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(du[r]),t.queuedBits-=6}}function o2(e,t,n){const r=aS[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function mg(e){const t=[],n=h=>{t.push(String.fromCodePoint(h))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=h=>{oS(h,r,n)};for(let h=0;h<e.length;h+=1)o2(e.charCodeAt(h),i,o);return t.join("")}function sS(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iS(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}sS(r,t)}}function oS(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function lS(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)o2(e.charCodeAt(i),n,r);return new Uint8Array(t)}function cS(e){const t=[];return iS(e,n=>t.push(n)),new Uint8Array(t)}function uS(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>fg(i,n,r)),fg(null,n,r),t.join("")}function dS(e){return Math.round(Date.now()/1e3)+e}function hS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const br=()=>typeof window<"u"&&typeof document<"u",ps={tested:!1,writable:!1},l2=()=>{if(!br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ps.tested)return ps.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ps.tested=!0,ps.writable=!0}catch{ps.tested=!0,ps.writable=!1}return ps.writable};function fS(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const c2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Rl(async()=>{const{default:r}=await Promise.resolve().then(()=>ro);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},mS=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",li=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},xs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Aa=async(e,t)=>{await e.removeItem(t)};class Ku{constructor(){this.promise=new Ku.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Ku.promiseConstructor=Promise;function ah(e){const t=e.split(".");if(t.length!==3)throw new jf("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!ZE.test(t[r]))throw new jf("JWT not in base64url format");return{header:JSON.parse(mg(t[0])),payload:JSON.parse(mg(t[1])),signature:lS(t[2]),raw:{header:t[0],payload:t[1]}}}async function gS(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pS(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const h=await e(o);if(!t(o,null,h)){r(h);return}}catch(h){if(!t(o,h)){i(h);return}}})()})}function xS(e){return("0"+e.toString(16)).substr(-2)}function yS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,xS).join("")}async function wS(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function vS(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await wS(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(e,t,n=!1){const r=yS();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await li(e,`${t}-code-verifier`,i);const o=await vS(r);return[o,r===o?"plain":"s256"]}const bS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function CS(e){const t=e.headers.get(Tf);if(!t||!t.match(bS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NS(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ES(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ni(e){if(!SS.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sh(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gg(e){return JSON.parse(JSON.stringify(e))}var _S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const vs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AS=[502,503,504];async function pg(e){var t;if(!mS(e))throw new kf(vs(e),0);if(AS.includes(e.status))throw new kf(vs(e),e.status);let n;try{n=await e.json()}catch(o){throw new i2(vs(o),o)}let r;const i=CS(e);if(i&&i.getTime()>=s2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dg(vs(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new ja}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,h)=>o&&typeof h=="string",!0))throw new dg(vs(n),e.status,n.weak_password.reasons);throw new eS(vs(n),e.status||500,r)}const TS=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Me(e,t,n,r){var i;const o=Object.assign({},r==null?void 0:r.headers);o[Tf]||(o[Tf]=s2["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const h=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(h.redirect_to=r.redirectTo);const g=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await kS(e,t,n+g,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function kS(e,t,n,r,i,o){const h=TS(t,r,i,o);let g;try{g=await e(n,Object.assign({},h))}catch(p){throw console.error(p),new kf(vs(p),0)}if(g.ok||await pg(g),r!=null&&r.noResolveJson)return g;try{return await g.json()}catch(p){await pg(p)}}function Jr(e){var t;let n=null;DS(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=dS(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xg(e){const t=Jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jS(e){return{data:e,error:null}}function IS(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,h=_S(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},p=Object.assign({},h);return{data:{properties:g,user:p},error:null}}function OS(e){return e}function DS(e){return e.access_token&&e.refresh_token&&e.expires_in}const ih=["global","local","others"];var MS=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class RS{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=c2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=ih[0]){if(ih.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ih.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Pa})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=MS(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:IS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ke(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pa})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,h,g,p;try{const x={nextPage:null,lastPage:0,total:0},w=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:OS});if(w.error)throw w.error;const b=await w.json(),N=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,j=(p=(g=w.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(I=>{const S=parseInt(I.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(I.split(";")[1].split("=")[1]);x[`${O}Page`]=S}),x.total=parseInt(N)),{data:Object.assign(Object.assign({},b),x),error:null}}catch(x){if(ke(x))return{data:{users:[]},error:x};throw x}}async getUserById(t){ni(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pa})}catch(n){if(ke(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ni(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Pa})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ni(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Pa})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ni(t.userId);try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ni(t.userId),ni(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}}function yg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function PS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ri={debug:!!(globalThis&&l2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class LS extends u2{}async function BS(e,t,n){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new LS(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ri.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}PS();const FS={url:KE,storageKey:qE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function wg(e,t,n){return await n()}const ai={};class bl{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bl.nextInstanceID,bl.nextInstanceID+=1,this.instanceID>0&&br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},FS),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RS({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=c2(i.fetch),this.lock=i.lock||wg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:br()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=BS:this.lock=wg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:l2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yg(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yg(this.memoryStorage)),br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ai[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ai[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ai[this.storageKey]=Object.assign(Object.assign({},ai[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=fS(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),br()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),rS(o)){const p=(t=o.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:h,redirectType:g}=i;return this._debug("#_initialize()","detected session in URL",h,"redirect type",g),await this._saveSession(h),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ke(n)?{error:n}:{error:new i2("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jr}),{data:h,error:g}=o;if(g||!h)return{data:{user:null,session:null},error:g};const p=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,i;try{let o;if("email"in t){const{email:w,password:b,options:N}=t;let j=null,I=null;this.flowType==="pkce"&&([j,I]=await ti(this.storage,this.storageKey)),o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:w,password:b,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:j,code_challenge_method:I},xform:Jr})}else if("phone"in t){const{phone:w,password:b,options:N}=t;o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:b,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(i=N==null?void 0:N.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:Jr})}else throw new xc("You must provide either an email or phone number and a password");const{data:h,error:g}=o;if(g||!h)return{data:{user:null,session:null},error:g};const p=h.session,x=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(o){if(ke(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:h,options:g}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xg})}else if("phone"in t){const{phone:o,password:h,options:g}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:h,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:xg})}else throw new xc("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,o,h,g,p,x,w,b,N,j;let I,S;if("message"in t)I=t.message,S=t.signature;else{const{chain:O,wallet:T,statement:_,options:E}=t;let R;if(br())if(typeof T=="object")R=T;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))R=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=T}const X=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const H=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),_?{statement:_}:null));let L;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")L=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)L=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)I=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");I=[`${X.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(i=(r=E==null?void 0:E.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=E==null?void 0:E.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((x=E==null?void 0:E.signInWithSolana)===null||x===void 0)&&x.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((b=(w=E==null?void 0:E.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||b===void 0)&&b.length?["Resources",...E.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const H=await R.signMessage(new TextEncoder().encode(I),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=H}}try{const{data:O,error:T}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:I,signature:uS(S)},!((N=t.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Jr});if(T)throw T;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new pc}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:T})}catch(O){if(ke(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:o,error:h}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Jr});if(await Aa(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new pc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:h})}catch(o){if(ke(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:o,nonce:h}=t,g=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:h,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jr}),{data:p,error:x}=g;return x?{data:{user:null,session:null},error:x}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new pc}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:x})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,o,h;try{if("email"in t){const{email:g,options:p}=t;let x=null,w=null;this.flowType==="pkce"&&([x,w]=await ti(this.storage,this.storageKey));const{error:b}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:x,code_challenge_method:w},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in t){const{phone:g,options:p}=t,{data:x,error:w}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(i=p==null?void 0:p.data)!==null&&i!==void 0?i:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:x==null?void 0:x.message_id},error:w}}throw new xc("You must provide either an email or phone number.")}catch(g){if(ke(g))return{data:{user:null,session:null},error:g};throw g}}async verifyOtp(t){var n,r;try{let i,o;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:h,error:g}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Jr});if(g)throw g;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,x=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:x,session:p},error:null}}catch(i){if(ke(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let o=null,h=null;return this.flowType==="pkce"&&([o,h]=await ti(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:h}),headers:this.headers,xform:jS})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new ja;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ke(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:o}=t,{error:h}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in t){const{phone:r,type:i,options:o}=t,{data:h,error:g}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:g}}throw new xc("You must provide either an email or phone number and a type")}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await xs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<nh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const h=await xs(this.userStorage,this.storageKey+"-user");h!=null&&h.user?t.user=h.user:t.user=sh()}if(this.storage.isServer&&t.user){let h=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,x,w)=>(!h&&x==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,x,w))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pa}):await this._useSession(async n=>{var r,i,o;const{data:h,error:g}=n;if(g)throw g;return!(!((r=h.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=h.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Pa})})}catch(n){if(ke(n))return nS(n)&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new ja;const h=i.session;let g=null,p=null;this.flowType==="pkce"&&t.email!=null&&([g,p]=await ti(this.storage,this.storageKey));const{data:x,error:w}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:g,code_challenge_method:p}),jwt:h.access_token,xform:Pa});if(w)throw w;return h.user=x.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(r){if(ke(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ja;const n=Date.now()/1e3;let r=n,i=!0,o=null;const{payload:h}=ah(t.access_token);if(h.exp&&(r=h.exp,i=r<=n),i){const{session:g,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!g)return{data:{user:null,session:null},error:null};o=g}else{const{data:g,error:p}=await this._getUser(t.access_token);if(p)throw p;o={access_token:t.access_token,refresh_token:t.refresh_token,user:g.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(ke(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:h,error:g}=n;if(g)throw g;t=(r=h.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new ja;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ke(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!br())throw new yc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ug("No code detected.");const{data:_,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:h,expires_in:g,expires_at:p,token_type:x}=t;if(!o||!g||!h||!x)throw new yc("No session defined in URL");const w=Math.round(Date.now()/1e3),b=parseInt(g);let N=w+b;p&&(N=parseInt(p));const j=N-w;j*1e3<=oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${b}s`);const I=N-b;w-I>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",I,N,w):w-I<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",I,N,w);const{data:S,error:O}=await this._getUser(o);if(O)throw O;const T={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:b,expires_at:N,refresh_token:h,token_type:x,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(r){if(ke(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await xs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{error:o};const h=(r=i.session)===null||r===void 0?void 0:r.access_token;if(h){const{error:g}=await this.admin.signOut(h,t);if(g&&!(tS(g)&&(g.status===404||g.status===401||g.status===403)))return{error:g}}return t!=="others"&&(await this._removeSession(),await Aa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=hS(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:o},error:h}=n;if(h)throw h;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await ti(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(ke(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ke(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async o=>{var h,g,p,x,w;const{data:b,error:N}=o;if(N)throw N;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(h=t.options)===null||h===void 0?void 0:h.redirectTo,scopes:(g=t.options)===null||g===void 0?void 0:g.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",j,{headers:this.headers,jwt:(w=(x=b.session)===null||x===void 0?void 0:x.access_token)!==null&&w!==void 0?w:void 0})});if(i)throw i;return br()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ke(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:h}=n;if(h)throw h;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await pS(async i=>(i>0&&await gS(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jr})),(i,o)=>{const h=200*Math.pow(2,i);return o&&rh(o)&&Date.now()+h-r<oi})}catch(r){if(this._debug(n,"error",r),ke(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),br()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await xs(this.storage,this.storageKey);if(i&&this.userStorage){let h=await xs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:i.user},await li(this.userStorage,this.storageKey+"-user",h)),i.user=(t=h==null?void 0:h.user)!==null&&t!==void 0?t:sh()}else if(i&&!i.user&&!i.user){const h=await xs(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(i.user=h.user,await Aa(this.storage,this.storageKey+"-user"),await li(this.storage,this.storageKey,i)):i.user=sh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<nh;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${nh}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:h}=await this._callRefreshToken(i.refresh_token);h&&(console.error(h),rh(h)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:g}=await this._getUser(i.access_token);!g&&(h!=null&&h.user)?(i.user=h.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(r,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ku;const{data:o,error:h}=await this._refreshAccessToken(t);if(h)throw h;if(!o.session)throw new ja;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const g={session:o.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(o){if(this._debug(i,"error",o),ke(o)){const h={session:null,error:o};return rh(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(h),h}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],h=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(t,n)}catch(p){o.push(p)}});if(await Promise.all(h),o.length>0){for(let g=0;g<o.length;g+=1)console.error(o[g]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await li(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const o=gg(i);await li(this.storage,this.storageKey,o)}else{const i=gg(n);await li(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Aa(this.storage,this.storageKey),await Aa(this.storage,this.storageKey+"-code-verifier"),await Aa(this.storage,this.storageKey+"-user"),this.userStorage&&await Aa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${oi}ms, refresh threshold is ${Af} ticks`),i<=Af&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,h]=await ti(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(h)}`});i.push(g.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:o,error:h}=n;if(h)return{data:null,error:h};const g=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:x}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return x?{data:null,error:x}:(t.factorType==="totp"&&(!((i=p==null?void 0:p.totp)===null||i===void 0)&&i.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(n){if(ke(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;if(o)return{data:null,error:o};const{data:h,error:g}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:o}=n;return o?{data:null,error:o}:await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ke(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(h=>h.factor_type==="totp"&&h.status==="verified"),o=r.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:r,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=ah(i.access_token);let g=null;h.aal&&(g=h.aal);let p=g;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(b=>b.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const w=h.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(g=>g.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(g=>g.kid===t),r&&this.jwks_cached_at+JE>i)return r;const{data:o,error:h}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(g=>g.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:j,error:I}=await this.getSession();if(I||!j.session)return{data:null,error:I};r=j.session.access_token}const{header:i,payload:o,signature:h,raw:{header:g,payload:p}}=ah(r);n!=null&&n.allowExpired||NS(o.exp);const x=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!x){const{error:j}=await this.getUser(r);if(j)throw j;return{data:{claims:o,header:i,signature:h},error:null}}const w=ES(i.alg),b=await crypto.subtle.importKey("jwk",x,w,!0,["verify"]);if(!await crypto.subtle.verify(w,b,h,cS(`${g}.${p}`)))throw new jf("Invalid JWT signature");return{data:{claims:o,header:i,signature:h},error:null}}catch(r){if(ke(r))return{data:null,error:r};throw r}}}bl.nextInstanceID=0;const US=bl;class zS extends US{constructor(t){super(t)}}var WS=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})};class VS{constructor(t,n,r){var i,o,h;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const g=YE(t),p=new URL(g);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const x=`sb-${p.hostname.split(".")[0]}-auth-token`,w={db:FE,realtime:zE,auth:Object.assign(Object.assign({},UE),{storageKey:x}),global:BE},b=XE(r??{},w);this.storageKey=(i=b.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=b.global.headers)!==null&&o!==void 0?o:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(N,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=$E(n,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new sE(new URL("rest/v1",p).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new RE(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new R3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return WS(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:h,lock:g,debug:p},x,w){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new zS({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),x),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:h,lock:g,debug:p,fetch:w,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new CE(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const HS=(e,t,n)=>new VS(e,t,n);function $S(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}$S()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GS="https://bkystbizzqermnzvtakz.supabase.co",YS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJreXN0Yml6enFlcm1uenZ0YWt6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMjI5MjgsImV4cCI6MjA3MDY5ODkyOH0.afTYPXuZDxayIXNUNZ2Im6JrHBDopwd-NwySVHVjHrM",Ce=HS(GS,YS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}}),d2=F.createContext(void 0),mr=()=>{const e=F.useContext(d2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},XS=({children:e})=>{const[t,n]=F.useState(null),[r,i]=F.useState(null),[o,h]=F.useState(null),[g,p]=F.useState(!0);F.useEffect(()=>{Ce.auth.getSession().then(({data:{session:O}})=>{h(O),n((O==null?void 0:O.user)??null),O!=null&&O.user&&x(O.user.id),p(!1)});const{data:{subscription:S}}=Ce.auth.onAuthStateChange(async(O,T)=>{h(T),n((T==null?void 0:T.user)??null),T!=null&&T.user?await x(T.user.id):i(null),p(!1)});return()=>S.unsubscribe()},[]);const x=async S=>{try{const{data:O,error:T}=await Ce.from("users").select("*").eq("id_user",S).single();if(T){console.error("Error fetching user profile:",T);return}i(O)}catch(O){console.error("Error fetching user profile:",O)}},I={user:t,userProfile:r,session:o,loading:g,signIn:async(S,O)=>{try{p(!0);const{error:T}=await Ce.auth.signInWithPassword({email:S,password:O});if(T)throw T;xe.success("Berhasil masuk!")}catch(T){throw xe.error(T.message||"Gagal masuk"),T}finally{p(!1)}},signUp:async(S,O,T)=>{try{p(!0);const{data:_,error:E}=await Ce.auth.signUp({email:S,password:O});if(E)throw E;if(_.user){const{error:R}=await Ce.from("users").insert({id_user:_.user.id,email:_.user.email,...T});if(R)throw R}xe.success("Akun berhasil dibuat! Silakan cek email untuk verifikasi.")}catch(_){throw xe.error(_.message||"Gagal membuat akun"),_}finally{p(!1)}},signOut:async()=>{try{p(!0);const{error:S}=await Ce.auth.signOut();if(S)throw S;xe.success("Berhasil keluar")}catch(S){throw xe.error(S.message||"Gagal keluar"),S}finally{p(!1)}},updateProfile:async S=>{try{if(!t)throw new Error("User not authenticated");p(!0);const{error:O}=await Ce.from("users").update(S).eq("id_user",t.id);if(O)throw O;await x(t.id),xe.success("Profil berhasil diperbarui")}catch(O){throw xe.error(O.message||"Gagal memperbarui profil"),O}finally{p(!1)}}};return c.jsx(d2.Provider,{value:I,children:e})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(e,t)=>{const n=F.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:h,className:g="",children:p,...x},w)=>F.createElement("svg",{ref:w,...KS,width:i,height:i,stroke:r,strokeWidth:h?Number(o)*24/Number(i):o,className:["lucide",`lucide-${qS(e)}`,g].join(" "),...x},[...t.map(([b,N])=>F.createElement(b,N)),...Array.isArray(p)?p:[p]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=Ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Ee("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=Ee("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Ee("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ee("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=Ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=Ee("Fuel",[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2h0a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"8ur5zv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=Ee("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=Ee("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=Ee("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=Ee("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ee("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=Ee("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=Ee("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Ee("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=Ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=Ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p4=()=>{const[e,t]=F.useState(!1),[n,r]=F.useState(!1),{user:i,userProfile:o,signOut:h}=mr(),g=is(),p=no(),x=async()=>{try{await h(),p("/")}catch(O){console.error("Error signing out:",O)}},w=O=>g.pathname===O,b=[{path:"/",label:"Beranda",icon:s4},{path:"/rooms",label:"Ruangan",icon:Sn},{path:"/vehicles",label:"Kendaraan",icon:xt},{path:"/calendar",label:"Kalender",icon:Lt},{path:"/guide",label:"Panduan",icon:If}],N=[{path:"/dashboard",label:"Dashboard",icon:i4},{path:"/booking",label:"Peminjaman",icon:Lt},{path:"/my-bookings",label:"Riwayat",icon:If}],j=[{path:"/admin",label:"Admin Panel",icon:d4},{path:"/admin/bookings",label:"Kelola Peminjaman",icon:Lt},{path:"/admin/rooms",label:"Kelola Ruangan",icon:Sn},{path:"/admin/vehicles",label:"Kelola Kendaraan",icon:xt},{path:"/admin/users",label:"Kelola User",icon:Df}],I=[{path:"/staff",label:"Staff Panel",icon:Df},{path:"/staff/scanner",label:"QR Scanner",icon:u4}],S=()=>{if(!i)return b;let O=[...b,...N];return(o==null?void 0:o.role)==="admin"?O=[...O,...j,...I]:(o==null?void 0:o.role)==="petugas"&&(O=[...O,...I]),O};return c.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx("div",{className:"flex items-center",children:c.jsxs(Ae,{to:"/",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:c.jsx(Sn,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"hidden sm:block",children:[c.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"UNUGHA"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Sistem Peminjaman"})]})]})}),c.jsx("nav",{className:"hidden md:flex space-x-8",children:S().map(O=>{const T=O.icon;return c.jsxs(Ae,{to:O.path,className:`flex items-center space-x-1 px-3 py-2 rounded-md text-sm font-medium transition-colors ${w(O.path)?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,children:[c.jsx(T,{className:"w-4 h-4"}),c.jsx("span",{children:O.label})]},O.path)})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[i?c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>r(!n),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 transition-colors",children:[c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx(Ja,{className:"w-4 h-4 text-primary-600"})}),c.jsx("span",{className:"hidden sm:block text-sm font-medium",children:(o==null?void 0:o.nama)||"User"})]}),n&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200",children:[c.jsxs(Ae,{to:"/profile",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>r(!1),children:[c.jsx(Ja,{className:"w-4 h-4"}),c.jsx("span",{children:"Profil"})]}),c.jsxs("button",{onClick:x,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",children:[c.jsx(o4,{className:"w-4 h-4"}),c.jsx("span",{children:"Keluar"})]})]})]}):c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ae,{to:"/login",className:"text-gray-700 hover:text-primary-600 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Masuk"}),c.jsx(Ae,{to:"/register",className:"bg-primary-600 text-white hover:bg-primary-700 px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Daftar"})]}),c.jsx("button",{onClick:()=>t(!e),className:"md:hidden p-2 rounded-md text-gray-700 hover:text-primary-600 hover:bg-gray-50 transition-colors",children:e?c.jsx(g4,{className:"w-5 h-5"}):c.jsx(l4,{className:"w-5 h-5"})})]})]}),e&&c.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:c.jsx("nav",{className:"space-y-2",children:S().map(O=>{const T=O.icon;return c.jsxs(Ae,{to:O.path,className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${w(O.path)?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,onClick:()=>t(!1),children:[c.jsx(T,{className:"w-4 h-4"}),c.jsx("span",{children:O.label})]},O.path)})})})]})})},x4=()=>{const e=new Date().getFullYear();return c.jsx("footer",{className:"bg-gray-900 text-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"col-span-1 md:col-span-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:c.jsx(Sn,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold",children:"UNUGHA Cilacap"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Sistem Peminjaman"})]})]}),c.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Sistem informasi peminjaman ruangan dan kendaraan kampus Universitas Nahdlatul Ulama Al Ghazali (UNUGHA) Cilacap."}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Memudahkan civitas akademika dalam melakukan peminjaman fasilitas kampus dengan sistem yang terintegrasi dan real-time."})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Menu Utama"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(Ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Beranda"})}),c.jsx("li",{children:c.jsx(Ae,{to:"/rooms",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Data Ruangan"})}),c.jsx("li",{children:c.jsx(Ae,{to:"/vehicles",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Data Kendaraan"})}),c.jsx("li",{children:c.jsx(Ae,{to:"/calendar",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Kalender Peminjaman"})}),c.jsx("li",{children:c.jsx(Ae,{to:"/guide",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Panduan Peminjaman"})})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Kontak"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start space-x-2",children:[c.jsx(vn,{className:"w-4 h-4 text-gray-400 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"Jl. Diponegoro No. 15, Cilacap, Jawa Tengah"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(qu,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"(0282) 123456"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(so,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-gray-400 text-sm",children:"info@unugha.ac.id"})]})]})]})]}),c.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8",children:c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[c.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",e," Universitas Nahdlatul Ulama Al Ghazali Cilacap. All rights reserved."]}),c.jsxs("div",{className:"flex space-x-6 mt-4 md:mt-0",children:[c.jsx(Ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Kebijakan Privasi"}),c.jsx(Ae,{to:"/",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Syarat & Ketentuan"})]})]})})]})})},y4=({children:e})=>c.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[c.jsx(p4,{}),c.jsx("main",{className:"flex-1",children:e}),c.jsx(x4,{})]}),Ve=({size:e="md",className:t="",text:n})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return c.jsxs("div",{className:`flex flex-col items-center justify-center ${t}`,children:[c.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary-600 ${r[e]}`}),n&&c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:n})]})},w4=()=>{const{user:e}=mr(),t=[{icon:Lt,title:"Kalender Real-time",description:"Lihat ketersediaan ruangan dan kendaraan secara real-time dengan kalender terintegrasi"},{icon:h4,title:"QR Code Validation",description:"Validasi peminjaman menggunakan QR Code untuk keamanan dan kemudahan tracking"},{icon:f2,title:"Sistem Approval",description:"Proses persetujuan yang terstruktur dengan notifikasi otomatis via WhatsApp dan Email"},{icon:Ir,title:"Tracking Penggunaan",description:"Pencatatan waktu penggunaan yang akurat untuk laporan dan analisis"}],n=[{label:"Ruangan Tersedia",value:"25+",icon:Sn},{label:"Kendaraan Aktif",value:"10+",icon:xt},{label:"Pengguna Terdaftar",value:"500+",icon:_n},{label:"Peminjaman Selesai",value:"1000+",icon:Ut}];return c.jsxs("div",{className:"min-h-screen",children:[c.jsx("section",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Sistem Peminjaman",c.jsx("span",{className:"block text-primary-200",children:"UNUGHA Cilacap"})]}),c.jsx("p",{className:"text-xl md:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto",children:"Solusi digital untuk peminjaman ruangan dan kendaraan kampus yang mudah, cepat, dan terintegrasi"}),c.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?c.jsxs(Ae,{to:"/dashboard",className:"bg-white text-primary-600 hover:bg-gray-50 px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center justify-center",children:["Buka Dashboard",c.jsx(el,{className:"ml-2 w-5 h-5"})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Ae,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-50 px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center justify-center",children:["Mulai Sekarang",c.jsx(el,{className:"ml-2 w-5 h-5"})]}),c.jsx(Ae,{to:"/login",className:"border-2 border-white text-white hover:bg-white hover:text-primary-600 px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center justify-center",children:"Masuk"})]})})]})})}),c.jsx("section",{className:"py-16 bg-white",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:n.map((r,i)=>{const o=r.icon;return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary-100 rounded-lg mb-4",children:c.jsx(o,{className:"w-6 h-6 text-primary-600"})}),c.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.value}),c.jsx("div",{className:"text-gray-600",children:r.label})]},i)})})})}),c.jsx("section",{className:"py-20 bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Fitur Unggulan"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Sistem yang dirancang khusus untuk memenuhi kebutuhan peminjaman fasilitas kampus modern"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((r,i)=>{const o=r.icon;return c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary-100 rounded-lg mb-4",children:c.jsx(o,{className:"w-6 h-6 text-primary-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:r.title}),c.jsx("p",{className:"text-gray-600",children:r.description})]},i)})})]})}),c.jsx("section",{className:"py-20 bg-white",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Akses Cepat"}),c.jsx("p",{className:"text-xl text-gray-600",children:"Jelajahi fasilitas yang tersedia"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsxs(Ae,{to:"/rooms",className:"group bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-xl hover:from-blue-100 hover:to-blue-200 transition-all duration-300",children:[c.jsx(Sn,{className:"w-8 h-8 text-blue-600 mb-4 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Data Ruangan"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Lihat semua ruangan yang tersedia untuk dipinjam"})]}),c.jsxs(Ae,{to:"/vehicles",className:"group bg-gradient-to-br from-green-50 to-green-100 p-6 rounded-xl hover:from-green-100 hover:to-green-200 transition-all duration-300",children:[c.jsx(xt,{className:"w-8 h-8 text-green-600 mb-4 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Data Kendaraan"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Lihat semua kendaraan yang tersedia untuk dipinjam"})]}),c.jsxs(Ae,{to:"/calendar",className:"group bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-xl hover:from-purple-100 hover:to-purple-200 transition-all duration-300",children:[c.jsx(Lt,{className:"w-8 h-8 text-purple-600 mb-4 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Kalender"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Cek jadwal peminjaman secara real-time"})]}),c.jsxs(Ae,{to:"/guide",className:"group bg-gradient-to-br from-orange-50 to-orange-100 p-6 rounded-xl hover:from-orange-100 hover:to-orange-200 transition-all duration-300",children:[c.jsx(If,{className:"w-8 h-8 text-orange-600 mb-4 group-hover:scale-110 transition-transform"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Panduan"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Pelajari cara menggunakan sistem peminjaman"})]})]})]})}),!e&&c.jsx("section",{className:"py-20 bg-primary-600",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-4",children:"Siap Memulai?"}),c.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Bergabunglah dengan sistem peminjaman UNUGHA Cilacap dan nikmati kemudahan dalam meminjam fasilitas kampus"}),c.jsxs(Ae,{to:"/register",className:"bg-white text-primary-600 hover:bg-gray-50 px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center",children:["Daftar Sekarang",c.jsx(el,{className:"ml-2 w-5 h-5"})]})]})})]})};function fu(e){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}function Yr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function St(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Yt(e){St(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||fu(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function v4(e,t){St(2,arguments);var n=Yt(e),r=Yr(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var h=o.getDate();return i>=h?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function b4(e,t){St(2,arguments);var n=Yt(e).getTime(),r=Yr(t);return new Date(n+r)}var C4={};function Qu(){return C4}function N4(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var m2=6e4,g2=36e5;function E4(e){return St(1,arguments),e instanceof Date||fu(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function S4(e){if(St(1,arguments),!E4(e)&&typeof e!="number")return!1;var t=Yt(e);return!isNaN(Number(t))}function _4(e){St(1,arguments);var t=Yt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function A4(e){St(1,arguments);var t=Yt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function T4(e,t){St(2,arguments);var n=Yr(t);return b4(e,-n)}var k4=864e5;function j4(e){St(1,arguments);var t=Yt(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),i=n-r;return Math.floor(i/k4)+1}function mu(e){St(1,arguments);var t=1,n=Yt(e),r=n.getUTCDay(),i=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function p2(e){St(1,arguments);var t=Yt(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=mu(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var h=mu(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=h.getTime()?n:n-1}function I4(e){St(1,arguments);var t=p2(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=mu(n);return r}var O4=6048e5;function D4(e){St(1,arguments);var t=Yt(e),n=mu(t).getTime()-I4(t).getTime();return Math.round(n/O4)+1}function gu(e,t){var n,r,i,o,h,g,p,x;St(1,arguments);var w=Qu(),b=Yr((n=(r=(i=(o=t==null?void 0:t.weekStartsOn)!==null&&o!==void 0?o:t==null||(h=t.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.weekStartsOn)!==null&&i!==void 0?i:w.weekStartsOn)!==null&&r!==void 0?r:(p=w.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&n!==void 0?n:0);if(!(b>=0&&b<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var N=Yt(e),j=N.getUTCDay(),I=(j<b?7:0)+j-b;return N.setUTCDate(N.getUTCDate()-I),N.setUTCHours(0,0,0,0),N}function x2(e,t){var n,r,i,o,h,g,p,x;St(1,arguments);var w=Yt(e),b=w.getUTCFullYear(),N=Qu(),j=Yr((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(h=t.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&i!==void 0?i:N.firstWeekContainsDate)!==null&&r!==void 0?r:(p=N.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=new Date(0);I.setUTCFullYear(b+1,0,j),I.setUTCHours(0,0,0,0);var S=gu(I,t),O=new Date(0);O.setUTCFullYear(b,0,j),O.setUTCHours(0,0,0,0);var T=gu(O,t);return w.getTime()>=S.getTime()?b+1:w.getTime()>=T.getTime()?b:b-1}function M4(e,t){var n,r,i,o,h,g,p,x;St(1,arguments);var w=Qu(),b=Yr((n=(r=(i=(o=t==null?void 0:t.firstWeekContainsDate)!==null&&o!==void 0?o:t==null||(h=t.locale)===null||h===void 0||(g=h.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&i!==void 0?i:w.firstWeekContainsDate)!==null&&r!==void 0?r:(p=w.locale)===null||p===void 0||(x=p.options)===null||x===void 0?void 0:x.firstWeekContainsDate)!==null&&n!==void 0?n:1),N=x2(e,t),j=new Date(0);j.setUTCFullYear(N,0,b),j.setUTCHours(0,0,0,0);var I=gu(j,t);return I}var R4=6048e5;function P4(e,t){St(1,arguments);var n=Yt(e),r=gu(n,t).getTime()-M4(n,t).getTime();return Math.round(r/R4)+1}function Ke(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Ta={y:function(t,n){var r=t.getUTCFullYear(),i=r>0?r:1-r;return Ke(n==="yy"?i%100:i,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):Ke(r+1,2)},d:function(t,n){return Ke(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return Ke(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Ke(t.getUTCHours(),n.length)},m:function(t,n){return Ke(t.getUTCMinutes(),n.length)},s:function(t,n){return Ke(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,i=t.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return Ke(o,n.length)}},si={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},L4={G:function(t,n,r){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var i=t.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return Ta.y(t,n)},Y:function(t,n,r,i){var o=x2(t,i),h=o>0?o:1-o;if(n==="YY"){var g=h%100;return Ke(g,2)}return n==="Yo"?r.ordinalNumber(h,{unit:"year"}):Ke(h,n.length)},R:function(t,n){var r=p2(t);return Ke(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return Ke(r,n.length)},Q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Ke(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,r){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Ke(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,r){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Ta.M(t,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,r){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Ke(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,r,i){var o=P4(t,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):Ke(o,n.length)},I:function(t,n,r){var i=D4(t);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):Ke(i,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ta.d(t,n)},D:function(t,n,r){var i=j4(t);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):Ke(i,n.length)},E:function(t,n,r){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,r,i){var o=t.getUTCDay(),h=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(h);case"ee":return Ke(h,2);case"eo":return r.ordinalNumber(h,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(t,n,r,i){var o=t.getUTCDay(),h=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(h);case"cc":return Ke(h,n.length);case"co":return r.ordinalNumber(h,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(t,n,r){var i=t.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return Ke(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,r){var i=t.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(t,n,r){var i=t.getUTCHours(),o;switch(i===12?o=si.noon:i===0?o=si.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(t,n,r){var i=t.getUTCHours(),o;switch(i>=17?o=si.evening:i>=12?o=si.afternoon:i>=4?o=si.morning:o=si.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return Ta.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ta.H(t,n)},K:function(t,n,r){var i=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):Ke(i,n.length)},k:function(t,n,r){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):Ke(i,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ta.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ta.s(t,n)},S:function(t,n){return Ta.S(t,n)},X:function(t,n,r,i){var o=i._originalDate||t,h=o.getTimezoneOffset();if(h===0)return"Z";switch(n){case"X":return Eg(h);case"XXXX":case"XX":return bs(h);case"XXXXX":case"XXX":default:return bs(h,":")}},x:function(t,n,r,i){var o=i._originalDate||t,h=o.getTimezoneOffset();switch(n){case"x":return Eg(h);case"xxxx":case"xx":return bs(h);case"xxxxx":case"xxx":default:return bs(h,":")}},O:function(t,n,r,i){var o=i._originalDate||t,h=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Ng(h,":");case"OOOO":default:return"GMT"+bs(h,":")}},z:function(t,n,r,i){var o=i._originalDate||t,h=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Ng(h,":");case"zzzz":default:return"GMT"+bs(h,":")}},t:function(t,n,r,i){var o=i._originalDate||t,h=Math.floor(o.getTime()/1e3);return Ke(h,n.length)},T:function(t,n,r,i){var o=i._originalDate||t,h=o.getTime();return Ke(h,n.length)}};function Ng(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var h=t;return n+String(i)+h+Ke(o,2)}function Eg(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Ke(Math.abs(e)/60,2)}return bs(e,t)}function bs(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e),o=Ke(Math.floor(i/60),2),h=Ke(i%60,2);return r+o+n+h}var Sg=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},y2=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},B4=function(t,n){var r=t.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return Sg(t,n);var h;switch(i){case"P":h=n.dateTime({width:"short"});break;case"PP":h=n.dateTime({width:"medium"});break;case"PPP":h=n.dateTime({width:"long"});break;case"PPPP":default:h=n.dateTime({width:"full"});break}return h.replace("{{date}}",Sg(i,n)).replace("{{time}}",y2(o,n))},F4={p:y2,P:B4},U4=["D","DD"],z4=["YY","YYYY"];function W4(e){return U4.indexOf(e)!==-1}function V4(e){return z4.indexOf(e)!==-1}function _g(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var H4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$4=function(t,n,r){var i,o=H4[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};function Mi(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var G4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K4={date:Mi({formats:G4,defaultWidth:"full"}),time:Mi({formats:Y4,defaultWidth:"full"}),dateTime:Mi({formats:X4,defaultWidth:"full"})},q4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Q4=function(t,n,r,i){return q4[t]};function Vr(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,h=n!=null&&n.width?String(n.width):o;i=e.formattingValues[h]||e.formattingValues[o]}else{var g=e.defaultWidth,p=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[p]||e.values[g]}var x=e.argumentCallback?e.argumentCallback(t):t;return i[x]}}var Z4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},J4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},e_={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},t_={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},n_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},r_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},a_=function(t,n){var r=Number(t),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},s_={ordinalNumber:a_,era:Vr({values:Z4,defaultWidth:"wide"}),quarter:Vr({values:J4,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Vr({values:e_,defaultWidth:"wide"}),day:Vr({values:t_,defaultWidth:"wide"}),dayPeriod:Vr({values:n_,defaultWidth:"wide",formattingValues:r_,defaultFormattingWidth:"wide"})};function Hr(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var h=o[0],g=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(g)?o_(g,function(b){return b.test(h)}):i_(g,function(b){return b.test(h)}),x;x=e.valueCallback?e.valueCallback(p):p,x=n.valueCallback?n.valueCallback(x):x;var w=t.slice(h.length);return{value:x,rest:w}}}function i_(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function o_(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function w2(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var i=r[0],o=t.match(e.parsePattern);if(!o)return null;var h=e.valueCallback?e.valueCallback(o[0]):o[0];h=n.valueCallback?n.valueCallback(h):h;var g=t.slice(i.length);return{value:h,rest:g}}}var l_=/^(\d+)(th|st|nd|rd)?/i,c_=/\d+/i,u_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},d_={any:[/^b/i,/^(a|c)/i]},h_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},f_={any:[/1/i,/2/i,/3/i,/4/i]},m_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},g_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},x_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},y_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},w_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},v_={ordinalNumber:w2({matchPattern:l_,parsePattern:c_,valueCallback:function(t){return parseInt(t,10)}}),era:Hr({matchPatterns:u_,defaultMatchWidth:"wide",parsePatterns:d_,defaultParseWidth:"any"}),quarter:Hr({matchPatterns:h_,defaultMatchWidth:"wide",parsePatterns:f_,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Hr({matchPatterns:m_,defaultMatchWidth:"wide",parsePatterns:g_,defaultParseWidth:"any"}),day:Hr({matchPatterns:p_,defaultMatchWidth:"wide",parsePatterns:x_,defaultParseWidth:"any"}),dayPeriod:Hr({matchPatterns:y_,defaultMatchWidth:"any",parsePatterns:w_,defaultParseWidth:"any"})},b_={code:"en-US",formatDistance:$4,formatLong:K4,formatRelative:Q4,localize:s_,match:v_,options:{weekStartsOn:0,firstWeekContainsDate:1}},C_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,N_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,E_=/^'([^]*?)'?$/,S_=/''/g,__=/[a-zA-Z]/;function Pn(e,t,n){var r,i,o,h,g,p,x,w,b,N,j,I,S,O,T,_,E,R;St(2,arguments);var X=String(t),H=Qu(),L=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:H.locale)!==null&&r!==void 0?r:b_,G=Yr((o=(h=(g=(p=n==null?void 0:n.firstWeekContainsDate)!==null&&p!==void 0?p:n==null||(x=n.locale)===null||x===void 0||(w=x.options)===null||w===void 0?void 0:w.firstWeekContainsDate)!==null&&g!==void 0?g:H.firstWeekContainsDate)!==null&&h!==void 0?h:(b=H.locale)===null||b===void 0||(N=b.options)===null||N===void 0?void 0:N.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(G>=1&&G<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var B=Yr((j=(I=(S=(O=n==null?void 0:n.weekStartsOn)!==null&&O!==void 0?O:n==null||(T=n.locale)===null||T===void 0||(_=T.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&S!==void 0?S:H.weekStartsOn)!==null&&I!==void 0?I:(E=H.locale)===null||E===void 0||(R=E.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&j!==void 0?j:0);if(!(B>=0&&B<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var V=Yt(e);if(!S4(V))throw new RangeError("Invalid time value");var W=N4(V),q=T4(V,W),re={firstWeekContainsDate:G,weekStartsOn:B,locale:L,_originalDate:V},ye=X.match(N_).map(function($){var J=$[0];if(J==="p"||J==="P"){var ce=F4[J];return ce($,L.formatLong)}return $}).join("").match(C_).map(function($){if($==="''")return"'";var J=$[0];if(J==="'")return A_($);var ce=L4[J];if(ce)return!(n!=null&&n.useAdditionalWeekYearTokens)&&V4($)&&_g($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&W4($)&&_g($,t,String(e)),ce(q,$,L.localize,re);if(J.match(__))throw new RangeError("Format string contains an unescaped latin alphabet character `"+J+"`");return $}).join("");return ye}function A_(e){var t=e.match(E_);return t?t[1].replace(S_,"'"):e}function oh(e,t){St(2,arguments);var n=Yt(e),r=Yt(t);return n.getTime()>r.getTime()}function lh(e,t){St(2,arguments);var n=Yt(e),r=Yt(t);return n.getTime()<r.getTime()}function Ag(e,t){St(2,arguments);var n=Yt(e),r=Yt(t);return n.getTime()===r.getTime()}function bi(e,t){var n;St(1,arguments);var r=Yr((n=void 0)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=I_(e),o;if(i.date){var h=O_(i.date,r);o=D_(h.restDateString,h.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var g=o.getTime(),p=0,x;if(i.time&&(p=M_(i.time),isNaN(p)))return new Date(NaN);if(i.timezone){if(x=R_(i.timezone),isNaN(x))return new Date(NaN)}else{var w=new Date(g+p),b=new Date(0);return b.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),b.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),b}return new Date(g+p+x)}var wc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},T_=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,k_=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,j_=/^([+-])(\d{2})(?::?(\d{2}))?$/;function I_(e){var t={},n=e.split(wc.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],wc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(wc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var i=wc.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function O_(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function D_(e,t){if(t===null)return new Date(NaN);var n=e.match(T_);if(!n)return new Date(NaN);var r=!!n[4],i=Oo(n[1]),o=Oo(n[2])-1,h=Oo(n[3]),g=Oo(n[4]),p=Oo(n[5])-1;if(r)return U_(t,g,p)?P_(t,g,p):new Date(NaN);var x=new Date(0);return!B_(t,o,h)||!F_(t,i)?new Date(NaN):(x.setUTCFullYear(t,o,Math.max(i,h)),x)}function Oo(e){return e?parseInt(e):1}function M_(e){var t=e.match(k_);if(!t)return NaN;var n=ch(t[1]),r=ch(t[2]),i=ch(t[3]);return z_(n,r,i)?n*g2+r*m2+i*1e3:NaN}function ch(e){return e&&parseFloat(e.replace(",","."))||0}function R_(e){if(e==="Z")return 0;var t=e.match(j_);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return W_(r,i)?n*(r*g2+i*m2):NaN}function P_(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,o=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var L_=[31,null,31,30,31,30,31,31,30,31,30,31];function v2(e){return e%400===0||e%4===0&&e%100!==0}function B_(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(L_[t]||(v2(e)?29:28))}function F_(e,t){return t>=1&&t<=(v2(e)?366:365)}function U_(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function z_(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function W_(e,t){return t>=0&&t<=59}function V_(e,t){St(2,arguments);var n=Yr(t);return v4(e,-n)}var H_={lessThanXSeconds:{one:"kurang dari 1 detik",other:"kurang dari {{count}} detik"},xSeconds:{one:"1 detik",other:"{{count}} detik"},halfAMinute:"setengah menit",lessThanXMinutes:{one:"kurang dari 1 menit",other:"kurang dari {{count}} menit"},xMinutes:{one:"1 menit",other:"{{count}} menit"},aboutXHours:{one:"sekitar 1 jam",other:"sekitar {{count}} jam"},xHours:{one:"1 jam",other:"{{count}} jam"},xDays:{one:"1 hari",other:"{{count}} hari"},aboutXWeeks:{one:"sekitar 1 minggu",other:"sekitar {{count}} minggu"},xWeeks:{one:"1 minggu",other:"{{count}} minggu"},aboutXMonths:{one:"sekitar 1 bulan",other:"sekitar {{count}} bulan"},xMonths:{one:"1 bulan",other:"{{count}} bulan"},aboutXYears:{one:"sekitar 1 tahun",other:"sekitar {{count}} tahun"},xYears:{one:"1 tahun",other:"{{count}} tahun"},overXYears:{one:"lebih dari 1 tahun",other:"lebih dari {{count}} tahun"},almostXYears:{one:"hampir 1 tahun",other:"hampir {{count}} tahun"}},$_=function(t,n,r){var i,o=H_[t];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"dalam waktu "+i:i+" yang lalu":i},G_={full:"EEEE, d MMMM yyyy",long:"d MMMM yyyy",medium:"d MMM yyyy",short:"d/M/yyyy"},Y_={full:"HH.mm.ss",long:"HH.mm.ss",medium:"HH.mm",short:"HH.mm"},X_={full:"{{date}} 'pukul' {{time}}",long:"{{date}} 'pukul' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},K_={date:Mi({formats:G_,defaultWidth:"full"}),time:Mi({formats:Y_,defaultWidth:"full"}),dateTime:Mi({formats:X_,defaultWidth:"full"})},q_={lastWeek:"eeee 'lalu pukul' p",yesterday:"'Kemarin pukul' p",today:"'Hari ini pukul' p",tomorrow:"'Besok pukul' p",nextWeek:"eeee 'pukul' p",other:"P"},Q_=function(t,n,r,i){return q_[t]},Z_={narrow:["SM","M"],abbreviated:["SM","M"],wide:["Sebelum Masehi","Masehi"]},J_={narrow:["1","2","3","4"],abbreviated:["K1","K2","K3","K4"],wide:["Kuartal ke-1","Kuartal ke-2","Kuartal ke-3","Kuartal ke-4"]},eA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agt","Sep","Okt","Nov","Des"],wide:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},tA={narrow:["M","S","S","R","K","J","S"],short:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],abbreviated:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],wide:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},nA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},rA={narrow:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},abbreviated:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"},wide:{am:"AM",pm:"PM",midnight:"tengah malam",noon:"tengah hari",morning:"pagi",afternoon:"siang",evening:"sore",night:"malam"}},aA=function(t,n){var r=Number(t);return"ke-"+r},sA={ordinalNumber:aA,era:Vr({values:Z_,defaultWidth:"wide"}),quarter:Vr({values:J_,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Vr({values:eA,defaultWidth:"wide"}),day:Vr({values:tA,defaultWidth:"wide"}),dayPeriod:Vr({values:nA,defaultWidth:"wide",formattingValues:rA,defaultFormattingWidth:"wide"})},iA=/^ke-(\d+)?/i,oA=/\d+/i,lA={narrow:/^(sm|m)/i,abbreviated:/^(s\.?\s?m\.?|s\.?\s?e\.?\s?u\.?|m\.?|e\.?\s?u\.?)/i,wide:/^(sebelum masehi|sebelum era umum|masehi|era umum)/i},cA={any:[/^s/i,/^(m|e)/i]},uA={narrow:/^[1234]/i,abbreviated:/^K-?\s[1234]/i,wide:/^Kuartal ke-?\s?[1234]/i},dA={any:[/1/i,/2/i,/3/i,/4/i]},hA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|mei|jun|jul|agt|sep|okt|nov|des)/i,wide:/^(januari|februari|maret|april|mei|juni|juli|agustus|september|oktober|november|desember)/i},fA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^ma/i,/^ap/i,/^me/i,/^jun/i,/^jul/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},mA={narrow:/^[srkjm]/i,short:/^(min|sen|sel|rab|kam|jum|sab)/i,abbreviated:/^(min|sen|sel|rab|kam|jum|sab)/i,wide:/^(minggu|senin|selasa|rabu|kamis|jumat|sabtu)/i},gA={narrow:[/^m/i,/^s/i,/^s/i,/^r/i,/^k/i,/^j/i,/^s/i],any:[/^m/i,/^sen/i,/^sel/i,/^r/i,/^k/i,/^j/i,/^sa/i]},pA={narrow:/^(a|p|tengah m|tengah h|(di(\swaktu)?) (pagi|siang|sore|malam))/i,any:/^([ap]\.?\s?m\.?|tengah malam|tengah hari|(di(\swaktu)?) (pagi|siang|sore|malam))/i},xA={any:{am:/^a/i,pm:/^pm/i,midnight:/^tengah m/i,noon:/^tengah h/i,morning:/pagi/i,afternoon:/siang/i,evening:/sore/i,night:/malam/i}},yA={ordinalNumber:w2({matchPattern:iA,parsePattern:oA,valueCallback:function(t){return parseInt(t,10)}}),era:Hr({matchPatterns:lA,defaultMatchWidth:"wide",parsePatterns:cA,defaultParseWidth:"any"}),quarter:Hr({matchPatterns:uA,defaultMatchWidth:"wide",parsePatterns:dA,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Hr({matchPatterns:hA,defaultMatchWidth:"wide",parsePatterns:fA,defaultParseWidth:"any"}),day:Hr({matchPatterns:mA,defaultMatchWidth:"wide",parsePatterns:gA,defaultParseWidth:"any"}),dayPeriod:Hr({matchPatterns:pA,defaultMatchWidth:"any",parsePatterns:xA,defaultParseWidth:"any"})},Rs={code:"id",formatDistance:$_,formatLong:K_,formatRelative:Q_,localize:sA,match:yA,options:{weekStartsOn:1,firstWeekContainsDate:1}},wA=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},b2={},rr={};let s1;const vA=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];rr.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};rr.getSymbolTotalCodewords=function(t){return vA[t]};rr.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};rr.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');s1=t};rr.isKanjiModeEnabled=function(){return typeof s1<"u"};rr.toSJIS=function(t){return s1(t)};var Zu={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(Zu);function C2(){this.buffer=[],this.length=0}C2.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var bA=C2;function Bl(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Bl.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Bl.prototype.get=function(e,t){return this.data[e*this.size+t]};Bl.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Bl.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var CA=Bl,N2={};(function(e){const t=rr.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,o=t(r),h=o===145?26:Math.ceil((o-13)/(2*i-2))*2,g=[o-7];for(let p=1;p<i-1;p++)g[p]=g[p-1]-h;return g.push(6),g.reverse()},e.getPositions=function(r){const i=[],o=e.getRowColCoords(r),h=o.length;for(let g=0;g<h;g++)for(let p=0;p<h;p++)g===0&&p===0||g===0&&p===h-1||g===h-1&&p===0||i.push([o[g],o[p]]);return i}})(N2);var E2={};const NA=rr.getSymbolSize,Tg=7;E2.getPositions=function(t){const n=NA(t);return[[0,0],[n-Tg,0],[0,n-Tg]]};var S2={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const o=i.size;let h=0,g=0,p=0,x=null,w=null;for(let b=0;b<o;b++){g=p=0,x=w=null;for(let N=0;N<o;N++){let j=i.get(b,N);j===x?g++:(g>=5&&(h+=t.N1+(g-5)),x=j,g=1),j=i.get(N,b),j===w?p++:(p>=5&&(h+=t.N1+(p-5)),w=j,p=1)}g>=5&&(h+=t.N1+(g-5)),p>=5&&(h+=t.N1+(p-5))}return h},e.getPenaltyN2=function(i){const o=i.size;let h=0;for(let g=0;g<o-1;g++)for(let p=0;p<o-1;p++){const x=i.get(g,p)+i.get(g,p+1)+i.get(g+1,p)+i.get(g+1,p+1);(x===4||x===0)&&h++}return h*t.N2},e.getPenaltyN3=function(i){const o=i.size;let h=0,g=0,p=0;for(let x=0;x<o;x++){g=p=0;for(let w=0;w<o;w++)g=g<<1&2047|i.get(x,w),w>=10&&(g===1488||g===93)&&h++,p=p<<1&2047|i.get(w,x),w>=10&&(p===1488||p===93)&&h++}return h*t.N3},e.getPenaltyN4=function(i){let o=0;const h=i.data.length;for(let p=0;p<h;p++)o+=i.data[p];return Math.abs(Math.ceil(o*100/h/5)-10)*t.N4};function n(r,i,o){switch(r){case e.Patterns.PATTERN000:return(i+o)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(i+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return i*o%2+i*o%3===0;case e.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case e.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,o){const h=o.size;for(let g=0;g<h;g++)for(let p=0;p<h;p++)o.isReserved(p,g)||o.xor(p,g,n(i,p,g))},e.getBestMask=function(i,o){const h=Object.keys(e.Patterns).length;let g=0,p=1/0;for(let x=0;x<h;x++){o(x),e.applyMask(x,i);const w=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(x,i),w<p&&(p=w,g=x)}return g}})(S2);var Ju={};const Ua=Zu,vc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],bc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ju.getBlocksCount=function(t,n){switch(n){case Ua.L:return vc[(t-1)*4+0];case Ua.M:return vc[(t-1)*4+1];case Ua.Q:return vc[(t-1)*4+2];case Ua.H:return vc[(t-1)*4+3];default:return}};Ju.getTotalCodewordsCount=function(t,n){switch(n){case Ua.L:return bc[(t-1)*4+0];case Ua.M:return bc[(t-1)*4+1];case Ua.Q:return bc[(t-1)*4+2];case Ua.H:return bc[(t-1)*4+3];default:return}};var _2={},ed={};const tl=new Uint8Array(512),pu=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)tl[n]=t,pu[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)tl[n]=tl[n-255]})();ed.log=function(t){if(t<1)throw new Error("log("+t+")");return pu[t]};ed.exp=function(t){return tl[t]};ed.mul=function(t,n){return t===0||n===0?0:tl[pu[t]+pu[n]]};(function(e){const t=ed;e.mul=function(r,i){const o=new Uint8Array(r.length+i.length-1);for(let h=0;h<r.length;h++)for(let g=0;g<i.length;g++)o[h+g]^=t.mul(r[h],i[g]);return o},e.mod=function(r,i){let o=new Uint8Array(r);for(;o.length-i.length>=0;){const h=o[0];for(let p=0;p<i.length;p++)o[p]^=t.mul(i[p],h);let g=0;for(;g<o.length&&o[g]===0;)g++;o=o.slice(g)}return o},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let o=0;o<r;o++)i=e.mul(i,new Uint8Array([1,t.exp(o)]));return i}})(_2);const A2=_2;function i1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i1.prototype.initialize=function(t){this.degree=t,this.genPoly=A2.generateECPolynomial(this.degree)};i1.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=A2.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(r,i),o}return r};var EA=i1,T2={},cs={},o1={};o1.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Xr={};const k2="[0-9]+",SA="[A-Z $%*+\\-./:]+";let Cl="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Cl=Cl.replace(/u/g,"\\u");const _A="(?:(?![A-Z0-9 $%*+\\-./:]|"+Cl+`)(?:.|[\r
]))+`;Xr.KANJI=new RegExp(Cl,"g");Xr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Xr.BYTE=new RegExp(_A,"g");Xr.NUMERIC=new RegExp(k2,"g");Xr.ALPHANUMERIC=new RegExp(SA,"g");const AA=new RegExp("^"+Cl+"$"),TA=new RegExp("^"+k2+"$"),kA=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Xr.testKanji=function(t){return AA.test(t)};Xr.testNumeric=function(t){return TA.test(t)};Xr.testAlphanumeric=function(t){return kA.test(t)};(function(e){const t=o1,n=Xr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,h){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?o.ccBits[0]:h<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return n.testNumeric(o)?e.NUMERIC:n.testAlphanumeric(o)?e.ALPHANUMERIC:n.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(o,h){if(e.isValid(o))return o;try{return r(o)}catch{return h}}})(cs);(function(e){const t=rr,n=Ju,r=Zu,i=cs,o=o1,h=7973,g=t.getBCHDigit(h);function p(N,j,I){for(let S=1;S<=40;S++)if(j<=e.getCapacity(S,I,N))return S}function x(N,j){return i.getCharCountIndicator(N,j)+4}function w(N,j){let I=0;return N.forEach(function(S){const O=x(S.mode,j);I+=O+S.getBitsLength()}),I}function b(N,j){for(let I=1;I<=40;I++)if(w(N,I)<=e.getCapacity(I,j,i.MIXED))return I}e.from=function(j,I){return o.isValid(j)?parseInt(j,10):I},e.getCapacity=function(j,I,S){if(!o.isValid(j))throw new Error("Invalid QR Code version");typeof S>"u"&&(S=i.BYTE);const O=t.getSymbolTotalCodewords(j),T=n.getTotalCodewordsCount(j,I),_=(O-T)*8;if(S===i.MIXED)return _;const E=_-x(S,j);switch(S){case i.NUMERIC:return Math.floor(E/10*3);case i.ALPHANUMERIC:return Math.floor(E/11*2);case i.KANJI:return Math.floor(E/13);case i.BYTE:default:return Math.floor(E/8)}},e.getBestVersionForData=function(j,I){let S;const O=r.from(I,r.M);if(Array.isArray(j)){if(j.length>1)return b(j,O);if(j.length===0)return 1;S=j[0]}else S=j;return p(S.mode,S.getLength(),O)},e.getEncodedBits=function(j){if(!o.isValid(j)||j<7)throw new Error("Invalid QR Code version");let I=j<<12;for(;t.getBCHDigit(I)-g>=0;)I^=h<<t.getBCHDigit(I)-g;return j<<12|I}})(T2);var j2={};const Mf=rr,I2=1335,jA=21522,kg=Mf.getBCHDigit(I2);j2.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;Mf.getBCHDigit(i)-kg>=0;)i^=I2<<Mf.getBCHDigit(i)-kg;return(r<<10|i)^jA};var O2={};const IA=cs;function Yi(e){this.mode=IA.NUMERIC,this.data=e.toString()}Yi.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Yi.prototype.getLength=function(){return this.data.length};Yi.prototype.getBitsLength=function(){return Yi.getBitsLength(this.data.length)};Yi.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,o*3+1))};var OA=Yi;const DA=cs,uh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Xi(e){this.mode=DA.ALPHANUMERIC,this.data=e}Xi.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Xi.prototype.getLength=function(){return this.data.length};Xi.prototype.getBitsLength=function(){return Xi.getBitsLength(this.data.length)};Xi.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=uh.indexOf(this.data[n])*45;r+=uh.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(uh.indexOf(this.data[n]),6)};var MA=Xi;const RA=cs;function Ki(e){this.mode=RA.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ki.getBitsLength=function(t){return t*8};Ki.prototype.getLength=function(){return this.data.length};Ki.prototype.getBitsLength=function(){return Ki.getBitsLength(this.data.length)};Ki.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var PA=Ki;const LA=cs,BA=rr;function qi(e){this.mode=LA.KANJI,this.data=e}qi.getBitsLength=function(t){return t*13};qi.prototype.getLength=function(){return this.data.length};qi.prototype.getBitsLength=function(){return qi.getBitsLength(this.data.length)};qi.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=BA.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var FA=qi,D2={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var o={},h={};h[r]=0;var g=t.PriorityQueue.make();g.push(r,0);for(var p,x,w,b,N,j,I,S,O;!g.empty();){p=g.pop(),x=p.value,b=p.cost,N=n[x]||{};for(w in N)N.hasOwnProperty(w)&&(j=N[w],I=b+j,S=h[w],O=typeof h[w]>"u",(O||S>I)&&(h[w]=I,g.push(w,I),o[w]=x))}if(typeof i<"u"&&typeof h[i]>"u"){var T=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(T)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],o=r;o;)i.push(o),n[o],o=n[o];return i.reverse(),i},find_path:function(n,r,i){var o=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(i[o]=r[o]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(D2);var UA=D2.exports;(function(e){const t=cs,n=OA,r=MA,i=PA,o=FA,h=Xr,g=rr,p=UA;function x(T){return unescape(encodeURIComponent(T)).length}function w(T,_,E){const R=[];let X;for(;(X=T.exec(E))!==null;)R.push({data:X[0],index:X.index,mode:_,length:X[0].length});return R}function b(T){const _=w(h.NUMERIC,t.NUMERIC,T),E=w(h.ALPHANUMERIC,t.ALPHANUMERIC,T);let R,X;return g.isKanjiModeEnabled()?(R=w(h.BYTE,t.BYTE,T),X=w(h.KANJI,t.KANJI,T)):(R=w(h.BYTE_KANJI,t.BYTE,T),X=[]),_.concat(E,R,X).sort(function(L,G){return L.index-G.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function N(T,_){switch(_){case t.NUMERIC:return n.getBitsLength(T);case t.ALPHANUMERIC:return r.getBitsLength(T);case t.KANJI:return o.getBitsLength(T);case t.BYTE:return i.getBitsLength(T)}}function j(T){return T.reduce(function(_,E){const R=_.length-1>=0?_[_.length-1]:null;return R&&R.mode===E.mode?(_[_.length-1].data+=E.data,_):(_.push(E),_)},[])}function I(T){const _=[];for(let E=0;E<T.length;E++){const R=T[E];switch(R.mode){case t.NUMERIC:_.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:_.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:_.push([R,{data:R.data,mode:t.BYTE,length:x(R.data)}]);break;case t.BYTE:_.push([{data:R.data,mode:t.BYTE,length:x(R.data)}])}}return _}function S(T,_){const E={},R={start:{}};let X=["start"];for(let H=0;H<T.length;H++){const L=T[H],G=[];for(let B=0;B<L.length;B++){const V=L[B],W=""+H+B;G.push(W),E[W]={node:V,lastCount:0},R[W]={};for(let q=0;q<X.length;q++){const re=X[q];E[re]&&E[re].node.mode===V.mode?(R[re][W]=N(E[re].lastCount+V.length,V.mode)-N(E[re].lastCount,V.mode),E[re].lastCount+=V.length):(E[re]&&(E[re].lastCount=V.length),R[re][W]=N(V.length,V.mode)+4+t.getCharCountIndicator(V.mode,_))}}X=G}for(let H=0;H<X.length;H++)R[X[H]].end=0;return{map:R,table:E}}function O(T,_){let E;const R=t.getBestModeForData(T);if(E=t.from(_,R),E!==t.BYTE&&E.bit<R.bit)throw new Error('"'+T+'" cannot be encoded with mode '+t.toString(E)+`.
 Suggested mode is: `+t.toString(R));switch(E===t.KANJI&&!g.isKanjiModeEnabled()&&(E=t.BYTE),E){case t.NUMERIC:return new n(T);case t.ALPHANUMERIC:return new r(T);case t.KANJI:return new o(T);case t.BYTE:return new i(T)}}e.fromArray=function(_){return _.reduce(function(E,R){return typeof R=="string"?E.push(O(R,null)):R.data&&E.push(O(R.data,R.mode)),E},[])},e.fromString=function(_,E){const R=b(_,g.isKanjiModeEnabled()),X=I(R),H=S(X,E),L=p.find_path(H.map,"start","end"),G=[];for(let B=1;B<L.length-1;B++)G.push(H.table[L[B]].node);return e.fromArray(j(G))},e.rawSplit=function(_){return e.fromArray(b(_,g.isKanjiModeEnabled()))}})(O2);const td=rr,dh=Zu,zA=bA,WA=CA,VA=N2,HA=E2,Rf=S2,Pf=Ju,$A=EA,xu=T2,GA=j2,YA=cs,hh=O2;function XA(e,t){const n=e.size,r=HA.getPositions(t);for(let i=0;i<r.length;i++){const o=r[i][0],h=r[i][1];for(let g=-1;g<=7;g++)if(!(o+g<=-1||n<=o+g))for(let p=-1;p<=7;p++)h+p<=-1||n<=h+p||(g>=0&&g<=6&&(p===0||p===6)||p>=0&&p<=6&&(g===0||g===6)||g>=2&&g<=4&&p>=2&&p<=4?e.set(o+g,h+p,!0,!0):e.set(o+g,h+p,!1,!0))}}function KA(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function qA(e,t){const n=VA.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],o=n[r][1];for(let h=-2;h<=2;h++)for(let g=-2;g<=2;g++)h===-2||h===2||g===-2||g===2||h===0&&g===0?e.set(i+h,o+g,!0,!0):e.set(i+h,o+g,!1,!0)}}function QA(e,t){const n=e.size,r=xu.getEncodedBits(t);let i,o,h;for(let g=0;g<18;g++)i=Math.floor(g/3),o=g%3+n-8-3,h=(r>>g&1)===1,e.set(i,o,h,!0),e.set(o,i,h,!0)}function fh(e,t,n){const r=e.size,i=GA.getEncodedBits(t,n);let o,h;for(o=0;o<15;o++)h=(i>>o&1)===1,o<6?e.set(o,8,h,!0):o<8?e.set(o+1,8,h,!0):e.set(r-15+o,8,h,!0),o<8?e.set(8,r-o-1,h,!0):o<9?e.set(8,15-o-1+1,h,!0):e.set(8,15-o-1,h,!0);e.set(r-8,8,1,!0)}function ZA(e,t){const n=e.size;let r=-1,i=n-1,o=7,h=0;for(let g=n-1;g>0;g-=2)for(g===6&&g--;;){for(let p=0;p<2;p++)if(!e.isReserved(i,g-p)){let x=!1;h<t.length&&(x=(t[h]>>>o&1)===1),e.set(i,g-p,x),o--,o===-1&&(h++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function JA(e,t,n){const r=new zA;n.forEach(function(p){r.put(p.mode.bit,4),r.put(p.getLength(),YA.getCharCountIndicator(p.mode,e)),p.write(r)});const i=td.getSymbolTotalCodewords(e),o=Pf.getTotalCodewordsCount(e,t),h=(i-o)*8;for(r.getLengthInBits()+4<=h&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const g=(h-r.getLengthInBits())/8;for(let p=0;p<g;p++)r.put(p%2?17:236,8);return eT(r,e,t)}function eT(e,t,n){const r=td.getSymbolTotalCodewords(t),i=Pf.getTotalCodewordsCount(t,n),o=r-i,h=Pf.getBlocksCount(t,n),g=r%h,p=h-g,x=Math.floor(r/h),w=Math.floor(o/h),b=w+1,N=x-w,j=new $A(N);let I=0;const S=new Array(h),O=new Array(h);let T=0;const _=new Uint8Array(e.buffer);for(let L=0;L<h;L++){const G=L<p?w:b;S[L]=_.slice(I,I+G),O[L]=j.encode(S[L]),I+=G,T=Math.max(T,G)}const E=new Uint8Array(r);let R=0,X,H;for(X=0;X<T;X++)for(H=0;H<h;H++)X<S[H].length&&(E[R++]=S[H][X]);for(X=0;X<N;X++)for(H=0;H<h;H++)E[R++]=O[H][X];return E}function tT(e,t,n,r){let i;if(Array.isArray(e))i=hh.fromArray(e);else if(typeof e=="string"){let x=t;if(!x){const w=hh.rawSplit(e);x=xu.getBestVersionForData(w,n)}i=hh.fromString(e,x||40)}else throw new Error("Invalid data");const o=xu.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const h=JA(t,n,i),g=td.getSymbolSize(t),p=new WA(g);return XA(p,t),KA(p),qA(p,t),fh(p,n,0),t>=7&&QA(p,t),ZA(p,h),isNaN(r)&&(r=Rf.getBestMask(p,fh.bind(null,p,n))),Rf.applyMask(r,p),fh(p,n,r),{modules:p,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}b2.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=dh.M,i,o;return typeof n<"u"&&(r=dh.from(n.errorCorrectionLevel,dh.M),i=xu.from(n.version),o=Rf.from(n.maskPattern),n.toSJISFunc&&td.setToSJISFunction(n.toSJISFunc)),tT(t,i,r,o)};var M2={},l1={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,h=r.scale||4;return{width:o,scale:o?4:h,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const o=e.getScale(r,i);return Math.floor((r+i.margin*2)*o)},e.qrToImageData=function(r,i,o){const h=i.modules.size,g=i.modules.data,p=e.getScale(h,o),x=Math.floor((h+o.margin*2)*p),w=o.margin*p,b=[o.color.light,o.color.dark];for(let N=0;N<x;N++)for(let j=0;j<x;j++){let I=(N*x+j)*4,S=o.color.light;if(N>=w&&j>=w&&N<x-w&&j<x-w){const O=Math.floor((N-w)/p),T=Math.floor((j-w)/p);S=b[g[O*h+T]?1:0]}r[I++]=S.r,r[I++]=S.g,r[I++]=S.b,r[I]=S.a}}})(l1);(function(e){const t=l1;function n(i,o,h){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=h,o.width=h,o.style.height=h+"px",o.style.width=h+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,h,g){let p=g,x=h;typeof p>"u"&&(!h||!h.getContext)&&(p=h,h=void 0),h||(x=r()),p=t.getOptions(p);const w=t.getImageWidth(o.modules.size,p),b=x.getContext("2d"),N=b.createImageData(w,w);return t.qrToImageData(N.data,o,p),n(b,x,w),b.putImageData(N,0,0),x},e.renderToDataURL=function(o,h,g){let p=g;typeof p>"u"&&(!h||!h.getContext)&&(p=h,h=void 0),p||(p={});const x=e.render(o,h,p),w=p.type||"image/png",b=p.rendererOpts||{};return x.toDataURL(w,b.quality)}})(M2);var R2={};const nT=l1;function jg(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function mh(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function rT(e,t,n){let r="",i=0,o=!1,h=0;for(let g=0;g<e.length;g++){const p=Math.floor(g%t),x=Math.floor(g/t);!p&&!o&&(o=!0),e[g]?(h++,g>0&&p>0&&e[g-1]||(r+=o?mh("M",p+n,.5+x+n):mh("m",i,0),i=0,o=!1),p+1<t&&e[g+1]||(r+=mh("h",h),h=0)):i++}return r}R2.render=function(t,n,r){const i=nT.getOptions(n),o=t.modules.size,h=t.modules.data,g=o+i.margin*2,p=i.color.light.a?"<path "+jg(i.color.light,"fill")+' d="M0 0h'+g+"v"+g+'H0z"/>':"",x="<path "+jg(i.color.dark,"stroke")+' d="'+rT(h,o,i.margin)+'"/>',w='viewBox="0 0 '+g+" "+g+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+w+' shape-rendering="crispEdges">'+p+x+`</svg>
`;return typeof r=="function"&&r(null,N),N};const aT=wA,Lf=b2,P2=M2,sT=R2;function c1(e,t,n,r,i){const o=[].slice.call(arguments,1),h=o.length,g=typeof o[h-1]=="function";if(!g&&!aT())throw new Error("Callback required as last argument");if(g){if(h<2)throw new Error("Too few arguments provided");h===2?(i=n,n=t,t=r=void 0):h===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(n=t,t=r=void 0):h===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(p,x){try{const w=Lf.create(n,r);p(e(w,t,r))}catch(w){x(w)}})}try{const p=Lf.create(n,r);i(null,e(p,t,r))}catch(p){i(p)}}Lf.create;c1.bind(null,P2.render);c1.bind(null,P2.renderToDataURL);c1.bind(null,function(e,t,n){return sT.render(e,n)});const la=(e,t="dd MMMM yyyy")=>{const n=typeof e=="string"?bi(e):e;return Pn(n,t,{locale:Rs})},Fo=e=>Pn(bi(`2000-01-01T${e}`),"HH:mm"),Ig=(e,t)=>`${la(e)} ${Fo(t)}`,iT=(e,t,n,r,i,o,h,g)=>{const p=new Date(`${e}T${t}`),x=new Date(`${n}T${r}`),w=new Date(`${i}T${o}`),b=new Date(`${h}T${g}`);return oh(p,w)&&lh(p,b)||oh(x,w)&&lh(x,b)||lh(p,w)&&oh(x,b)||Ag(p,w)||Ag(x,b)},Ps=e=>{switch(e){case"diajukan":return"bg-yellow-100 text-yellow-800";case"disetujui":return"bg-green-100 text-green-800";case"ditolak":return"bg-red-100 text-red-800";case"selesai":return"bg-blue-100 text-blue-800";case"tersedia":return"bg-green-100 text-green-800";case"tidak_tersedia":return"bg-red-100 text-red-800";case"maintenance":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},Ls=e=>{switch(e){case"diajukan":return"Diajukan";case"disetujui":return"Disetujui";case"ditolak":return"Ditolak";case"selesai":return"Selesai";case"tersedia":return"Tersedia";case"tidak_tersedia":return"Tidak Tersedia";case"maintenance":return"Maintenance";default:return e}},oT=()=>{const[e,t]=F.useState([]),[n,r]=F.useState([]),[i,o]=F.useState(!0),[h,g]=F.useState(""),[p,x]=F.useState("all"),[w,b]=F.useState("all");F.useEffect(()=>{N()},[]),F.useEffect(()=>{j()},[e,h,p,w]);const N=async()=>{try{o(!0);const{data:O,error:T}=await Ce.from("ruangan").select("*").order("nama_ruangan",{ascending:!0});if(T)throw T;t(O||[])}catch(O){console.error("Error fetching rooms:",O)}finally{o(!1)}},j=()=>{let O=[...e];if(h&&(O=O.filter(T=>T.nama_ruangan.toLowerCase().includes(h.toLowerCase())||T.lokasi.toLowerCase().includes(h.toLowerCase())||T.fasilitas.toLowerCase().includes(h.toLowerCase()))),p!=="all"&&(O=O.filter(T=>T.status===p)),w!=="all"){const[T,_]=w.split("-").map(Number);_?O=O.filter(E=>E.kapasitas>=T&&E.kapasitas<=_):O=O.filter(E=>E.kapasitas>=T)}r(O)},I=O=>{switch(O){case"tersedia":return c.jsx(Ut,{className:"w-5 h-5 text-green-600"});case"tidak_tersedia":return c.jsx(kr,{className:"w-5 h-5 text-red-600"});case"maintenance":return c.jsx(hu,{className:"w-5 h-5 text-orange-600"});default:return c.jsx(hu,{className:"w-5 h-5 text-gray-600"})}},S=O=>O<=10?"Kecil":O<=30?"Sedang":O<=50?"Besar":"Sangat Besar";return i?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat data ruangan..."})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Data Ruangan"}),c.jsx("p",{className:"text-gray-600",children:"Lihat semua ruangan yang tersedia untuk dipinjam di UNUGHA Cilacap"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(io,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Cari ruangan...",value:h,onChange:O=>g(O.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsx("div",{children:c.jsxs("select",{value:p,onChange:O=>x(O.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})}),c.jsx("div",{children:c.jsxs("select",{value:w,onChange:O=>b(O.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Kapasitas"}),c.jsx("option",{value:"1-10",children:"1-10 Orang"}),c.jsx("option",{value:"11-30",children:"11-30 Orang"}),c.jsx("option",{value:"31-50",children:"31-50 Orang"}),c.jsx("option",{value:"51",children:"50+ Orang"})]})}),c.jsxs("button",{onClick:()=>{g(""),x("all"),b("all")},className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx(t1,{className:"w-4 h-4 mr-2"}),"Reset Filter"]})]})}),c.jsx("div",{className:"mb-6",children:c.jsxs("p",{className:"text-gray-600",children:["Menampilkan ",n.length," dari ",e.length," ruangan"]})}),n.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(O=>c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"h-48 bg-gradient-to-br from-primary-100 to-primary-200 flex items-center justify-center",children:c.jsx(Sn,{className:"w-16 h-16 text-primary-600"})}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.nama_ruangan}),c.jsx("div",{className:"flex items-center",children:I(O.status)})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(vn,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"text-sm",children:O.lokasi})]}),c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(_n,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm",children:[O.kapasitas," orang (",S(O.kapasitas),")"]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ps(O.status)}`,children:Ls(O.status)})}),c.jsxs("div",{className:"mb-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Fasilitas:"}),c.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:O.fasilitas})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(Ae,{to:"/calendar",className:"flex-1 bg-primary-600 text-white text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:[c.jsx(Lt,{className:"w-4 h-4 inline mr-1"}),"Lihat Jadwal"]}),O.status==="tersedia"&&c.jsx(Ae,{to:"/booking",state:{type:"ruangan",item:O},className:"flex-1 bg-green-600 text-white text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Pinjam"})]})]})]},O.id_ruangan))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada ruangan ditemukan"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Coba ubah filter pencarian atau kata kunci Anda"}),c.jsx("button",{onClick:()=>{g(""),x("all"),b("all")},className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:"Reset Filter"})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:e.filter(O=>O.status==="tersedia").length}),c.jsx("div",{className:"text-gray-600",children:"Ruangan Tersedia"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Math.round(e.reduce((O,T)=>O+T.kapasitas,0)/e.length)||0}),c.jsx("div",{className:"text-gray-600",children:"Rata-rata Kapasitas"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:e.length}),c.jsx("div",{className:"text-gray-600",children:"Total Ruangan"})]})]})]})})},lT=()=>{const[e,t]=F.useState([]),[n,r]=F.useState([]),[i,o]=F.useState(!0),[h,g]=F.useState(""),[p,x]=F.useState("all"),[w,b]=F.useState("all"),[N,j]=F.useState("all");F.useEffect(()=>{I()},[]),F.useEffect(()=>{S()},[e,h,p,w,N]);const I=async()=>{try{o(!0);const{data:E,error:R}=await Ce.from("kendaraan").select("*").order("jenis",{ascending:!0});if(R)throw R;t(E||[])}catch(E){console.error("Error fetching vehicles:",E)}finally{o(!1)}},S=()=>{let E=[...e];if(h&&(E=E.filter(R=>R.jenis.toLowerCase().includes(h.toLowerCase())||R.merk.toLowerCase().includes(h.toLowerCase())||R.plat_nomor.toLowerCase().includes(h.toLowerCase()))),p!=="all"&&(E=E.filter(R=>R.status===p)),w!=="all"&&(E=E.filter(R=>R.jenis.toLowerCase().includes(w.toLowerCase()))),N!=="all"){const[R,X]=N.split("-").map(Number);X?E=E.filter(H=>H.kapasitas_penumpang>=R&&H.kapasitas_penumpang<=X):E=E.filter(H=>H.kapasitas_penumpang>=R)}r(E)},O=E=>{switch(E){case"tersedia":return c.jsx(Ut,{className:"w-5 h-5 text-green-600"});case"tidak_tersedia":return c.jsx(kr,{className:"w-5 h-5 text-red-600"});case"maintenance":return c.jsx(hu,{className:"w-5 h-5 text-orange-600"});default:return c.jsx(hu,{className:"w-5 h-5 text-gray-600"})}},T=E=>{const R=E.toLowerCase();return R.includes("mobil")||R.includes("car")?c.jsx(xt,{className:"w-12 h-12 text-primary-600"}):R.includes("bus")||R.includes("minibus")?c.jsx(ZS,{className:"w-12 h-12 text-primary-600"}):R.includes("truck")||R.includes("truk")?c.jsx(f4,{className:"w-12 h-12 text-primary-600"}):c.jsx(xt,{className:"w-12 h-12 text-primary-600"})},_=E=>E<=4?"Kecil":E<=8?"Sedang":E<=15?"Besar":"Sangat Besar";return i?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat data kendaraan..."})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Data Kendaraan"}),c.jsx("p",{className:"text-gray-600",children:"Lihat semua kendaraan yang tersedia untuk dipinjam di UNUGHA Cilacap"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(io,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{type:"text",placeholder:"Cari kendaraan...",value:h,onChange:E=>g(E.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsx("div",{children:c.jsxs("select",{value:p,onChange:E=>x(E.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})}),c.jsx("div",{children:c.jsxs("select",{value:w,onChange:E=>b(E.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Jenis"}),c.jsx("option",{value:"mobil",children:"Mobil"}),c.jsx("option",{value:"bus",children:"Bus"}),c.jsx("option",{value:"minibus",children:"Minibus"}),c.jsx("option",{value:"truck",children:"Truck"})]})}),c.jsx("div",{children:c.jsxs("select",{value:N,onChange:E=>j(E.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Kapasitas"}),c.jsx("option",{value:"1-4",children:"1-4 Penumpang"}),c.jsx("option",{value:"5-8",children:"5-8 Penumpang"}),c.jsx("option",{value:"9-15",children:"9-15 Penumpang"}),c.jsx("option",{value:"16",children:"15+ Penumpang"})]})}),c.jsxs("button",{onClick:()=>{g(""),x("all"),b("all"),j("all")},className:"flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx(t1,{className:"w-4 h-4 mr-2"}),"Reset Filter"]})]})}),c.jsx("div",{className:"mb-6",children:c.jsxs("p",{className:"text-gray-600",children:["Menampilkan ",n.length," dari ",e.length," kendaraan"]})}),n.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(E=>c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-100 to-blue-200 flex items-center justify-center",children:T(E.jenis)}),c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.jenis}),c.jsx("p",{className:"text-sm text-gray-600",children:E.merk})]}),c.jsx("div",{className:"flex items-center",children:O(E.status)})]}),c.jsxs("div",{className:"space-y-2 mb-4",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(r4,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"text-sm font-mono",children:E.plat_nomor})]}),c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(_n,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{className:"text-sm",children:[E.kapasitas_penumpang," penumpang (",_(E.kapasitas_penumpang),")"]})]})]}),c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ps(E.status)}`,children:Ls(E.status)})}),c.jsx("div",{className:"mb-4",children:c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:E.jenis})}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsxs(Ae,{to:"/calendar",className:"flex-1 bg-primary-600 text-white text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:[c.jsx(Lt,{className:"w-4 h-4 inline mr-1"}),"Lihat Jadwal"]}),E.status==="tersedia"&&c.jsx(Ae,{to:"/booking",state:{type:"kendaraan",item:E},className:"flex-1 bg-green-600 text-white text-center py-2 px-4 rounded-md text-sm font-medium hover:bg-green-700 transition-colors",children:"Pinjam"})]})]})]},E.id_kendaraan))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx(xt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada kendaraan ditemukan"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Coba ubah filter pencarian atau kata kunci Anda"}),c.jsx("button",{onClick:()=>{g(""),x("all"),b("all"),j("all")},className:"bg-primary-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:"Reset Filter"})]}),c.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:e.filter(E=>E.status==="tersedia").length}),c.jsx("div",{className:"text-gray-600",children:"Kendaraan Tersedia"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:Math.round(e.reduce((E,R)=>E+R.kapasitas_penumpang,0)/e.length)||0}),c.jsx("div",{className:"text-gray-600",children:"Rata-rata Kapasitas"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:new Set(e.map(E=>E.jenis)).size}),c.jsx("div",{className:"text-gray-600",children:"Jenis Kendaraan"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-2",children:e.length}),c.jsx("div",{className:"text-gray-600",children:"Total Kendaraan"})]})]})]})})};var L2={exports:{}},cT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uT=cT,dT=uT;function B2(){}function F2(){}F2.resetWarningCache=B2;var hT=function(){function e(r,i,o,h,g,p){if(p!==dT){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:F2,resetWarningCache:B2};return n.PropTypes=n,n};L2.exports=hT();var fT=L2.exports;const ee=Tl(fT);function U2(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=U2(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function nd(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=U2(e))&&(r&&(r+=" "),r+=t);return r}const mT=(e,t,n,r)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const i=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(t,n);!gT(i,o)&&r||Object.defineProperty(e,n,o)},gT=function(e,t){return e===void 0||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},pT=(e,t)=>{const n=Object.getPrototypeOf(t);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},xT=(e,t)=>`/* Wrapped ${e}*/
${t}`,yT=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),wT=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),vT=(e,t,n)=>{const r=n===""?"":`with ${n.trim()}() `,i=xT.bind(null,r,t.toString());Object.defineProperty(i,"name",wT),Object.defineProperty(e,"toString",{...yT,value:i})},bT=(e,t,{ignoreNonConfigurable:n=!1}={})=>{const{name:r}=e;for(const i of Reflect.ownKeys(t))mT(e,t,i,n);return pT(e,t),vT(e,t,r),e};var CT=bT,Bf={exports:{}},NT=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};(function(e,t){var n=Pt&&Pt.__awaiter||function(h,g,p,x){return new(p||(p=Promise))(function(w,b){function N(S){try{I(x.next(S))}catch(O){b(O)}}function j(S){try{I(x.throw(S))}catch(O){b(O)}}function I(S){S.done?w(S.value):new p(function(O){O(S.value)}).then(N,j)}I((x=x.apply(h,g||[])).next())})},r=Pt&&Pt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(NT);function o(h,g="maxAge"){let p,x,w;const b=()=>n(this,void 0,void 0,function*(){if(p!==void 0)return;const I=S=>n(this,void 0,void 0,function*(){w=i.default();const O=S[1][g]-Date.now();if(O<=0){h.delete(S[0]),w.resolve();return}return p=S[0],x=setTimeout(()=>{h.delete(S[0]),w&&w.resolve()},O),typeof x.unref=="function"&&x.unref(),w.promise});try{for(const S of h)yield I(S)}catch{}p=void 0}),N=()=>{p=void 0,x!==void 0&&(clearTimeout(x),x=void 0),w!==void 0&&(w.reject(void 0),w=void 0)},j=h.set.bind(h);return h.set=(I,S)=>{h.has(I)&&h.delete(I);const O=j(I,S);return p&&p===I&&N(),b(),O},b(),h}t.default=o,e.exports=o,e.exports.default=o})(Bf,Bf.exports);var ET=Bf.exports;const ST=CT,_T=ET,gh=new WeakMap,z2=new WeakMap,yu=(e,{cacheKey:t,cache:n=new Map,maxAge:r}={})=>{typeof r=="number"&&_T(n);const i=function(...o){const h=t?t(o):o[0],g=n.get(h);if(g)return g.data;const p=e.apply(this,o);return n.set(h,{data:p,maxAge:r?Date.now()+r:Number.POSITIVE_INFINITY}),p};return ST(i,e,{ignoreNonConfigurable:!0}),z2.set(i,n),i};yu.decorator=(e={})=>(t,n,r)=>{const i=t[n];if(typeof i!="function")throw new TypeError("The decorated value must be a function");delete r.value,delete r.writable,r.get=function(){if(!gh.has(this)){const o=yu(i,e);return gh.set(this,o),o}return gh.get(this)}};yu.clear=e=>{const t=z2.get(e);if(!t)throw new TypeError("Can't clear a function that was not memoized!");if(typeof t.clear!="function")throw new TypeError("The cache Map can't be cleared!");t.clear()};var AT=yu;const W2=Tl(AT);function TT(e){return typeof e=="string"}function kT(e,t,n){return n.indexOf(e)===t}function jT(e){return e.toLowerCase()===e}function Og(e){return e.indexOf(",")===-1?e:e.split(",")}function Ff(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var t=e.split(".")[0],n=t===void 0?"":t;return Ff(n)}if(e.indexOf("@")!==-1){var r=e.split("@")[0],n=r===void 0?"":r;return Ff(n)}if(e.indexOf("-")===-1||!jT(e))return e;var i=e.split("-"),o=i[0],h=i[1],g=h===void 0?"":h;return"".concat(o,"-").concat(g.toUpperCase())}function IT(e){var t=e===void 0?{}:e,n=t.useFallbackLocale,r=n===void 0?!0:n,i=t.fallbackLocale,o=i===void 0?"en-US":i,h=[];if(typeof navigator<"u"){for(var g=navigator.languages||[],p=[],x=0,w=g;x<w.length;x++){var b=w[x];p=p.concat(Og(b))}var N=navigator.language,j=N&&Og(N);h=h.concat(p,j)}return r&&h.push(o),h.filter(TT).map(Ff).filter(kT)}var OT=W2(IT,{cacheKey:JSON.stringify});function DT(e){return OT(e)[0]||null}var V2=W2(DT,{cacheKey:JSON.stringify});function ga(e,t,n){return function(i,o){o===void 0&&(o=n);var h=e(i)+o;return t(h)}}function Fl(e){return function(n){return new Date(e(n).getTime()-1)}}function Ul(e,t){return function(r){return[e(r),t(r)]}}function vt(e){if(e instanceof Date)return e.getFullYear();if(typeof e=="number")return e;var t=parseInt(e,10);if(typeof e=="string"&&!isNaN(t))return t;throw new Error("Failed to get year from date: ".concat(e,"."))}function us(e){if(e instanceof Date)return e.getMonth();throw new Error("Failed to get month from date: ".concat(e,"."))}function rd(e){if(e instanceof Date)return e.getDate();throw new Error("Failed to get year from date: ".concat(e,"."))}function oo(e){var t=vt(e),n=t+(-t+1)%100,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var MT=ga(vt,oo,-100),H2=ga(vt,oo,100),u1=Fl(H2),RT=ga(vt,u1,-100),$2=Ul(oo,u1);function ds(e){var t=vt(e),n=t+(-t+1)%10,r=new Date;return r.setFullYear(n,0,1),r.setHours(0,0,0,0),r}var G2=ga(vt,ds,-10),d1=ga(vt,ds,10),ad=Fl(d1),Y2=ga(vt,ad,-10),X2=Ul(ds,ad);function lo(e){var t=vt(e),n=new Date;return n.setFullYear(t,0,1),n.setHours(0,0,0,0),n}var K2=ga(vt,lo,-1),h1=ga(vt,lo,1),sd=Fl(h1),q2=ga(vt,sd,-1),PT=Ul(lo,sd);function f1(e,t){return function(r,i){i===void 0&&(i=t);var o=vt(r),h=us(r)+i,g=new Date;return g.setFullYear(o,h,1),g.setHours(0,0,0,0),e(g)}}function Ws(e){var t=vt(e),n=us(e),r=new Date;return r.setFullYear(t,n,1),r.setHours(0,0,0,0),r}var Q2=f1(Ws,-1),m1=f1(Ws,1),zl=Fl(m1),Z2=f1(zl,-1),LT=Ul(Ws,zl);function BT(e,t){return function(r,i){i===void 0&&(i=t);var o=vt(r),h=us(r),g=rd(r)+i,p=new Date;return p.setFullYear(o,h,g),p.setHours(0,0,0,0),e(p)}}function Wl(e){var t=vt(e),n=us(e),r=rd(e),i=new Date;return i.setFullYear(t,n,r),i.setHours(0,0,0,0),i}var FT=BT(Wl,1),g1=Fl(FT),UT=Ul(Wl,g1);function J2(e){return rd(zl(e))}var Do,gt={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ci={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},zT=(Do={},Do[gt.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Do[gt.HEBREW]=["he","he-IL"],Do[gt.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Do),p1=[0,1,2,3,4,5,6],ph=new Map;function WT(e){return function(n,r){var i=n||V2();ph.has(i)||ph.set(i,new Map);var o=ph.get(i);return o.has(e)||o.set(e,new Intl.DateTimeFormat(i||void 0,e).format),o.get(e)(r)}}function VT(e){var t=new Date(e);return new Date(t.setHours(12))}function Vs(e){return function(t,n){return WT(e)(t,VT(n))}}var HT={day:"numeric"},$T={day:"numeric",month:"long",year:"numeric"},GT={month:"long"},YT={month:"long",year:"numeric"},XT={weekday:"short"},KT={weekday:"long"},qT={year:"numeric"},QT=Vs(HT),ZT=Vs($T),JT=Vs(GT),ew=Vs(YT),ek=Vs(XT),tk=Vs(KT),id=Vs(qT),nk=p1[0],rk=p1[5],Dg=p1[6];function Nl(e,t){t===void 0&&(t=gt.ISO_8601);var n=e.getDay();switch(t){case gt.ISO_8601:return(n+6)%7;case gt.ISLAMIC:return(n+1)%7;case gt.HEBREW:case gt.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function ak(e){var t=oo(e);return vt(t)}function sk(e){var t=ds(e);return vt(t)}function Uf(e,t){t===void 0&&(t=gt.ISO_8601);var n=vt(e),r=us(e),i=e.getDate()-Nl(e,t);return new Date(n,r,i)}function ik(e,t){t===void 0&&(t=gt.ISO_8601);var n=t===gt.GREGORY?gt.GREGORY:gt.ISO_8601,r=Uf(e,t),i=vt(e)+1,o,h;do o=new Date(i,0,n===gt.ISO_8601?4:1),h=Uf(o,t),i-=1;while(e<h);return Math.round((r.getTime()-h.getTime())/(864e5*7))+1}function ks(e,t){switch(e){case"century":return oo(t);case"decade":return ds(t);case"year":return lo(t);case"month":return Ws(t);case"day":return Wl(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function ok(e,t){switch(e){case"century":return MT(t);case"decade":return G2(t);case"year":return K2(t);case"month":return Q2(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function tw(e,t){switch(e){case"century":return H2(t);case"decade":return d1(t);case"year":return h1(t);case"month":return m1(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function lk(e,t){switch(e){case"decade":return G2(t,-100);case"year":return K2(t,-10);case"month":return Q2(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function ck(e,t){switch(e){case"decade":return d1(t,100);case"year":return h1(t,10);case"month":return m1(t,12);default:throw new Error("Invalid rangeType: ".concat(e))}}function nw(e,t){switch(e){case"century":return u1(t);case"decade":return ad(t);case"year":return sd(t);case"month":return zl(t);case"day":return g1(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function uk(e,t){switch(e){case"century":return RT(t);case"decade":return Y2(t);case"year":return q2(t);case"month":return Z2(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function dk(e,t){switch(e){case"decade":return Y2(t,-100);case"year":return q2(t,-10);case"month":return Z2(t,-12);default:throw new Error("Invalid rangeType: ".concat(e))}}function Mg(e,t){switch(e){case"century":return $2(t);case"decade":return X2(t);case"year":return PT(t);case"month":return LT(t);case"day":return UT(t);default:throw new Error("Invalid rangeType: ".concat(e))}}function hk(e,t,n){var r=[t,n].sort(function(i,o){return i.getTime()-o.getTime()});return[ks(e,r[0]),nw(e,r[1])]}function rw(e,t,n){return t===void 0&&(t=id),n.map(function(r){return t(e,r)}).join("  ")}function fk(e,t,n){return rw(e,t,$2(n))}function aw(e,t,n){return rw(e,t,X2(n))}function mk(e){return e.getDay()===new Date().getDay()}function sw(e,t){t===void 0&&(t=gt.ISO_8601);var n=e.getDay();switch(t){case gt.ISLAMIC:case gt.HEBREW:return n===rk||n===Dg;case gt.ISO_8601:case gt.GREGORY:return n===Dg||n===nk;default:throw new Error("Unsupported calendar type.")}}var Fr="react-calendar__navigation";function gk(e){var t=e.activeStartDate,n=e.drillUp,r=e.formatMonthYear,i=r===void 0?ew:r,o=e.formatYear,h=o===void 0?id:o,g=e.locale,p=e.maxDate,x=e.minDate,w=e.navigationAriaLabel,b=w===void 0?"":w,N=e.navigationAriaLive,j=e.navigationLabel,I=e.next2AriaLabel,S=I===void 0?"":I,O=e.next2Label,T=O===void 0?"":O,_=e.nextAriaLabel,E=_===void 0?"":_,R=e.nextLabel,X=R===void 0?"":R,H=e.prev2AriaLabel,L=H===void 0?"":H,G=e.prev2Label,B=G===void 0?"":G,V=e.prevAriaLabel,W=V===void 0?"":V,q=e.prevLabel,re=q===void 0?"":q,ye=e.setActiveStartDate,$=e.showDoubleView,J=e.view,ce=e.views,oe=ce.indexOf(J)>0,de=J!=="century",ue=ok(J,t),Oe=de?lk(J,t):void 0,_e=tw(J,t),It=de?ck(J,t):void 0,Ze=function(){if(ue.getFullYear()<0)return!0;var st=uk(J,t);return x&&x>=st}(),gr=de&&function(){if(Oe.getFullYear()<0)return!0;var st=dk(J,t);return x&&x>=st}(),ge=p&&p<_e,kn=de&&p&&p<It;function yt(){ye(ue,"prev")}function jn(){ye(Oe,"prev2")}function Kr(){ye(_e,"next")}function Xt(){ye(It,"next2")}function qr(st){var hn=function(){switch(J){case"century":return fk(g,h,st);case"decade":return aw(g,h,st);case"year":return h(g,st);case"month":return i(g,st);default:throw new Error("Invalid view: ".concat(J,"."))}}();return j?j({date:st,label:hn,locale:g||V2()||void 0,view:J}):hn}function Be(){var st="".concat(Fr,"__label");return we.createElement("button",{"aria-label":b,"aria-live":N,className:st,disabled:!oe,onClick:n,style:{flexGrow:1},type:"button"},we.createElement("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--from")},qr(t)),$?we.createElement(we.Fragment,null,we.createElement("span",{className:"".concat(st,"__divider")},"  "),we.createElement("span",{className:"".concat(st,"__labelText ").concat(st,"__labelText--to")},qr(_e))):null)}return we.createElement("div",{className:Fr},B!==null&&de?we.createElement("button",{"aria-label":L,className:"".concat(Fr,"__arrow ").concat(Fr,"__prev2-button"),disabled:gr,onClick:jn,type:"button"},B):null,re!==null&&we.createElement("button",{"aria-label":W,className:"".concat(Fr,"__arrow ").concat(Fr,"__prev-button"),disabled:Ze,onClick:yt,type:"button"},re),Be(),X!==null&&we.createElement("button",{"aria-label":E,className:"".concat(Fr,"__arrow ").concat(Fr,"__next-button"),disabled:ge,onClick:Kr,type:"button"},X),T!==null&&de?we.createElement("button",{"aria-label":S,className:"".concat(Fr,"__arrow ").concat(Fr,"__next2-button"),disabled:kn,onClick:Xt,type:"button"},T):null)}var Ni=function(){return Ni=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ni.apply(this,arguments)},pk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Rg(e){return"".concat(e,"%")}function x1(e){var t=e.children,n=e.className,r=e.count,i=e.direction,o=e.offset,h=e.style,g=e.wrap,p=pk(e,["children","className","count","direction","offset","style","wrap"]);return we.createElement("div",Ni({className:n,style:Ni({display:"flex",flexDirection:i,flexWrap:g?"wrap":"nowrap"},h)},p),we.Children.map(t,function(x,w){var b=o&&w===0?Rg(100*o/r):null;return we.cloneElement(x,Ni(Ni({},x.props),{style:{flexBasis:Rg(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:b,marginInlineStart:b,marginInlineEnd:0}}))}))}var xk=function(){},yk=xk;const wk=Tl(yk);var ii;function vk(e,t,n){return t&&t>e?t:n&&n<e?n:e}function El(e,t){return t[0]<=e&&t[1]>=e}function bk(e,t){return e[0]<=t[0]&&e[1]>=t[1]}function iw(e,t){return El(e[0],t)||El(e[1],t)}function Pg(e,t,n){var r=iw(t,e),i=[];if(r){i.push(n);var o=El(e[0],t),h=El(e[1],t);o&&i.push("".concat(n,"Start")),h&&i.push("".concat(n,"End")),o&&h&&i.push("".concat(n,"BothEnds"))}return i}function Ck(e){return Array.isArray(e)?e[0]!==null&&e[1]!==null:e!==null}function Nk(e){if(!e)throw new Error("args is required");var t=e.value,n=e.date,r=e.hover,i="react-calendar__tile",o=[i];if(!n)return o;var h=new Date,g=function(){if(Array.isArray(n))return n;var j=e.dateType;if(!j)throw new Error("dateType is required when date is not an array of two dates");return Mg(j,n)}();if(El(h,g)&&o.push("".concat(i,"--now")),!t||!Ck(t))return o;var p=function(){if(Array.isArray(t))return t;var j=e.valueType;if(!j)throw new Error("valueType is required when value is not an array of two dates");return Mg(j,t)}();bk(p,g)?o.push("".concat(i,"--active")):iw(p,g)&&o.push("".concat(i,"--hasActive"));var x=Pg(p,g,"".concat(i,"--range"));o.push.apply(o,x);var w=Array.isArray(t)?t:[t];if(r&&w.length===1){var b=r>p[0]?[p[0],r]:[r,p[0]],N=Pg(b,g,"".concat(i,"--hover"));o.push.apply(o,N)}return o}var Ek=(ii={},ii[Ci.ARABIC]=gt.ISLAMIC,ii[Ci.HEBREW]=gt.HEBREW,ii[Ci.ISO_8601]=gt.ISO_8601,ii[Ci.US]=gt.GREGORY,ii);function Sk(e){return e!==void 0&&e in Ci}var Lg=!1;function od(e){if(Sk(e)){var t=Ek[e];return wk(Lg,'Specifying calendarType="'.concat(e,'" is deprecated. Use calendarType="').concat(t,'" instead.')),Lg=!0,t}return e}function ld(e){for(var t=e.className,n=e.count,r=n===void 0?3:n,i=e.dateTransform,o=e.dateType,h=e.end,g=e.hover,p=e.offset,x=e.renderTile,w=e.start,b=e.step,N=b===void 0?1:b,j=e.value,I=e.valueType,S=[],O=w;O<=h;O+=N){var T=i(O);S.push(x({classes:Nk({date:T,dateType:o,hover:g,value:j,valueType:I}),date:T}))}return we.createElement(x1,{className:t,count:r,offset:p,wrap:!0},S)}function cd(e){var t=e.activeStartDate,n=e.children,r=e.classes,i=e.date,o=e.formatAbbr,h=e.locale,g=e.maxDate,p=e.maxDateTransform,x=e.minDate,w=e.minDateTransform,b=e.onClick,N=e.onMouseOver,j=e.style,I=e.tileClassName,S=e.tileContent,O=e.tileDisabled,T=e.view,_=F.useMemo(function(){var R={activeStartDate:t,date:i,view:T};return typeof I=="function"?I(R):I},[t,i,I,T]),E=F.useMemo(function(){var R={activeStartDate:t,date:i,view:T};return typeof S=="function"?S(R):S},[t,i,S,T]);return we.createElement("button",{className:nd(r,_),disabled:x&&w(x)>i||g&&p(g)<i||O&&O({activeStartDate:t,date:i,view:T}),onClick:b?function(R){return b(i,R)}:void 0,onFocus:N?function(){return N(i)}:void 0,onMouseOver:N?function(){return N(i)}:void 0,style:j,type:"button"},o?we.createElement("abbr",{"aria-label":o(h,i)},n):n,E)}var zf=function(){return zf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},zf.apply(this,arguments)},_k=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Bg="react-calendar__century-view__decades__decade";function Ak(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentCentury,i=e.formatYear,o=i===void 0?id:i,h=_k(e,["classes","currentCentury","formatYear"]),g=h.date,p=h.locale,x=[];return n&&x.push.apply(x,n),x.push(Bg),oo(g).getFullYear()!==r&&x.push("".concat(Bg,"--neighboringCentury")),we.createElement(cd,zf({},h,{classes:x,maxDateTransform:ad,minDateTransform:ds,view:"century"}),aw(p,o,g))}var Wf=function(){return Wf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Wf.apply(this,arguments)},Fg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Tk(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringCentury,i=e.value,o=e.valueType,h=Fg(e,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),g=ak(t),p=g+(r?119:99);return we.createElement(ld,{className:"react-calendar__century-view__decades",dateTransform:ds,dateType:"decade",end:p,hover:n,renderTile:function(x){var w=x.date,b=Fg(x,["date"]);return we.createElement(Ak,Wf({key:w.getTime()},h,b,{activeStartDate:t,currentCentury:g,date:w}))},start:g,step:10,value:i,valueType:o})}var Ug=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},kk=Object.values(gt),jk=Object.values(Ci),Vf=["century","decade","year","month"],ow=ee.oneOf(Ug(Ug([],kk,!0),jk,!0)),wu=ee.oneOfType([ee.string,ee.arrayOf(ee.string)]),lw=function(t,n,r){var i=t,o=n,h=i[o];if(!h)return null;if(!(h instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof h,"` supplied to `").concat(r,"`, expected instance of `Date`."));var g=t.maxDate;return g&&h>g?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof h,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},cw=function(t,n,r){var i=t,o=n,h=i[o];if(!h)return null;if(!(h instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof h,"` supplied to `").concat(r,"`, expected instance of `Date`."));var g=t.minDate;return g&&h<g?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof h,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},Ik=ee.oneOfType([ee.func,ee.exact({current:ee.any})]),Ok=ee.arrayOf(ee.oneOfType([ee.instanceOf(Date),ee.oneOf([null])]).isRequired),Dk=ee.oneOfType([ee.instanceOf(Date),ee.oneOf([null]),Ok]);ee.arrayOf(ee.oneOf(Vf));var vu=function(t,n,r){var i=t,o=n,h=i[o];return h!==void 0&&(typeof h!="string"||Vf.indexOf(h)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(h,"` supplied to `").concat(r,"`, expected one of [").concat(Vf.map(function(g){return'"'.concat(g,'"')}).join(", "),"].")):null};vu.isRequired=function(t,n,r,i,o){var h=t,g=n,p=h[g];return p?vu(t,n,r):new Error("The prop `".concat(n,"` is marked as required in `").concat(r,"`, but its value is `").concat(p,"`."))};var Mk=function(e){return ee.arrayOf(e)},ud={activeStartDate:ee.instanceOf(Date).isRequired,hover:ee.instanceOf(Date),locale:ee.string,maxDate:cw,minDate:lw,onClick:ee.func,onMouseOver:ee.func,tileClassName:ee.oneOfType([ee.func,wu]),tileContent:ee.oneOfType([ee.func,ee.node]),value:Dk,valueType:ee.oneOf(["century","decade","year","month","day"]).isRequired};ee.instanceOf(Date).isRequired,ee.arrayOf(ee.string.isRequired).isRequired,ee.instanceOf(Date).isRequired,ee.string,ee.func,ee.func,ee.objectOf(ee.oneOfType([ee.string,ee.number])),ee.oneOfType([ee.func,wu]),ee.oneOfType([ee.func,ee.node]),ee.func;var Sl=function(){return Sl=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Sl.apply(this,arguments)},uw=function(t){function n(){return we.createElement(Tk,Sl({},t))}return we.createElement("div",{className:"react-calendar__century-view"},n())};uw.propTypes=Sl(Sl({},ud),{showNeighboringCentury:ee.bool});var Hf=function(){return Hf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Hf.apply(this,arguments)},Rk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},zg="react-calendar__decade-view__years__year";function Pk(e){var t=e.classes,n=t===void 0?[]:t,r=e.currentDecade,i=e.formatYear,o=i===void 0?id:i,h=Rk(e,["classes","currentDecade","formatYear"]),g=h.date,p=h.locale,x=[];return n&&x.push.apply(x,n),x.push(zg),ds(g).getFullYear()!==r&&x.push("".concat(zg,"--neighboringDecade")),we.createElement(cd,Hf({},h,{classes:x,maxDateTransform:sd,minDateTransform:lo,view:"decade"}),o(p,g))}var $f=function(){return $f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},$f.apply(this,arguments)},Wg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Lk(e){var t=e.activeStartDate,n=e.hover,r=e.showNeighboringDecade,i=e.value,o=e.valueType,h=Wg(e,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),g=sk(t),p=g+(r?11:9);return we.createElement(ld,{className:"react-calendar__decade-view__years",dateTransform:lo,dateType:"year",end:p,hover:n,renderTile:function(x){var w=x.date,b=Wg(x,["date"]);return we.createElement(Pk,$f({key:w.getTime()},h,b,{activeStartDate:t,currentDecade:g,date:w}))},start:g,value:i,valueType:o})}var _l=function(){return _l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_l.apply(this,arguments)},dw=function(t){function n(){return we.createElement(Lk,_l({},t))}return we.createElement("div",{className:"react-calendar__decade-view"},n())};dw.propTypes=_l(_l({},ud),{showNeighboringDecade:ee.bool});var Gf=function(){return Gf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Gf.apply(this,arguments)},Bk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Vg=function(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Fk="react-calendar__year-view__months__month";function Uk(e){var t=e.classes,n=t===void 0?[]:t,r=e.formatMonth,i=r===void 0?JT:r,o=e.formatMonthYear,h=o===void 0?ew:o,g=Bk(e,["classes","formatMonth","formatMonthYear"]),p=g.date,x=g.locale;return we.createElement(cd,Gf({},g,{classes:Vg(Vg([],n,!0),[Fk],!1),formatAbbr:h,maxDateTransform:zl,minDateTransform:Ws,view:"year"}),i(x,p))}var Yf=function(){return Yf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Yf.apply(this,arguments)},Hg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function zk(e){var t=e.activeStartDate,n=e.hover,r=e.value,i=e.valueType,o=Hg(e,["activeStartDate","hover","value","valueType"]),h=0,g=11,p=vt(t);return we.createElement(ld,{className:"react-calendar__year-view__months",dateTransform:function(x){var w=new Date;return w.setFullYear(p,x,1),Ws(w)},dateType:"month",end:g,hover:n,renderTile:function(x){var w=x.date,b=Hg(x,["date"]);return we.createElement(Uk,Yf({key:w.getTime()},o,b,{activeStartDate:t,date:w}))},start:h,value:r,valueType:i})}var bu=function(){return bu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},bu.apply(this,arguments)},hw=function(t){function n(){return we.createElement(zk,bu({},t))}return we.createElement("div",{className:"react-calendar__year-view"},n())};hw.propTypes=bu({},ud);var Xf=function(){return Xf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Xf.apply(this,arguments)},Wk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},xh="react-calendar__month-view__days__day";function Vk(e){var t=e.calendarType,n=e.classes,r=n===void 0?[]:n,i=e.currentMonthIndex,o=e.formatDay,h=o===void 0?QT:o,g=e.formatLongDate,p=g===void 0?ZT:g,x=Wk(e,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),w=od(t),b=x.date,N=x.locale,j=[];return r&&j.push.apply(j,r),j.push(xh),sw(b,w)&&j.push("".concat(xh,"--weekend")),b.getMonth()!==i&&j.push("".concat(xh,"--neighboringMonth")),we.createElement(cd,Xf({},x,{classes:j,formatAbbr:p,maxDateTransform:g1,minDateTransform:Wl,view:"month"}),h(N,b))}var Kf=function(){return Kf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Kf.apply(this,arguments)},$g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Hk(e){var t=e.activeStartDate,n=e.calendarType,r=e.hover,i=e.showFixedNumberOfWeeks,o=e.showNeighboringMonth,h=e.value,g=e.valueType,p=$g(e,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),x=od(n),w=vt(t),b=us(t),N=i||o,j=Nl(t,x),I=N?0:j,S=(N?-j:0)+1,O=function(){if(i)return S+6*7-1;var T=J2(t);if(o){var _=new Date;_.setFullYear(w,b,T),_.setHours(0,0,0,0);var E=7-Nl(_,x)-1;return T+E}return T}();return we.createElement(ld,{className:"react-calendar__month-view__days",count:7,dateTransform:function(T){var _=new Date;return _.setFullYear(w,b,T),Wl(_)},dateType:"day",hover:r,end:O,renderTile:function(T){var _=T.date,E=$g(T,["date"]);return we.createElement(Vk,Kf({key:_.getTime()},p,E,{activeStartDate:t,calendarType:n,currentMonthIndex:b,date:_}))},offset:I,start:S,value:h,valueType:g})}var fw="react-calendar__month-view__weekdays",yh="".concat(fw,"__weekday");function $k(e){for(var t=e.calendarType,n=e.formatShortWeekday,r=n===void 0?ek:n,i=e.formatWeekday,o=i===void 0?tk:i,h=e.locale,g=e.onMouseLeave,p=od(t),x=new Date,w=Ws(x),b=vt(w),N=us(w),j=[],I=1;I<=7;I+=1){var S=new Date(b,N,I-Nl(w,p)),O=o(h,S);j.push(we.createElement("div",{key:I,className:nd(yh,mk(S)&&"".concat(yh,"--current"),sw(S,p)&&"".concat(yh,"--weekend"))},we.createElement("abbr",{"aria-label":O,title:O},r(h,S).replace(".",""))))}return we.createElement(x1,{className:fw,count:7,onFocus:g,onMouseOver:g},j)}var Cu=function(){return Cu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Cu.apply(this,arguments)},Gg=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Yg="react-calendar__tile";function Gk(e){var t=e.onClickWeekNumber,n=e.weekNumber,r=we.createElement("span",null,n);if(t){var i=e.date,o=e.onClickWeekNumber,h=e.weekNumber,g=Gg(e,["date","onClickWeekNumber","weekNumber"]);return we.createElement("button",Cu({},g,{className:Yg,onClick:function(p){return o(h,i,p)},type:"button"}),r)}else{e.date,e.onClickWeekNumber,e.weekNumber;var g=Gg(e,["date","onClickWeekNumber","weekNumber"]);return we.createElement("div",Cu({},g,{className:Yg}),r)}}function Yk(e){var t=e.activeStartDate,n=e.calendarType,r=e.onClickWeekNumber,i=e.onMouseLeave,o=e.showFixedNumberOfWeeks,h=od(n),g=function(){if(o)return 6;var w=J2(t),b=Nl(t,h),N=w-(7-b);return 1+Math.ceil(N/7)}(),p=function(){for(var w=vt(t),b=us(t),N=rd(t),j=[],I=0;I<g;I+=1)j.push(Uf(new Date(w,b,N+I*7),h));return j}(),x=p.map(function(w){return ik(w,h)});return we.createElement(x1,{className:"react-calendar__month-view__weekNumbers",count:g,direction:"column",onFocus:i,onMouseOver:i,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},x.map(function(w,b){var N=p[b];if(!N)throw new Error("date is not defined");return we.createElement(Gk,{key:w,date:N,onClickWeekNumber:r,weekNumber:w})}))}var Al=function(){return Al=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Al.apply(this,arguments)},Xk=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};function Kk(e){if(e)for(var t=0,n=Object.entries(zT);t<n.length;t++){var r=n[t],i=r[0],o=r[1];if(o.includes(e))return i}return gt.ISO_8601}var mw=function(t){var n=t.activeStartDate,r=t.locale,i=t.onMouseLeave,o=t.showFixedNumberOfWeeks,h=t.calendarType,g=h===void 0?Kk(r):h,p=t.formatShortWeekday,x=t.formatWeekday,w=t.onClickWeekNumber,b=t.showWeekNumbers,N=Xk(t,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function j(){return we.createElement($k,{calendarType:g,formatShortWeekday:p,formatWeekday:x,locale:r,onMouseLeave:i})}function I(){return b?we.createElement(Yk,{activeStartDate:n,calendarType:g,onClickWeekNumber:w,onMouseLeave:i,showFixedNumberOfWeeks:o}):null}function S(){return we.createElement(Hk,Al({calendarType:g},N))}var O="react-calendar__month-view";return we.createElement("div",{className:nd(O,b?"".concat(O,"--weekNumbers"):"")},we.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},I(),we.createElement("div",{style:{flexGrow:1,width:"100%"}},j(),S())))};mw.propTypes=Al(Al({},ud),{calendarType:ow,formatDay:ee.func,formatLongDate:ee.func,formatShortWeekday:ee.func,formatWeekday:ee.func,onClickWeekNumber:ee.func,onMouseLeave:ee.func,showFixedNumberOfWeeks:ee.bool,showNeighboringMonth:ee.bool,showWeekNumbers:ee.bool});var Ei=function(){return Ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ei.apply(this,arguments)},Cc="react-calendar",Ri=["century","decade","year","month"],qk=["decade","year","month","day"],y1=new Date;y1.setFullYear(1,0,1);y1.setHours(0,0,0,0);var Qk=new Date(864e13);function Uo(e){return e instanceof Date?e:new Date(e)}function gw(e,t){return Ri.slice(Ri.indexOf(e),Ri.indexOf(t)+1)}function Zk(e,t,n){var r=gw(t,n);return r.indexOf(e)!==-1}function w1(e,t,n){return e&&Zk(e,t,n)?e:n}function pw(e){var t=Ri.indexOf(e);return qk[t]}function Jk(e,t){var n=Array.isArray(e)?e[t]:e;if(!n)return null;var r=Uo(n);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(e));return r}function xw(e,t){var n=e.value,r=e.minDate,i=e.maxDate,o=e.maxDetail,h=Jk(n,t);if(!h)return null;var g=pw(o),p=function(){switch(t){case 0:return ks(g,h);case 1:return nw(g,h);default:throw new Error("Invalid index value: ".concat(t))}}();return vk(p,r,i)}var v1=function(e){return xw(e,0)},yw=function(e){return xw(e,1)},e8=function(e){return[v1,yw].map(function(t){return t(e)})};function ww(e){var t=e.maxDate,n=e.maxDetail,r=e.minDate,i=e.minDetail,o=e.value,h=e.view,g=w1(h,i,n),p=v1({value:o,minDate:r,maxDate:t,maxDetail:n})||new Date;return ks(g,p)}function t8(e){var t=e.activeStartDate,n=e.defaultActiveStartDate,r=e.defaultValue,i=e.defaultView,o=e.maxDate,h=e.maxDetail,g=e.minDate,p=e.minDetail,x=e.value,w=e.view,b=w1(w,p,h),N=t||n;return N?ks(b,N):ww({maxDate:o,maxDetail:h,minDate:g,minDetail:p,value:x||r,view:w||i})}function wh(e){return e&&(!Array.isArray(e)||e.length===1)}function Nc(e,t){return e instanceof Date&&t instanceof Date&&e.getTime()===t.getTime()}var vw=F.forwardRef(function(t,n){var r=t.activeStartDate,i=t.allowPartialRange,o=t.calendarType,h=t.className,g=t.defaultActiveStartDate,p=t.defaultValue,x=t.defaultView,w=t.formatDay,b=t.formatLongDate,N=t.formatMonth,j=t.formatMonthYear,I=t.formatShortWeekday,S=t.formatWeekday,O=t.formatYear,T=t.goToRangeStartOnSelect,_=T===void 0?!0:T,E=t.inputRef,R=t.locale,X=t.maxDate,H=X===void 0?Qk:X,L=t.maxDetail,G=L===void 0?"month":L,B=t.minDate,V=B===void 0?y1:B,W=t.minDetail,q=W===void 0?"century":W,re=t.navigationAriaLabel,ye=t.navigationAriaLive,$=t.navigationLabel,J=t.next2AriaLabel,ce=t.next2Label,oe=t.nextAriaLabel,de=t.nextLabel,ue=t.onActiveStartDateChange,Oe=t.onChange,_e=t.onClickDay,It=t.onClickDecade,Ze=t.onClickMonth,gr=t.onClickWeekNumber,ge=t.onClickYear,kn=t.onDrillDown,yt=t.onDrillUp,jn=t.onViewChange,Kr=t.prev2AriaLabel,Xt=t.prev2Label,qr=t.prevAriaLabel,Be=t.prevLabel,st=t.returnValue,hn=st===void 0?"start":st,Kt=t.selectRange,_t=t.showDoubleView,Xe=t.showFixedNumberOfWeeks,Pe=t.showNavigation,Hs=Pe===void 0?!0:Pe,pe=t.showNeighboringCentury,$s=t.showNeighboringDecade,co=t.showNeighboringMonth,pr=co===void 0?!0:co,uo=t.showWeekNumbers,Vn=t.tileClassName,Vl=t.tileContent,Or=t.tileDisabled,zt=t.value,ho=t.view,hs=F.useState(g),dd=hs[0],ut=hs[1],le=F.useState(null),Ot=le[0],Ge=le[1],dt=F.useState(Array.isArray(p)?p.map(function(je){return je!==null?Uo(je):null}):p!=null?Uo(p):null),Qr=dt[0],fo=dt[1],mo=F.useState(x),Ue=mo[0],Dr=mo[1],nn=r||dd||t8({activeStartDate:r,defaultActiveStartDate:g,defaultValue:p,defaultView:x,maxDate:H,maxDetail:G,minDate:V,minDetail:q,value:zt,view:ho}),rn=function(){var je=function(){return Kt&&wh(Qr)?Qr:zt!==void 0?zt:Qr}();return je?Array.isArray(je)?je.map(function(nt){return nt!==null?Uo(nt):null}):je!==null?Uo(je):null:null}(),fn=pw(G),et=w1(ho||Ue,q,G),tt=gw(q,G),pa=Kt?Ot:null,xa=tt.indexOf(et)<tt.length-1,Hn=tt.indexOf(et)>0,Hl=F.useCallback(function(je){var nt=function(){switch(hn){case"start":return v1;case"end":return yw;case"range":return e8;default:throw new Error("Invalid returnValue.")}}();return nt({maxDate:H,maxDetail:G,minDate:V,value:je})},[H,G,V,hn]),xr=F.useCallback(function(je,nt){ut(je);var He={action:nt,activeStartDate:je,value:rn,view:et};ue&&!Nc(nn,je)&&ue(He)},[nn,ue,rn,et]),ya=F.useCallback(function(je,nt){var He=function(){switch(et){case"century":return It;case"decade":return ge;case"year":return Ze;case"month":return _e;default:throw new Error("Invalid view: ".concat(et,"."))}}();He&&He(je,nt)},[_e,It,Ze,ge,et]),qt=F.useCallback(function(je,nt){if(xa){ya(je,nt);var He=tt[tt.indexOf(et)+1];if(!He)throw new Error("Attempted to drill down from the lowest view.");ut(je),Dr(He);var $n={action:"drillDown",activeStartDate:je,value:rn,view:He};ue&&!Nc(nn,je)&&ue($n),jn&&et!==He&&jn($n),kn&&kn($n)}},[nn,xa,ue,ya,kn,jn,rn,et,tt]),yr=F.useCallback(function(){if(Hn){var je=tt[tt.indexOf(et)-1];if(!je)throw new Error("Attempted to drill up from the highest view.");var nt=ks(je,nn);ut(nt),Dr(je);var He={action:"drillUp",activeStartDate:nt,value:rn,view:je};ue&&!Nc(nn,nt)&&ue(He),jn&&et!==je&&jn(He),yt&&yt(He)}},[nn,Hn,ue,yt,jn,rn,et,tt]),mn=F.useCallback(function(je,nt){var He=rn;ya(je,nt);var $n=Kt&&!wh(He),Gn;if(Kt)if($n)Gn=ks(fn,je);else{if(!He)throw new Error("previousValue is required");if(Array.isArray(He))throw new Error("previousValue must not be an array");Gn=hk(fn,He,je)}else Gn=Hl(je);var In=!Kt||$n||_?ww({maxDate:H,maxDetail:G,minDate:V,minDetail:q,value:Gn,view:et}):null;nt.persist(),ut(In),fo(Gn);var an={action:"onChange",activeStartDate:In,value:Gn,view:et};if(ue&&!Nc(nn,In)&&ue(an),Oe)if(Kt){var it=wh(Gn);if(!it)Oe(Gn||null,nt);else if(i){if(Array.isArray(Gn))throw new Error("value must not be an array");Oe([Gn||null,null],nt)}}else Oe(Gn||null,nt)},[nn,i,Hl,_,H,G,V,q,ue,Oe,ya,Kt,rn,fn,et]);function he(je){Ge(je)}function Mr(){Ge(null)}F.useImperativeHandle(n,function(){return{activeStartDate:nn,drillDown:qt,drillUp:yr,onChange:mn,setActiveStartDate:xr,value:rn,view:et}},[nn,qt,yr,mn,xr,rn,et]);function Gs(je){var nt=je?tw(et,nn):ks(et,nn),He=xa?qt:mn,$n={activeStartDate:nt,hover:pa,locale:R,maxDate:H,minDate:V,onClick:He,onMouseOver:Kt?he:void 0,tileClassName:Vn,tileContent:Vl,tileDisabled:Or,value:rn,valueType:fn};switch(et){case"century":return we.createElement(uw,Ei({formatYear:O,showNeighboringCentury:pe},$n));case"decade":return we.createElement(dw,Ei({formatYear:O,showNeighboringDecade:$s},$n));case"year":return we.createElement(hw,Ei({formatMonth:N,formatMonthYear:j},$n));case"month":return we.createElement(mw,Ei({calendarType:o,formatDay:w,formatLongDate:b,formatShortWeekday:I,formatWeekday:S,onClickWeekNumber:gr,onMouseLeave:Kt?Mr:void 0,showFixedNumberOfWeeks:typeof Xe<"u"?Xe:_t,showNeighboringMonth:pr,showWeekNumbers:uo},$n));default:throw new Error("Invalid view: ".concat(et,"."))}}function gn(){return Hs?we.createElement(gk,{activeStartDate:nn,drillUp:yr,formatMonthYear:j,formatYear:O,locale:R,maxDate:H,minDate:V,navigationAriaLabel:re,navigationAriaLive:ye,navigationLabel:$,next2AriaLabel:J,next2Label:ce,nextAriaLabel:oe,nextLabel:de,prev2AriaLabel:Kr,prev2Label:Xt,prevAriaLabel:qr,prevLabel:Be,setActiveStartDate:xr,showDoubleView:_t,view:et,views:tt}):null}var wa=Array.isArray(rn)?rn:[rn];return we.createElement("div",{className:nd(Cc,Kt&&wa.length===1&&"".concat(Cc,"--selectRange"),_t&&"".concat(Cc,"--doubleView"),h),ref:E},gn(),we.createElement("div",{className:"".concat(Cc,"__viewContainer"),onBlur:Kt?Mr:void 0,onMouseLeave:Kt?Mr:void 0},Gs(),_t?Gs(!0):null))}),Xg=ee.instanceOf(Date),Kg=ee.oneOfType([ee.string,ee.instanceOf(Date)]),qg=ee.oneOfType([Kg,Mk(Kg)]);vw.propTypes={activeStartDate:Xg,allowPartialRange:ee.bool,calendarType:ow,className:wu,defaultActiveStartDate:Xg,defaultValue:qg,defaultView:vu,formatDay:ee.func,formatLongDate:ee.func,formatMonth:ee.func,formatMonthYear:ee.func,formatShortWeekday:ee.func,formatWeekday:ee.func,formatYear:ee.func,goToRangeStartOnSelect:ee.bool,inputRef:Ik,locale:ee.string,maxDate:cw,maxDetail:ee.oneOf(Ri),minDate:lw,minDetail:ee.oneOf(Ri),navigationAriaLabel:ee.string,navigationAriaLive:ee.oneOf(["off","polite","assertive"]),navigationLabel:ee.func,next2AriaLabel:ee.string,next2Label:ee.node,nextAriaLabel:ee.string,nextLabel:ee.node,onActiveStartDateChange:ee.func,onChange:ee.func,onClickDay:ee.func,onClickDecade:ee.func,onClickMonth:ee.func,onClickWeekNumber:ee.func,onClickYear:ee.func,onDrillDown:ee.func,onDrillUp:ee.func,onViewChange:ee.func,prev2AriaLabel:ee.string,prev2Label:ee.node,prevAriaLabel:ee.string,prevLabel:ee.node,returnValue:ee.oneOf(["start","end","range"]),selectRange:ee.bool,showDoubleView:ee.bool,showFixedNumberOfWeeks:ee.bool,showNavigation:ee.bool,showNeighboringCentury:ee.bool,showNeighboringDecade:ee.bool,showNeighboringMonth:ee.bool,showWeekNumbers:ee.bool,tileClassName:ee.oneOfType([ee.func,wu]),tileContent:ee.oneOfType([ee.func,ee.node]),tileDisabled:ee.func,value:qg,view:vu};const n8=()=>{var L,G;const{user:e}=mr(),[t,n]=F.useState(new Date),[r,i]=F.useState([]),[o,h]=F.useState([]),[g,p]=F.useState(!0),[x,w]=F.useState("all"),[b,N]=F.useState("all"),[j,I]=F.useState(null),[S,O]=F.useState(!1);F.useEffect(()=>{T()},[]),F.useEffect(()=>{_()},[r,t,x,b]);const T=async()=>{try{p(!0);const{data:B,error:V}=await Ce.from("peminjaman").select(`
          *,
          users:id_user (
            nama,
            email
          ),
          ruangan:id_ruangan (
            nama_ruangan,
            lokasi
          ),
          kendaraan:id_kendaraan (
            jenis,
            merk,
            plat_nomor
          )
        `).order("tanggal_mulai",{ascending:!0});if(V)throw V;i(B||[])}catch(B){console.error("Error fetching bookings:",B)}finally{p(!1)}},_=()=>{let B=[...r];if(t&&t instanceof Date){const V=t.toISOString().split("T")[0];B=B.filter(W=>new Date(W.tanggal_mulai).toISOString().split("T")[0]===V)}x!=="all"&&(B=B.filter(V=>V.jenis_peminjaman===x)),b!=="all"&&(B=B.filter(V=>V.status===b)),h(B)},E=B=>{const V=B.toISOString().split("T")[0];return r.filter(W=>new Date(W.tanggal_mulai).toISOString().split("T")[0]===V)},R=({date:B,view:V})=>V==="month"&&E(B).length>0?c.jsx("div",{className:"flex justify-center mt-1",children:c.jsx("div",{className:"w-2 h-2 bg-primary-600 rounded-full"})}):null,X=B=>{I(B),O(!0)},H=()=>{I(null),O(!1)};return g?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat kalender peminjaman..."})}):c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Kalender Peminjaman"}),c.jsx("p",{className:"text-gray-600",children:"Lihat jadwal peminjaman ruangan dan kendaraan secara real-time"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pilih Tanggal"}),c.jsx(vw,{onChange:n,value:t,tileContent:R,className:"w-full border-0",locale:"id-ID",formatShortWeekday:(B,V)=>["Min","Sen","Sel","Rab","Kam","Jum","Sab"][V.getDay()],formatMonthYear:(B,V)=>`${["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][V.getMonth()]} ${V.getFullYear()}`,prevLabel:c.jsx(JS,{className:"w-4 h-4"}),nextLabel:c.jsx(e4,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"Keterangan:"}),c.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-3 h-3 bg-primary-600 rounded-full mr-2"}),c.jsx("span",{children:"Ada peminjaman"})]})})]})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Filter"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jenis Peminjaman"}),c.jsxs("select",{value:x,onChange:B=>w(B.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua"}),c.jsx("option",{value:"ruangan",children:"Ruangan"}),c.jsx("option",{value:"kendaraan",children:"Kendaraan"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),c.jsxs("select",{value:b,onChange:B=>N(B.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"diajukan",children:"Diajukan"}),c.jsx("option",{value:"disetujui",children:"Disetujui"}),c.jsx("option",{value:"ditolak",children:"Ditolak"}),c.jsx("option",{value:"selesai",children:"Selesai"})]})]}),c.jsxs("button",{onClick:()=>{w("all"),N("all")},className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[c.jsx(t1,{className:"w-4 h-4 mr-2"}),"Reset Filter"]})]})]}),e&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aksi Cepat"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(Ae,{to:"/booking",className:"w-full flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:[c.jsx($i,{className:"w-4 h-4 mr-2"}),"Ajukan Peminjaman"]}),c.jsx(Ae,{to:"/dashboard",className:"w-full flex items-center justify-center px-4 py-2 border border-gray-300 text-gray-700 rounded-md text-sm font-medium hover:bg-gray-50 transition-colors",children:"Lihat Dashboard"})]})]})]})]}),c.jsx("div",{className:"mt-8",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Peminjaman pada ",t instanceof Date?la(t):"Tanggal Dipilih"]}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.length," peminjaman ditemukan"]})]}),c.jsx("div",{className:"divide-y divide-gray-200",children:o.length>0?o.map(B=>{var V,W,q,re;return c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[B.jenis_peminjaman==="ruangan"?c.jsx(Sn,{className:"w-5 h-5 text-primary-600"}):c.jsx(xt,{className:"w-5 h-5 text-blue-600"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:B.jenis_peminjaman==="ruangan"?(V=B.ruangan)==null?void 0:V.nama_ruangan:`${(W=B.kendaraan)==null?void 0:W.jenis} ${(q=B.kendaraan)==null?void 0:q.merk}`}),c.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ps(B.status)}`,children:Ls(B.status)})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ir,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:[Fo(B.jam_mulai)," - ",Fo(B.jam_selesai)]})]}),B.jenis_peminjaman==="ruangan"&&B.ruangan&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(vn,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:B.ruangan.lokasi})]}),B.jenis_peminjaman==="kendaraan"&&B.kendaraan&&c.jsxs("div",{className:"flex items-center",children:[c.jsx(xt,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:B.kendaraan.plat_nomor})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ja,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:(re=B.users)==null?void 0:re.nama})]})]}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Keperluan:"})," ",B.keperluan]})})]}),c.jsxs("button",{onClick:()=>X(B),className:"ml-4 flex items-center px-3 py-1 text-sm text-primary-600 hover:text-primary-700 hover:bg-primary-50 rounded-md transition-colors",children:[c.jsx(qa,{className:"w-4 h-4 mr-1"}),"Detail"]})]})},B.id_peminjaman)}):c.jsxs("div",{className:"p-12 text-center",children:[c.jsx(Lt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada peminjaman"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Belum ada peminjaman pada tanggal yang dipilih"}),e&&c.jsxs(Ae,{to:"/booking",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md text-sm font-medium hover:bg-primary-700 transition-colors",children:[c.jsx($i,{className:"w-4 h-4 mr-2"}),"Ajukan Peminjaman"]})]})})]})})]}),S&&j&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Detail Peminjaman"}),c.jsx("button",{onClick:H,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informasi Dasar"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Peminjaman"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 capitalize",children:j.jenis_peminjaman})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),c.jsx("span",{className:`mt-1 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ps(j.status)}`,children:Ls(j.status)})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tanggal"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[la(new Date(j.tanggal_mulai))," - ",la(new Date(j.tanggal_selesai))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Waktu"}),c.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[Fo(j.jam_mulai)," - ",Fo(j.jam_selesai)]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:j.jenis_peminjaman==="ruangan"?"Informasi Ruangan":"Informasi Kendaraan"}),j.jenis_peminjaman==="ruangan"&&j.ruangan?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama Ruangan"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.ruangan.nama_ruangan})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lokasi"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.ruangan.lokasi})]})]}):j.kendaraan?c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.kendaraan.jenis})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Merk"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:j.kendaraan.merk})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plat Nomor"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900 font-mono",children:j.kendaraan.plat_nomor})]})]}):null]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Informasi Peminjam"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nama"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(L=j.users)==null?void 0:L.nama})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),c.jsx("p",{className:"mt-1 text-sm text-gray-900",children:(G=j.users)==null?void 0:G.email})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Keperluan"}),c.jsx("p",{className:"text-sm text-gray-900 bg-gray-50 p-3 rounded-md",children:j.keperluan})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:H,className:"px-4 py-2 bg-gray-600 text-white rounded-md text-sm font-medium hover:bg-gray-700 transition-colors",children:"Tutup"})})]})})})]})},r8=()=>{const{user:e}=mr(),t=[{id:1,title:"Registrasi Akun",description:"Daftar akun baru dengan email dan data diri yang valid",icon:c.jsx(Cg,{className:"w-8 h-8"}),details:['Klik tombol "Daftar" di halaman utama',"Isi form registrasi dengan data yang benar","Pilih role sesuai status (Mahasiswa/Dosen)","Verifikasi email yang dikirim ke inbox Anda"],completed:!!e},{id:2,title:"Login ke Sistem",description:"Masuk menggunakan email dan password yang telah didaftarkan",icon:c.jsx(bg,{className:"w-8 h-8"}),details:['Klik tombol "Masuk" di halaman utama',"Masukkan email dan password",'Klik "Masuk" untuk mengakses dashboard'],completed:!!e},{id:3,title:"Cek Ketersediaan",description:"Lihat jadwal dan ketersediaan ruangan/kendaraan",icon:c.jsx(Lt,{className:"w-8 h-8"}),details:['Buka halaman "Kalender Peminjaman"',"Pilih tanggal yang diinginkan","Lihat jadwal yang sudah terisi","Pastikan tidak ada bentrok waktu"]},{id:4,title:"Ajukan Peminjaman",description:"Isi form peminjaman dengan lengkap dan benar",icon:c.jsx(Di,{className:"w-8 h-8"}),details:["Pilih jenis peminjaman (Ruangan/Kendaraan)","Pilih aset yang akan dipinjam","Tentukan tanggal dan waktu peminjaman","Isi keperluan dengan jelas","Upload surat pendukung jika diperlukan"]},{id:5,title:"Menunggu Persetujuan",description:"Admin akan meninjau dan memproses pengajuan Anda",icon:c.jsx(Ir,{className:"w-8 h-8"}),details:["Pengajuan akan diproses maksimal 1x24 jam","Anda akan mendapat notifikasi via email/WhatsApp","Cek status di dashboard secara berkala","Siapkan dokumen tambahan jika diminta"]},{id:6,title:"Penggunaan Fasilitas",description:"Gunakan QR Code untuk validasi saat pengambilan",icon:c.jsx(Gi,{className:"w-8 h-8"}),details:["Download QR Code dari dashboard","Datang tepat waktu sesuai jadwal","Tunjukkan QR Code ke petugas","Petugas akan scan untuk validasi","Gunakan fasilitas sesuai keperluan"]},{id:7,title:"Pengembalian",description:"Kembalikan fasilitas dalam kondisi baik",icon:c.jsx(Ut,{className:"w-8 h-8"}),details:["Kembalikan sesuai waktu yang ditentukan","Pastikan kondisi fasilitas tetap baik","Petugas akan scan QR Code pengembalian","Peminjaman selesai dan tercatat di sistem"]}],n=[{question:"Berapa lama proses persetujuan peminjaman?",answer:"Proses persetujuan biasanya memakan waktu maksimal 1x24 jam kerja. Untuk peminjaman mendesak, Anda dapat menghubungi admin langsung."},{question:"Apakah bisa meminjam untuk hari yang sama?",answer:"Peminjaman untuk hari yang sama dapat dilakukan jika masih tersedia slot dan mendapat persetujuan admin. Disarankan untuk mengajukan minimal H-1."},{question:"Bagaimana jika terlambat mengembalikan?",answer:"Keterlambatan pengembalian akan dicatat dalam sistem dan dapat mempengaruhi pengajuan peminjaman selanjutnya. Segera hubungi petugas jika ada kendala."},{question:"Apakah bisa membatalkan peminjaman?",answer:"Pembatalan dapat dilakukan melalui dashboard dengan memberikan alasan yang jelas. Pembatalan mendadak dapat mempengaruhi reputasi peminjaman Anda."},{question:"Dokumen apa saja yang diperlukan?",answer:"Untuk peminjaman ruangan biasanya diperlukan surat kegiatan. Untuk kendaraan diperlukan fotokopi SIM dan surat perjalanan dinas."}],r=[{icon:c.jsx(Lt,{className:"w-6 h-6 text-blue-600"}),title:"Rencanakan Jauh Hari",description:"Ajukan peminjaman minimal 2-3 hari sebelumnya untuk memastikan ketersediaan."},{icon:c.jsx(Di,{className:"w-6 h-6 text-green-600"}),title:"Lengkapi Dokumen",description:"Pastikan semua dokumen pendukung sudah disiapkan untuk mempercepat proses persetujuan."},{icon:c.jsx(Ir,{className:"w-6 h-6 text-orange-600"}),title:"Tepat Waktu",description:"Datang tepat waktu saat pengambilan dan pengembalian untuk menghindari masalah."},{icon:c.jsx(_n,{className:"w-6 h-6 text-purple-600"}),title:"Komunikasi Aktif",description:"Jaga komunikasi dengan admin dan petugas jika ada perubahan atau kendala."}];return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"text-center mb-12",children:[c.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Panduan Peminjaman"}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Ikuti langkah-langkah berikut untuk melakukan peminjaman ruangan dan kendaraan di UNUGHA Cilacap"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx(Sn,{className:"w-12 h-12 text-primary-600 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ruangan"}),c.jsx("p",{className:"text-gray-600",children:"Berbagai ruangan untuk kegiatan akademik dan non-akademik"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx(xt,{className:"w-12 h-12 text-blue-600 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Kendaraan"}),c.jsx("p",{className:"text-gray-600",children:"Kendaraan operasional untuk keperluan dinas dan kegiatan"})]}),c.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200 text-center",children:[c.jsx(Gi,{className:"w-12 h-12 text-green-600 mx-auto mb-3"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"QR Code"}),c.jsx("p",{className:"text-gray-600",children:"Sistem validasi modern untuk kemudahan dan keamanan"})]})]}),c.jsxs("div",{className:"mb-12",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Langkah-langkah Peminjaman"}),c.jsx("div",{className:"space-y-8",children:t.map((i,o)=>c.jsxs("div",{className:"relative",children:[o<t.length-1&&c.jsx("div",{className:"absolute left-8 top-16 w-0.5 h-16 bg-gray-300"}),c.jsxs("div",{className:"flex items-start space-x-6",children:[c.jsx("div",{className:`flex-shrink-0 w-16 h-16 rounded-full flex items-center justify-center ${i.completed?"bg-green-100 text-green-600":"bg-primary-100 text-primary-600"}`,children:i.completed?c.jsx(Ut,{className:"w-8 h-8"}):i.icon}),c.jsxs("div",{className:"flex-1 bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[i.id,". ",i.title]}),i.completed&&c.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Selesai"})]}),c.jsx("p",{className:"text-gray-600 mb-4",children:i.description}),c.jsx("ul",{className:"space-y-2",children:i.details.map((h,g)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx(el,{className:"w-4 h-4 text-primary-600 mt-0.5 mr-2 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-gray-700",children:h})]},g))})]})]})]},i.id))})]}),c.jsxs("div",{className:"mb-12",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Tips & Saran"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.map((i,o)=>c.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"flex-shrink-0",children:i.icon}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:i.title}),c.jsx("p",{className:"text-gray-600",children:i.description})]})]})},o))})]}),c.jsxs("div",{className:"mb-12",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-8 text-center",children:"Pertanyaan yang Sering Diajukan"}),c.jsx("div",{className:"space-y-4",children:n.map((i,o)=>c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:c.jsxs("details",{className:"group",children:[c.jsxs("summary",{className:"flex items-center justify-between p-6 cursor-pointer",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[c.jsx(a4,{className:"w-5 h-5 text-primary-600 mr-3"}),i.question]}),c.jsx(el,{className:"w-5 h-5 text-gray-400 group-open:rotate-90 transition-transform"})]}),c.jsx("div",{className:"px-6 pb-6",children:c.jsx("p",{className:"text-gray-600 leading-relaxed",children:i.answer})})]})},o))})]}),c.jsxs("div",{className:"bg-primary-50 rounded-lg p-8 text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Butuh Bantuan?"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Jika Anda mengalami kesulitan atau memiliki pertanyaan, jangan ragu untuk menghubungi kami"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-md mx-auto",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-700",children:[c.jsx(so,{className:"w-5 h-5"}),c.jsx("span",{children:"admin@unugha.ac.id"})]}),c.jsxs("div",{className:"flex items-center justify-center space-x-2 text-gray-700",children:[c.jsx(c4,{className:"w-5 h-5"}),c.jsx("span",{children:"+62 812-3456-7890"})]})]})]}),!e&&c.jsx("div",{className:"mt-12 text-center",children:c.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Siap Memulai?"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Daftar sekarang dan mulai ajukan peminjaman ruangan atau kendaraan"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(Ae,{to:"/register",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-md font-medium hover:bg-primary-700 transition-colors",children:[c.jsx(Cg,{className:"w-5 h-5 mr-2"}),"Daftar Sekarang"]}),c.jsxs(Ae,{to:"/login",className:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 rounded-md font-medium hover:bg-gray-50 transition-colors",children:[c.jsx(bg,{className:"w-5 h-5 mr-2"}),"Sudah Punya Akun?"]})]})]})}),e&&c.jsx("div",{className:"mt-12 text-center",children:c.jsxs("div",{className:"bg-white rounded-lg p-8 shadow-sm border border-gray-200",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Mulai Peminjaman"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Anda sudah login dan siap untuk mengajukan peminjaman"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(Ae,{to:"/booking",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-md font-medium hover:bg-primary-700 transition-colors",children:[c.jsx(Di,{className:"w-5 h-5 mr-2"}),"Ajukan Peminjaman"]}),c.jsxs(Ae,{to:"/dashboard",className:"inline-flex items-center px-6 py-3 border border-gray-300 text-gray-700 rounded-md font-medium hover:bg-gray-50 transition-colors",children:[c.jsx(_n,{className:"w-5 h-5 mr-2"}),"Lihat Dashboard"]})]})]})})]})})},a8=()=>{var S,O;const[e,t]=F.useState({email:"",password:""}),[n,r]=F.useState(!1),[i,o]=F.useState(!1),[h,g]=F.useState({}),{signIn:p}=mr(),x=no(),b=((O=(S=is().state)==null?void 0:S.from)==null?void 0:O.pathname)||"/dashboard",N=()=>{const T={};return e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(T.email="Format email tidak valid"):T.email="Email harus diisi",e.password?e.password.length<6&&(T.password="Password minimal 6 karakter"):T.password="Password harus diisi",g(T),Object.keys(T).length===0},j=async T=>{if(T.preventDefault(),!!N()){o(!0);try{await p(e.email,e.password),x(b,{replace:!0})}catch(_){console.error("Login error:",_),xe.error(_.message||"Gagal masuk. Periksa email dan password Anda.")}finally{o(!1)}}},I=T=>{const{name:_,value:E}=T.target;t(R=>({...R,[_]:E})),h[_]&&g(R=>({...R,[_]:""}))};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:c.jsx(Sn,{className:"w-8 h-8 text-white"})})}),c.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Masuk ke Akun Anda"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sistem Peminjaman UNUGHA Cilacap"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(so,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:I,className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${h.email?"border-red-300":"border-gray-300"}`,placeholder:"Masukkan email Anda"})]}),h.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.email})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:I,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${h.password?"border-red-300":"border-gray-300"}`,placeholder:"Masukkan password Anda"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?c.jsx(Oi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c.jsx(qa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),h.password&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.password})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:i?c.jsx(Ve,{size:"sm"}):"Masuk"})}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Belum punya akun?"," ",c.jsx(Ae,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Daftar sekarang"})]}),c.jsx(Ae,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Kembali ke beranda"})]})]}),c.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"Akun Demo:"}),c.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Admin:"})," admin@unugha.ac.id / password123"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Petugas:"})," petugas@unugha.ac.id / password123"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Dosen:"})," dosen@unugha.ac.id / password123"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Mahasiswa:"})," mahasiswa@unugha.ac.id / password123"]})]})]})]})})},s8=()=>{const[e,t]=F.useState({nama:"",email:"",password:"",confirmPassword:"",role:"mahasiswa",no_hp:""}),[n,r]=F.useState(!1),[i,o]=F.useState(!1),[h,g]=F.useState(!1),[p,x]=F.useState({}),{signUp:w}=mr(),b=no(),N=()=>{const S={};return e.nama.trim()?e.nama.trim().length<2&&(S.nama="Nama minimal 2 karakter"):S.nama="Nama harus diisi",e.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(S.email="Format email tidak valid"):S.email="Email harus diisi",e.password?e.password.length<6&&(S.password="Password minimal 6 karakter"):S.password="Password harus diisi",e.confirmPassword?e.password!==e.confirmPassword&&(S.confirmPassword="Password tidak cocok"):S.confirmPassword="Konfirmasi password harus diisi",e.no_hp.trim()?/^(\+62|62|0)[0-9]{9,13}$/.test(e.no_hp.replace(/[\s-]/g,""))||(S.no_hp="Format nomor HP tidak valid"):S.no_hp="Nomor HP harus diisi",x(S),Object.keys(S).length===0},j=async S=>{if(S.preventDefault(),!!N()){g(!0);try{await w(e.email,e.password,{nama:e.nama.trim(),role:e.role,no_hp:e.no_hp.replace(/[\s-]/g,"")}),xe.success("Akun berhasil dibuat! Silakan cek email untuk verifikasi."),b("/login")}catch(O){console.error("Registration error:",O),xe.error(O.message||"Gagal membuat akun. Silakan coba lagi.")}finally{g(!1)}}},I=S=>{const{name:O,value:T}=S.target;t(_=>({..._,[O]:T})),p[O]&&x(_=>({..._,[O]:""}))};return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-md w-full space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"flex justify-center",children:c.jsx("div",{className:"w-12 h-12 bg-primary-600 rounded-lg flex items-center justify-center",children:c.jsx(Sn,{className:"w-8 h-8 text-white"})})}),c.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Buat Akun Baru"}),c.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Sistem Peminjaman UNUGHA Cilacap"})]}),c.jsxs("form",{className:"mt-8 space-y-6",onSubmit:j,children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"nama",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ja,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"nama",name:"nama",type:"text",autoComplete:"name",value:e.nama,onChange:I,className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${p.nama?"border-red-300":"border-gray-300"}`,placeholder:"Masukkan nama lengkap"})]}),p.nama&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.nama})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(so,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:I,className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${p.email?"border-red-300":"border-gray-300"}`,placeholder:"Masukkan email"})]}),p.email&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{id:"role",name:"role",value:e.role,onChange:I,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"mahasiswa",children:"Mahasiswa"}),c.jsx("option",{value:"dosen",children:"Dosen"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"no_hp",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nomor HP"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(qu,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"no_hp",name:"no_hp",type:"tel",autoComplete:"tel",value:e.no_hp,onChange:I,className:`block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${p.no_hp?"border-red-300":"border-gray-300"}`,placeholder:"08xxxxxxxxxx"})]}),p.no_hp&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.no_hp})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:I,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${p.password?"border-red-300":"border-gray-300"}`,placeholder:"Minimal 6 karakter"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>r(!n),children:n?c.jsx(Oi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c.jsx(qa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),p.password&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Konfirmasi Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Of,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:i?"text":"password",autoComplete:"new-password",value:e.confirmPassword,onChange:I,className:`block w-full pl-10 pr-10 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 ${p.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"Ulangi password"}),c.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>o(!i),children:i?c.jsx(Oi,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):c.jsx(qa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),p.confirmPassword&&c.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]})]}),c.jsx("div",{children:c.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?c.jsx(Ve,{size:"sm"}):"Daftar"})}),c.jsxs("div",{className:"text-center space-y-2",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:["Sudah punya akun?"," ",c.jsx(Ae,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Masuk sekarang"})]}),c.jsx(Ae,{to:"/",className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:"Kembali ke beranda"})]})]})]})})},i8=()=>{const{user:e,userProfile:t}=mr(),[n,r]=F.useState({totalBookings:0,pendingBookings:0,approvedBookings:0,rejectedBookings:0,availableRooms:0,availableVehicles:0}),[i,o]=F.useState([]),[h,g]=F.useState(!0);F.useEffect(()=>{e&&p()},[e]);const p=async()=>{try{g(!0);const{data:N,error:j}=await Ce.from("peminjaman").select(`
          *,
          ruangan(nama_ruangan, lokasi),
          kendaraan(jenis, merk, plat_nomor)
        `).eq("id_user",e.id).order("created_at",{ascending:!1}).limit(5);if(j)throw j;const I=(N==null?void 0:N.length)||0,S=(N==null?void 0:N.filter(H=>H.status==="diajukan").length)||0,O=(N==null?void 0:N.filter(H=>H.status==="disetujui").length)||0,T=(N==null?void 0:N.filter(H=>H.status==="ditolak").length)||0,{data:_,error:E}=await Ce.from("ruangan").select("*").eq("status","tersedia");if(E)throw E;const{data:R,error:X}=await Ce.from("kendaraan").select("*").eq("status","tersedia");if(X)throw X;r({totalBookings:I,pendingBookings:S,approvedBookings:O,rejectedBookings:T,availableRooms:(_==null?void 0:_.length)||0,availableVehicles:(R==null?void 0:R.length)||0}),o(N||[])}catch(N){console.error("Error fetching dashboard data:",N)}finally{g(!1)}},x=()=>{const N=new Date().getHours();return N<12?"Selamat Pagi":N<15?"Selamat Siang":N<18?"Selamat Sore":"Selamat Malam"},w=[{title:"Buat Peminjaman Baru",description:"Ajukan peminjaman ruangan atau kendaraan",icon:$i,link:"/booking",color:"bg-blue-500 hover:bg-blue-600"},{title:"Lihat Riwayat",description:"Cek status dan riwayat peminjaman Anda",icon:qa,link:"/my-bookings",color:"bg-green-500 hover:bg-green-600"},{title:"Data Ruangan",description:"Lihat semua ruangan yang tersedia",icon:Sn,link:"/rooms",color:"bg-purple-500 hover:bg-purple-600"},{title:"Data Kendaraan",description:"Lihat semua kendaraan yang tersedia",icon:xt,link:"/vehicles",color:"bg-orange-500 hover:bg-orange-600"}],b=[{title:"Total Peminjaman",value:n.totalBookings,icon:Lt,color:"bg-blue-500",bgColor:"bg-blue-50"},{title:"Menunggu Persetujuan",value:n.pendingBookings,icon:Ir,color:"bg-yellow-500",bgColor:"bg-yellow-50"},{title:"Disetujui",value:n.approvedBookings,icon:Ut,color:"bg-green-500",bgColor:"bg-green-50"},{title:"Ditolak",value:n.rejectedBookings,icon:kr,color:"bg-red-500",bgColor:"bg-red-50"}];return h?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat dashboard..."})}):c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:[x(),", ",(t==null?void 0:t.nama)||"User","!"]}),c.jsx("p",{className:"text-gray-600 mt-2",children:"Selamat datang di dashboard sistem peminjaman UNUGHA Cilacap"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:b.map((N,j)=>{const I=N.icon;return c.jsx("div",{className:`${N.bgColor} rounded-lg p-6`,children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`${N.color} p-3 rounded-lg`,children:c.jsx(I,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:N.title}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.value})]})]})},j)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Aksi Cepat"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:w.map((N,j)=>{const I=N.icon;return c.jsx(Ae,{to:N.link,className:"bg-white rounded-lg p-6 shadow-sm hover:shadow-md transition-shadow border border-gray-200 group",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("div",{className:`${N.color} p-3 rounded-lg transition-colors`,children:c.jsx(I,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 group-hover:text-primary-600 transition-colors",children:N.title}),c.jsx("p",{className:"text-gray-600 text-sm mt-1",children:N.description})]})]})},j)})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Peminjaman Terbaru"}),c.jsx(Ae,{to:"/my-bookings",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Lihat Semua"})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:i.length>0?c.jsx("div",{className:"divide-y divide-gray-200",children:i.map(N=>{var j,I,S;return c.jsx("div",{className:"p-4",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-900",children:N.jenis_peminjaman==="ruangan"?(j=N.ruangan)==null?void 0:j.nama_ruangan:`${(I=N.kendaraan)==null?void 0:I.merk} (${(S=N.kendaraan)==null?void 0:S.plat_nomor})`}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[la(N.tanggal_mulai)," - ",la(N.tanggal_selesai)]}),c.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium mt-2 ${Ps(N.status)}`,children:Ls(N.status)})]})})},N.id_peminjaman)})}):c.jsxs("div",{className:"p-8 text-center",children:[c.jsx(Hi,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Belum ada peminjaman"}),c.jsx(Ae,{to:"/booking",className:"text-primary-600 hover:text-primary-700 text-sm font-medium mt-2 inline-block",children:"Buat peminjaman pertama"})]})})]})]}),c.jsxs("div",{className:"mt-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Ketersediaan Fasilitas"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(Sn,{className:"w-8 h-8 text-blue-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Ruangan Tersedia"}),c.jsx("p",{className:"text-3xl font-bold text-blue-600",children:n.availableRooms}),c.jsx(Ae,{to:"/rooms",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Lihat Detail "})]})]})}),c.jsx("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx(xt,{className:"w-8 h-8 text-green-600"}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Kendaraan Tersedia"}),c.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.availableVehicles}),c.jsx(Ae,{to:"/vehicles",className:"text-green-600 hover:text-green-700 text-sm font-medium",children:"Lihat Detail "})]})]})})]})]})]})})},o8=()=>{const{user:e}=mr(),t=no(),n=is(),[r,i]=F.useState(!1),[o,h]=F.useState(!1),[g,p]=F.useState([]),[x,w]=F.useState([]),[b,N]=F.useState([]),[j,I]=F.useState([]),[S,O]=F.useState({jenis_peminjaman:"ruangan",id_ruangan:null,id_kendaraan:null,tanggal_mulai:"",jam_mulai:"",tanggal_selesai:"",jam_selesai:"",keperluan:"",file_surat:null});F.useEffect(()=>{var B,V;if(!e){t("/login");return}if((B=n.state)!=null&&B.type&&((V=n.state)!=null&&V.item)){const{type:W,item:q}=n.state;O(re=>({...re,jenis_peminjaman:W,id_ruangan:W==="ruangan"?q.id_ruangan:null,id_kendaraan:W==="kendaraan"?q.id_kendaraan:null}))}T()},[e,t,n.state]),F.useEffect(()=>{_()},[S.jenis_peminjaman,S.id_ruangan,S.id_kendaraan,S.tanggal_mulai,S.jam_mulai,S.tanggal_selesai,S.jam_selesai]);const T=async()=>{try{i(!0);const{data:B,error:V}=await Ce.from("ruangan").select("*").eq("status","tersedia").order("nama_ruangan");if(V)throw V;p(B||[]);const{data:W,error:q}=await Ce.from("kendaraan").select("*").eq("status","tersedia").order("jenis");if(q)throw q;w(W||[]);const{data:re,error:ye}=await Ce.from("peminjaman").select("*").in("status",["diajukan","disetujui"]);if(ye)throw ye;N(re||[])}catch(B){console.error("Error fetching data:",B),xe.error("Gagal memuat data")}finally{i(!1)}},_=()=>{if(!S.tanggal_mulai||!S.jam_mulai||!S.tanggal_selesai||!S.jam_selesai){I([]);return}const B=[],V=new Date(`${S.tanggal_mulai}T${S.jam_mulai}`);new Date(`${S.tanggal_selesai}T${S.jam_selesai}`)<=V&&B.push("Waktu selesai harus setelah waktu mulai"),b.filter(re=>S.jenis_peminjaman==="ruangan"?re.jenis_peminjaman==="ruangan"&&re.id_ruangan===S.id_ruangan:re.jenis_peminjaman==="kendaraan"&&re.id_kendaraan===S.id_kendaraan).forEach(re=>{iT(S.tanggal_mulai,S.jam_mulai,S.tanggal_selesai,S.jam_selesai,re.tanggal_mulai,re.jam_mulai,re.tanggal_selesai,re.jam_selesai)&&B.push(`Bentrok dengan peminjaman lain pada ${la(re.tanggal_mulai)} ${re.jam_mulai}-${re.jam_selesai}`)}),I(B)},E=B=>{const{name:V,value:W}=B.target;O(q=>({...q,[V]:W}))},R=B=>{var W;const V=((W=B.target.files)==null?void 0:W[0])||null;O(q=>({...q,file_surat:V}))},X=B=>{O(V=>({...V,jenis_peminjaman:B,id_ruangan:B==="ruangan"?V.id_ruangan:null,id_kendaraan:B==="kendaraan"?V.id_kendaraan:null}))},H=async B=>{if(B.preventDefault(),!e){xe.error("Anda harus login terlebih dahulu");return}if(j.length>0){xe.error("Harap perbaiki konflik waktu terlebih dahulu");return}try{h(!0);let V=null;if(S.file_surat){const re=S.file_surat.name.split(".").pop(),ye=`${e.id}_${Date.now()}.${re}`,{data:$,error:J}=await Ce.storage.from("documents").upload(ye,S.file_surat);if(J)throw J;V=$.path}const W={id_peminjaman:`temp_${Date.now()}`,jenis:S.jenis_peminjaman,user_id:e.id,tanggal:S.tanggal_mulai,waktu:`${S.jam_mulai}-${S.jam_selesai}`},{error:q}=await Ce.from("peminjaman").insert({id_user:e.id,jenis_peminjaman:S.jenis_peminjaman,id_ruangan:S.id_ruangan,id_kendaraan:S.id_kendaraan,tanggal_mulai:S.tanggal_mulai,jam_mulai:S.jam_mulai,tanggal_selesai:S.tanggal_selesai,jam_selesai:S.jam_selesai,keperluan:S.keperluan,file_surat:V,status:"diajukan",qr_code:JSON.stringify(W)}).select().single();if(q)throw q;xe.success("Pengajuan peminjaman berhasil dikirim!"),t("/dashboard")}catch(V){console.error("Error submitting booking:",V),xe.error(V.message||"Gagal mengirim pengajuan")}finally{h(!1)}};if(r)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat form peminjaman..."})});const L=g.find(B=>B.id_ruangan===S.id_ruangan),G=x.find(B=>B.id_kendaraan===S.id_kendaraan);return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("button",{onClick:()=>t(-1),className:"flex items-center text-gray-600 hover:text-gray-900 mb-4",children:[c.jsx(QS,{className:"w-5 h-5 mr-2"}),"Kembali"]}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ajukan Peminjaman"}),c.jsx("p",{className:"text-gray-600",children:"Isi form berikut untuk mengajukan peminjaman ruangan atau kendaraan"})]}),c.jsxs("form",{onSubmit:H,className:"space-y-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Jenis Peminjaman"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>X("ruangan"),className:`p-6 rounded-lg border-2 transition-colors ${S.jenis_peminjaman==="ruangan"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx(Sn,{className:`w-12 h-12 mx-auto mb-3 ${S.jenis_peminjaman==="ruangan"?"text-primary-600":"text-gray-400"}`}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Ruangan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Pinjam ruangan untuk kegiatan, rapat, atau acara"})]}),c.jsxs("button",{type:"button",onClick:()=>X("kendaraan"),className:`p-6 rounded-lg border-2 transition-colors ${S.jenis_peminjaman==="kendaraan"?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx(xt,{className:`w-12 h-12 mx-auto mb-3 ${S.jenis_peminjaman==="kendaraan"?"text-primary-600":"text-gray-400"}`}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Kendaraan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Pinjam kendaraan untuk perjalanan dinas atau kegiatan"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Pilih ",S.jenis_peminjaman==="ruangan"?"Ruangan":"Kendaraan"]}),S.jenis_peminjaman==="ruangan"?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("select",{name:"id_ruangan",value:S.id_ruangan||"",onChange:E,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Pilih Ruangan"}),g.map(B=>c.jsxs("option",{value:B.id_ruangan,children:[B.nama_ruangan," - ",B.lokasi," (Kapasitas: ",B.kapasitas,")"]},B.id_ruangan))]}),L&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:L.nama_ruangan}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(vn,{className:"w-4 h-4 mr-2"}),c.jsx("span",{children:L.lokasi})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(_n,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:["Kapasitas: ",L.kapasitas," orang"]})]})]}),c.jsx("div",{className:"mt-2",children:c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("strong",{children:"Fasilitas:"})," ",L.fasilitas]})})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("select",{name:"id_kendaraan",value:S.id_kendaraan||"",onChange:E,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Pilih Kendaraan"}),x.map(B=>c.jsxs("option",{value:B.id_kendaraan,children:[B.jenis," ",B.merk," - ",B.plat_nomor," (Kapasitas: ",B.kapasitas_penumpang,")"]},B.id_kendaraan))]}),G&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"font-medium text-gray-900 mb-2",children:[G.jenis," ",G.merk]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[c.jsxs("div",{children:[c.jsx("strong",{children:"Plat Nomor:"})," ",G.plat_nomor]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(_n,{className:"w-4 h-4 mr-2"}),c.jsxs("span",{children:["Kapasitas: ",G.kapasitas_penumpang," penumpang"]})]})]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Waktu Peminjaman"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Mulai"}),c.jsx("input",{type:"date",name:"tanggal_mulai",value:S.tanggal_mulai,onChange:E,min:new Date().toISOString().split("T")[0],required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Mulai"}),c.jsx("input",{type:"time",name:"jam_mulai",value:S.jam_mulai,onChange:E,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal Selesai"}),c.jsx("input",{type:"date",name:"tanggal_selesai",value:S.tanggal_selesai,onChange:E,min:S.tanggal_mulai||new Date().toISOString().split("T")[0],required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Jam Selesai"}),c.jsx("input",{type:"time",name:"jam_selesai",value:S.jam_selesai,onChange:E,required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]})]}),j.length>0&&c.jsx("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-md",children:c.jsxs("div",{className:"flex",children:[c.jsx(Hi,{className:"w-5 h-5 text-red-400 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-red-800 mb-1",children:"Konflik Waktu Ditemukan:"}),c.jsx("ul",{className:"text-sm text-red-700 space-y-1",children:j.map((B,V)=>c.jsxs("li",{children:[" ",B]},V))})]})]})})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Keperluan dan Dokumen"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keperluan Peminjaman *"}),c.jsx("textarea",{name:"keperluan",value:S.keperluan,onChange:E,rows:4,required:!0,placeholder:"Jelaskan keperluan peminjaman secara detail...",className:"block w-full px-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Surat Pendukung (Opsional)"}),c.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:c.jsxs("div",{className:"space-y-1 text-center",children:[c.jsx(m4,{className:"mx-auto h-12 w-12 text-gray-400"}),c.jsxs("div",{className:"flex text-sm text-gray-600",children:[c.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[c.jsx("span",{children:"Upload file"}),c.jsx("input",{type:"file",onChange:R,accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",className:"sr-only"})]}),c.jsx("p",{className:"pl-1",children:"atau drag and drop"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, JPG, PNG hingga 10MB"}),S.file_surat&&c.jsxs("p",{className:"text-sm text-green-600 mt-2",children:[c.jsx(Ut,{className:"w-4 h-4 inline mr-1"}),S.file_surat.name]})]})})]})]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Kirim Pengajuan"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Pastikan semua data sudah benar sebelum mengirim"})]}),c.jsx("button",{type:"submit",disabled:o||j.length>0,className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:o?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm",className:"mr-2"}),"Mengirim..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Di,{className:"w-5 h-5 mr-2"}),"Kirim Pengajuan"]})})]})})]})]})})},l8=()=>{const{user:e}=mr(),[t,n]=F.useState([]),[r,i]=F.useState(!0),[o,h]=F.useState("all"),[g,p]=F.useState(null),[x,w]=F.useState(!1);F.useEffect(()=>{e&&b()},[e]);const b=async()=>{try{i(!0);const{data:S,error:O}=await Ce.from("peminjaman").select(`
          *,
          ruangan:ruangan_id(nama, lokasi),
          kendaraan:kendaraan_id(nama, plat_nomor)
        `).eq("user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(O)throw O;n(S||[])}catch(S){console.error("Error fetching bookings:",S),xe.error("Gagal memuat data peminjaman")}finally{i(!1)}},N=t.filter(S=>o==="all"||S.status===o),j=async S=>{if(!S.qr_code_data){xe.error("QR Code belum tersedia");return}p(S),w(!0)},I=async S=>{try{const{data:O,error:T}=await Ce.storage.from("documents").download(S);if(T)throw T;const _=URL.createObjectURL(O),E=document.createElement("a");E.href=_,E.download=S.split("/").pop()||"document",document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(_)}catch(O){console.error("Error downloading document:",O),xe.error("Gagal mengunduh dokumen")}};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat peminjaman..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Peminjaman Saya"}),c.jsx("p",{className:"text-gray-600",children:"Kelola dan pantau status peminjaman Anda"})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Semua"},{key:"diajukan",label:"Diajukan"},{key:"disetujui",label:"Disetujui"},{key:"ditolak",label:"Ditolak"},{key:"selesai",label:"Selesai"}].map(({key:S,label:O})=>c.jsx("button",{onClick:()=>h(S),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o===S?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:O},S))})}),N.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx(Lt,{className:"h-16 w-16 mx-auto"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:o==="all"?"Belum ada peminjaman":`Tidak ada peminjaman ${o}`}),c.jsx("p",{className:"text-gray-600 mb-6",children:o==="all"?"Mulai ajukan peminjaman ruangan atau kendaraan":`Tidak ada peminjaman dengan status ${o}`}),c.jsx("a",{href:"/booking",className:"btn btn-primary",children:"Ajukan Peminjaman"})]}):c.jsx("div",{className:"space-y-4",children:N.map(S=>{var O,T,_,E;return c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[S.jenis_peminjaman==="ruangan"?c.jsx(vn,{className:"h-5 w-5 text-primary-600"}):c.jsx(xt,{className:"h-5 w-5 text-primary-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:S.jenis_peminjaman==="ruangan"?(O=S.ruangan)==null?void 0:O.nama:(T=S.kendaraan)==null?void 0:T.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:S.jenis_peminjaman==="ruangan"?(_=S.ruangan)==null?void 0:_.lokasi:(E=S.kendaraan)==null?void 0:E.plat_nomor})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Ir,{className:"h-4 w-4"}),c.jsxs("span",{children:["Mulai: ",Ig(S.tanggal_mulai,S.jam_mulai)]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(Ir,{className:"h-4 w-4"}),c.jsxs("span",{children:["Selesai: ",Ig(S.tanggal_selesai,S.jam_selesai)]})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Keperluan:"}),c.jsx("p",{className:"text-gray-900",children:S.keperluan})]}),S.catatan_admin&&c.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-yellow-800",children:[c.jsx("strong",{children:"Catatan Admin:"})," ",S.catatan_admin]})})]}),c.jsxs("div",{className:"flex flex-col items-end gap-3",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Ps(S.status)}`,children:Ls(S.status)}),c.jsxs("div",{className:"flex gap-2",children:[S.status==="disetujui"&&S.qr_code_data&&c.jsx("button",{onClick:()=>j(S),className:"btn btn-outline btn-sm",title:"Lihat QR Code",children:c.jsx(Gi,{className:"h-4 w-4"})}),S.dokumen_pendukung&&c.jsx("button",{onClick:()=>I(S.dokumen_pendukung),className:"btn btn-outline btn-sm",title:"Unduh Dokumen",children:c.jsx(Di,{className:"h-4 w-4"})})]})]})]})})},S.id)})}),x&&g&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsx("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"QR Code Peminjaman"}),c.jsx("div",{className:"mb-4",children:c.jsxs("div",{className:"w-48 h-48 mx-auto bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:[c.jsx(Gi,{className:"h-16 w-16 text-gray-400"}),c.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["QR Code: ",g.qr_code_data]})]})}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Tunjukkan QR Code ini kepada petugas saat menggunakan fasilitas"}),c.jsx("button",{onClick:()=>w(!1),className:"btn btn-primary w-full",children:"Tutup"})]})})})]})},c8=()=>{const{user:e,updateProfile:t}=mr(),[n,r]=F.useState(!1),[i,o]=F.useState({name:"",email:"",phone:"",role:""}),[h,g]=F.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[p,x]=F.useState({current:!1,new:!1,confirm:!1}),[w,b]=F.useState("profile");F.useEffect(()=>{e&&N()},[e]);const N=async()=>{try{const{data:T,error:_}=await Ce.from("users").select("name, email, phone, role").eq("id",e==null?void 0:e.id).single();if(_)throw _;o({name:T.name||"",email:T.email||"",phone:T.phone||"",role:T.role||""})}catch(T){console.error("Error fetching profile:",T),xe.error("Gagal memuat profil")}},j=async T=>{T.preventDefault(),r(!0);try{const{error:_}=await Ce.from("users").update({nama:i.name,no_hp:i.phone}).eq("id_user",e==null?void 0:e.id);if(_)throw _;await t({nama:i.name,no_hp:i.phone}),xe.success("Profil berhasil diperbarui")}catch(_){console.error("Error updating profile:",_),xe.error("Gagal memperbarui profil")}finally{r(!1)}},I=async T=>{if(T.preventDefault(),h.newPassword!==h.confirmPassword){xe.error("Konfirmasi password tidak cocok");return}if(h.newPassword.length<6){xe.error("Password baru minimal 6 karakter");return}r(!0);try{const{error:_}=await Ce.auth.updateUser({password:h.newPassword});if(_)throw _;g({currentPassword:"",newPassword:"",confirmPassword:""}),xe.success("Password berhasil diubah")}catch(_){console.error("Error updating password:",_),xe.error("Gagal mengubah password")}finally{r(!1)}},S=T=>{x(_=>({..._,[T]:!_[T]}))},O=T=>{switch(T){case"mahasiswa":return"Mahasiswa";case"dosen":return"Dosen";case"admin":return"Administrator";case"staff":return"Staff";default:return T}};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Profil Saya"}),c.jsx("p",{className:"text-gray-600",children:"Kelola informasi akun dan keamanan Anda"})]}),c.jsx("div",{className:"mb-6",children:c.jsx("div",{className:"border-b border-gray-200",children:c.jsxs("nav",{className:"-mb-px flex space-x-8",children:[c.jsx("button",{onClick:()=>b("profile"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="profile"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Informasi Profil"}),c.jsx("button",{onClick:()=>b("password"),className:`py-2 px-1 border-b-2 font-medium text-sm ${w==="password"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Ubah Password"})]})})}),w==="profile"&&c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Informasi Profil"}),c.jsx("p",{className:"text-gray-600",children:"Perbarui informasi profil Anda"})]}),c.jsx("div",{className:"card-content",children:c.jsxs("form",{onSubmit:j,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama Lengkap"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ja,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:i.name,onChange:T=>o(_=>({..._,name:T.target.value})),className:"input pl-10",placeholder:"Masukkan nama lengkap",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(so,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",value:i.email,className:"input pl-10 bg-gray-50",disabled:!0,title:"Email tidak dapat diubah"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email tidak dapat diubah"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nomor Telepon"}),c.jsxs("div",{className:"relative",children:[c.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",value:i.phone,onChange:T=>o(_=>({..._,phone:T.target.value})),className:"input pl-10",placeholder:"Masukkan nomor telepon",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),c.jsxs("div",{className:"relative",children:[c.jsx(Df,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",value:O(i.role),className:"input pl-10 bg-gray-50",disabled:!0,title:"Role tidak dapat diubah"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Role tidak dapat diubah"})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Menyimpan..."})]}):"Simpan Perubahan"})})]})})]}),w==="password"&&c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"card-header",children:[c.jsx("h2",{className:"text-xl font-semibold",children:"Ubah Password"}),c.jsx("p",{className:"text-gray-600",children:"Perbarui password untuk keamanan akun"})]}),c.jsx("div",{className:"card-content",children:c.jsxs("form",{onSubmit:I,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Saat Ini"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:p.current?"text":"password",value:h.currentPassword,onChange:T=>g(_=>({..._,currentPassword:T.target.value})),className:"input pr-10",placeholder:"Masukkan password saat ini",required:!0}),c.jsx("button",{type:"button",onClick:()=>S("current"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p.current?c.jsx(Oi,{className:"h-5 w-5"}):c.jsx(qa,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password Baru"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:p.new?"text":"password",value:h.newPassword,onChange:T=>g(_=>({..._,newPassword:T.target.value})),className:"input pr-10",placeholder:"Masukkan password baru",required:!0,minLength:6}),c.jsx("button",{type:"button",onClick:()=>S("new"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p.new?c.jsx(Oi,{className:"h-5 w-5"}):c.jsx(qa,{className:"h-5 w-5"})})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 6 karakter"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Konfirmasi Password Baru"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:p.confirm?"text":"password",value:h.confirmPassword,onChange:T=>g(_=>({..._,confirmPassword:T.target.value})),className:"input pr-10",placeholder:"Konfirmasi password baru",required:!0}),c.jsx("button",{type:"button",onClick:()=>S("confirm"),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:p.confirm?c.jsx(Oi,{className:"h-5 w-5"}):c.jsx(qa,{className:"h-5 w-5"})})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{type:"submit",disabled:n,className:"btn btn-primary",children:n?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Mengubah..."})]}):"Ubah Password"})})]})})]})]})})},u8=()=>{const[e,t]=F.useState({totalUsers:0,totalRooms:0,totalVehicles:0,totalBookings:0,pendingBookings:0,approvedBookings:0,rejectedBookings:0,completedBookings:0}),[n,r]=F.useState([]),[i,o]=F.useState(!0);F.useEffect(()=>{h()},[]);const h=async()=>{try{o(!0);const[x,w,b,N]=await Promise.all([Ce.from("users").select("id",{count:"exact"}),Ce.from("ruangan").select("id",{count:"exact"}),Ce.from("kendaraan").select("id",{count:"exact"}),Ce.from("peminjaman").select("status",{count:"exact"})]),{data:j}=await Ce.from("peminjaman").select("status"),I=(j==null?void 0:j.reduce((T,_)=>(T[_.status]=(T[_.status]||0)+1,T),{}))||{};t({totalUsers:x.count||0,totalRooms:w.count||0,totalVehicles:b.count||0,totalBookings:N.count||0,pendingBookings:I.diajukan||0,approvedBookings:I.disetujui||0,rejectedBookings:I.ditolak||0,completedBookings:I.selesai||0});const{data:S,error:O}=await Ce.from("peminjaman").select(`
          id,
          jenis_peminjaman,
          tanggal_mulai,
          tanggal_selesai,
          status,
          created_at,
          users!inner(name, email),
          ruangan(nama),
          kendaraan(nama)
        `).order("created_at",{ascending:!1}).limit(10);if(O)throw O;r(S||[])}catch(x){console.error("Error fetching dashboard data:",x),xe.error("Gagal memuat data dashboard")}finally{o(!1)}};if(i)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat dashboard..."})});const g=[{title:"Total Pengguna",value:e.totalUsers,icon:_n,color:"bg-blue-500",textColor:"text-blue-600"},{title:"Total Ruangan",value:e.totalRooms,icon:vn,color:"bg-green-500",textColor:"text-green-600"},{title:"Total Kendaraan",value:e.totalVehicles,icon:xt,color:"bg-purple-500",textColor:"text-purple-600"},{title:"Total Peminjaman",value:e.totalBookings,icon:Lt,color:"bg-orange-500",textColor:"text-orange-600"}],p=[{title:"Menunggu Persetujuan",value:e.pendingBookings,icon:Ir,color:"bg-yellow-500",textColor:"text-yellow-600"},{title:"Disetujui",value:e.approvedBookings,icon:Ut,color:"bg-green-500",textColor:"text-green-600"},{title:"Ditolak",value:e.rejectedBookings,icon:kr,color:"bg-red-500",textColor:"text-red-600"},{title:"Selesai",value:e.completedBookings,icon:a1,color:"bg-blue-500",textColor:"text-blue-600"}];return c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Admin"}),c.jsx("p",{className:"text-gray-600",children:"Kelola sistem peminjaman fasilitas universitas"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:g.map((x,w)=>{const b=x.icon;return c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.title}),c.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x.value})]}),c.jsx("div",{className:`p-3 rounded-full ${x.color}`,children:c.jsx(b,{className:"h-6 w-6 text-white"})})]})})},w)})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Status Peminjaman"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((x,w)=>{const b=x.icon;return c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:x.title}),c.jsx("p",{className:`text-2xl font-bold ${x.textColor}`,children:x.value})]}),c.jsx("div",{className:`p-2 rounded-full ${x.color}`,children:c.jsx(b,{className:"h-5 w-5 text-white"})})]})})},w)})})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Peminjaman Terbaru"}),c.jsx("a",{href:"/admin/bookings",className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Lihat Semua"})]}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:n.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(h2,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"Belum ada peminjaman"})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Peminjam"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tanggal"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Diajukan"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(x=>{var w,b,N,j,I,S;return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:(w=x.users[0])==null?void 0:w.name}),c.jsx("div",{className:"text-sm text-gray-500",children:(b=x.users[0])==null?void 0:b.email})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:"flex items-center",children:[x.jenis_peminjaman==="ruangan"?c.jsx(vn,{className:"h-4 w-4 text-primary-600 mr-2"}):c.jsx(xt,{className:"h-4 w-4 text-primary-600 mr-2"}),c.jsx("span",{className:"text-sm text-gray-900",children:x.jenis_peminjaman==="ruangan"?(j=(N=x.ruangan)==null?void 0:N[0])==null?void 0:j.nama:(S=(I=x.kendaraan)==null?void 0:I[0])==null?void 0:S.nama})]})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:la(x.tanggal_mulai)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ps(x.status)}`,children:Ls(x.status)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:la(x.created_at)})]},x.id)})})]})})})})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Aksi Cepat"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsx("a",{href:"/admin/bookings",className:"card hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"card-content text-center",children:[c.jsx(Lt,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Kelola Peminjaman"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Setujui atau tolak peminjaman"})]})}),c.jsx("a",{href:"/admin/rooms",className:"card hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"card-content text-center",children:[c.jsx(vn,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Kelola Ruangan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Tambah atau edit ruangan"})]})}),c.jsx("a",{href:"/admin/vehicles",className:"card hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"card-content text-center",children:[c.jsx(xt,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Kelola Kendaraan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Tambah atau edit kendaraan"})]})}),c.jsx("a",{href:"/admin/users",className:"card hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"card-content text-center",children:[c.jsx(_n,{className:"h-8 w-8 text-primary-600 mx-auto mb-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Kelola Pengguna"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Lihat dan kelola pengguna"})]})})]})]})]})},d8=()=>{const[e,t]=F.useState([]),[n,r]=F.useState(!0),[i,o]=F.useState(!1),[h,g]=F.useState(null),[p,x]=F.useState(""),[w,b]=F.useState("all"),[N,j]=F.useState({nama:"",lokasi:"",kapasitas:0,fasilitas:"",status:"tersedia"}),[I,S]=F.useState(!1);F.useEffect(()=>{O()},[]);const O=async()=>{try{r(!0);const{data:L,error:G}=await Ce.from("ruangan").select("*").order("created_at",{ascending:!1});if(G)throw G;t(L||[])}catch(L){console.error("Error fetching rooms:",L),xe.error("Gagal memuat data ruangan")}finally{r(!1)}},T=async L=>{L.preventDefault(),S(!0);try{const G=N.fasilitas.split(",").map(V=>V.trim()).filter(V=>V.length>0),B={nama:N.nama,lokasi:N.lokasi,kapasitas:N.kapasitas,fasilitas:G,status:N.status};if(h){const{error:V}=await Ce.from("ruangan").update(B).eq("id",h.id);if(V)throw V;xe.success("Ruangan berhasil diperbarui")}else{const{error:V}=await Ce.from("ruangan").insert([B]);if(V)throw V;xe.success("Ruangan berhasil ditambahkan")}o(!1),g(null),j({nama:"",lokasi:"",kapasitas:0,fasilitas:"",status:"tersedia"}),O()}catch(G){console.error("Error saving room:",G),xe.error("Gagal menyimpan ruangan")}finally{S(!1)}},_=L=>{g(L),j({nama:L.nama,lokasi:L.lokasi,kapasitas:L.kapasitas,fasilitas:L.fasilitas.join(", "),status:L.status}),o(!0)},E=async L=>{if(confirm(`Apakah Anda yakin ingin menghapus ruangan "${L.nama}"?`))try{const{error:G}=await Ce.from("ruangan").delete().eq("id",L.id);if(G)throw G;xe.success("Ruangan berhasil dihapus"),O()}catch(G){console.error("Error deleting room:",G),xe.error("Gagal menghapus ruangan")}},R=e.filter(L=>{const G=L.nama.toLowerCase().includes(p.toLowerCase())||L.lokasi.toLowerCase().includes(p.toLowerCase()),B=w==="all"||L.status===w;return G&&B}),X=L=>{switch(L){case"tersedia":return"bg-green-100 text-green-800";case"tidak_tersedia":return"bg-red-100 text-red-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},H=L=>{switch(L){case"tersedia":return"Tersedia";case"tidak_tersedia":return"Tidak Tersedia";case"maintenance":return"Maintenance";default:return L}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat ruangan..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kelola Ruangan"}),c.jsx("p",{className:"text-gray-600",children:"Tambah, edit, dan kelola ruangan universitas"})]}),c.jsxs("button",{onClick:()=>{g(null),j({nama:"",lokasi:"",kapasitas:0,fasilitas:"",status:"tersedia"}),o(!0)},className:"btn btn-primary",children:[c.jsx($i,{className:"h-5 w-5 mr-2"}),"Tambah Ruangan"]})]})}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cari ruangan...",value:p,onChange:L=>x(L.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:w,onChange:L=>b(L.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),R.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(vn,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||w!=="all"?"Tidak ada ruangan yang sesuai":"Belum ada ruangan"}),c.jsx("p",{className:"text-gray-600 mb-6",children:p||w!=="all"?"Coba ubah filter pencarian":"Tambahkan ruangan pertama untuk memulai"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:R.map(L=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:c.jsx(vn,{className:"h-5 w-5 text-primary-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:L.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:L.lokasi})]})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${X(L.status)}`,children:H(L.status)})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(_n,{className:"h-4 w-4"}),c.jsxs("span",{children:["Kapasitas: ",L.kapasitas," orang"]})]}),L.fasilitas.length>0&&c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Fasilitas:"}),c.jsxs("div",{className:"flex flex-wrap gap-1",children:[L.fasilitas.slice(0,3).map((G,B)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:G},B)),L.fasilitas.length>3&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:["+",L.fasilitas.length-3," lainnya"]})]})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>_(L),className:"btn btn-outline btn-sm flex-1",children:[c.jsx(n1,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsx("button",{onClick:()=>E(L),className:"btn btn-outline btn-sm text-red-600 border-red-300 hover:bg-red-50",children:c.jsx(r1,{className:"h-4 w-4"})})]})]})},L.id))}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:h?"Edit Ruangan":"Tambah Ruangan"}),c.jsxs("form",{onSubmit:T,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Ruangan"}),c.jsx("input",{type:"text",value:N.nama,onChange:L=>j(G=>({...G,nama:L.target.value})),className:"input",placeholder:"Masukkan nama ruangan",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Lokasi"}),c.jsx("input",{type:"text",value:N.lokasi,onChange:L=>j(G=>({...G,lokasi:L.target.value})),className:"input",placeholder:"Masukkan lokasi ruangan",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kapasitas"}),c.jsx("input",{type:"number",value:N.kapasitas,onChange:L=>j(G=>({...G,kapasitas:parseInt(L.target.value)||0})),className:"input",placeholder:"Masukkan kapasitas",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fasilitas"}),c.jsx("input",{type:"text",value:N.fasilitas,onChange:L=>j(G=>({...G,fasilitas:L.target.value})),className:"input",placeholder:"Pisahkan dengan koma (contoh: Proyektor, AC, Whiteboard)"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pisahkan fasilitas dengan koma"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{value:N.status,onChange:L=>j(G=>({...G,status:L.target.value})),className:"input",required:!0,children:[c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-outline flex-1",disabled:I,children:"Batal"}),c.jsx("button",{type:"submit",disabled:I,className:"btn btn-primary flex-1",children:I?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Menyimpan..."})]}):h?"Perbarui":"Tambah"})]})]})]})})]})},h8=()=>{const[e,t]=F.useState([]),[n,r]=F.useState(!0),[i,o]=F.useState(!1),[h,g]=F.useState(null),[p,x]=F.useState(""),[w,b]=F.useState("all"),[N,j]=F.useState("all"),[I,S]=F.useState({nama:"",jenis:"mobil",plat_nomor:"",kapasitas:0,bahan_bakar:"",status:"tersedia"}),[O,T]=F.useState(!1);F.useEffect(()=>{_()},[]);const _=async()=>{try{r(!0);const{data:W,error:q}=await Ce.from("kendaraan").select("*").order("created_at",{ascending:!1});if(q)throw q;t(W||[])}catch(W){console.error("Error fetching vehicles:",W),xe.error("Gagal memuat data kendaraan")}finally{r(!1)}},E=async W=>{W.preventDefault(),T(!0);try{const q={nama:I.nama,jenis:I.jenis,plat_nomor:I.plat_nomor.toUpperCase(),kapasitas:I.kapasitas,bahan_bakar:I.bahan_bakar,status:I.status};if(h){const{error:re}=await Ce.from("kendaraan").update(q).eq("id",h.id);if(re)throw re;xe.success("Kendaraan berhasil diperbarui")}else{const{error:re}=await Ce.from("kendaraan").insert([q]);if(re)throw re;xe.success("Kendaraan berhasil ditambahkan")}o(!1),g(null),S({nama:"",jenis:"mobil",plat_nomor:"",kapasitas:0,bahan_bakar:"",status:"tersedia"}),_()}catch(q){console.error("Error saving vehicle:",q),xe.error("Gagal menyimpan kendaraan")}finally{T(!1)}},R=W=>{g(W),S({nama:W.nama,jenis:W.jenis,plat_nomor:W.plat_nomor,kapasitas:W.kapasitas,bahan_bakar:W.bahan_bakar,status:W.status}),o(!0)},X=async W=>{if(confirm(`Apakah Anda yakin ingin menghapus kendaraan "${W.nama}"?`))try{const{error:q}=await Ce.from("kendaraan").delete().eq("id",W.id);if(q)throw q;xe.success("Kendaraan berhasil dihapus"),_()}catch(q){console.error("Error deleting vehicle:",q),xe.error("Gagal menghapus kendaraan")}},H=e.filter(W=>{const q=W.nama.toLowerCase().includes(p.toLowerCase())||W.plat_nomor.toLowerCase().includes(p.toLowerCase()),re=w==="all"||W.status===w,ye=N==="all"||W.jenis===N;return q&&re&&ye}),L=W=>{switch(W){case"tersedia":return"bg-green-100 text-green-800";case"tidak_tersedia":return"bg-red-100 text-red-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},G=W=>{switch(W){case"tersedia":return"Tersedia";case"tidak_tersedia":return"Tidak Tersedia";case"maintenance":return"Maintenance";default:return W}},B=W=>{switch(W){case"mobil":return"Mobil";case"motor":return"Motor";case"bus":return"Bus";case"truk":return"Truk";default:return W}},V=()=>c.jsx(xt,{className:"h-5 w-5"});return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat kendaraan..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kelola Kendaraan"}),c.jsx("p",{className:"text-gray-600",children:"Tambah, edit, dan kelola kendaraan universitas"})]}),c.jsxs("button",{onClick:()=>{g(null),S({nama:"",jenis:"mobil",plat_nomor:"",kapasitas:0,bahan_bakar:"",status:"tersedia"}),o(!0)},className:"btn btn-primary",children:[c.jsx($i,{className:"h-5 w-5 mr-2"}),"Tambah Kendaraan"]})]})}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cari kendaraan...",value:p,onChange:W=>x(W.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:N,onChange:W=>j(W.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Jenis"}),c.jsx("option",{value:"mobil",children:"Mobil"}),c.jsx("option",{value:"motor",children:"Motor"}),c.jsx("option",{value:"bus",children:"Bus"}),c.jsx("option",{value:"truk",children:"Truk"})]}),c.jsxs("select",{value:w,onChange:W=>b(W.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),H.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(xt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||w!=="all"||N!=="all"?"Tidak ada kendaraan yang sesuai":"Belum ada kendaraan"}),c.jsx("p",{className:"text-gray-600 mb-6",children:p||w!=="all"||N!=="all"?"Coba ubah filter pencarian":"Tambahkan kendaraan pertama untuk memulai"})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(W=>c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:V()}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:W.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:W.plat_nomor})]})]}),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${L(W.status)}`,children:G(W.status)})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Jenis:"}),c.jsx("span",{className:"font-medium text-gray-900",children:B(W.jenis)})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(_n,{className:"h-4 w-4"}),c.jsxs("span",{children:["Kapasitas: ",W.kapasitas," orang"]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[c.jsx(n4,{className:"h-4 w-4"}),c.jsxs("span",{children:["Bahan Bakar: ",W.bahan_bakar]})]})]}),c.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("button",{onClick:()=>R(W),className:"btn btn-outline btn-sm flex-1",children:[c.jsx(n1,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsx("button",{onClick:()=>X(W),className:"btn btn-outline btn-sm text-red-600 border-red-300 hover:bg-red-50",children:c.jsx(r1,{className:"h-4 w-4"})})]})]})},W.id))}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:h?"Edit Kendaraan":"Tambah Kendaraan"}),c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Kendaraan"}),c.jsx("input",{type:"text",value:I.nama,onChange:W=>S(q=>({...q,nama:W.target.value})),className:"input",placeholder:"Masukkan nama kendaraan",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jenis Kendaraan"}),c.jsxs("select",{value:I.jenis,onChange:W=>S(q=>({...q,jenis:W.target.value})),className:"input",required:!0,children:[c.jsx("option",{value:"mobil",children:"Mobil"}),c.jsx("option",{value:"motor",children:"Motor"}),c.jsx("option",{value:"bus",children:"Bus"}),c.jsx("option",{value:"truk",children:"Truk"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plat Nomor"}),c.jsx("input",{type:"text",value:I.plat_nomor,onChange:W=>S(q=>({...q,plat_nomor:W.target.value})),className:"input",placeholder:"Masukkan plat nomor",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Kapasitas"}),c.jsx("input",{type:"number",value:I.kapasitas,onChange:W=>S(q=>({...q,kapasitas:parseInt(W.target.value)||0})),className:"input",placeholder:"Masukkan kapasitas",min:"1",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bahan Bakar"}),c.jsx("input",{type:"text",value:I.bahan_bakar,onChange:W=>S(q=>({...q,bahan_bakar:W.target.value})),className:"input",placeholder:"Contoh: Bensin, Solar, Listrik",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{value:I.status,onChange:W=>S(q=>({...q,status:W.target.value})),className:"input",required:!0,children:[c.jsx("option",{value:"tersedia",children:"Tersedia"}),c.jsx("option",{value:"tidak_tersedia",children:"Tidak Tersedia"}),c.jsx("option",{value:"maintenance",children:"Maintenance"})]})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>o(!1),className:"btn btn-outline flex-1",disabled:O,children:"Batal"}),c.jsx("button",{type:"submit",disabled:O,className:"btn btn-primary flex-1",children:O?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Menyimpan..."})]}):h?"Perbarui":"Tambah"})]})]})]})})]})},f8=()=>{var V,W,q,re,ye,$;const[e,t]=F.useState([]),[n,r]=F.useState(!0),[i,o]=F.useState(""),[h,g]=F.useState("all"),[p,x]=F.useState("all"),[w,b]=F.useState(null),[N,j]=F.useState(!1),[I,S]=F.useState(null),[O,T]=F.useState("");F.useEffect(()=>{_()},[]);const _=async()=>{try{r(!0);const{data:J,error:ce}=await Ce.from("peminjaman").select(`
          *,
          users:user_id (
            nama,
            email
          ),
          ruangan:ruangan_id (
            nama,
            lokasi
          ),
          kendaraan:kendaraan_id (
            nama,
            plat_nomor
          )
        `).order("created_at",{ascending:!1});if(ce)throw ce;t(J||[])}catch(J){console.error("Error fetching bookings:",J),xe.error("Gagal memuat data booking")}finally{r(!1)}},E=async(J,ce,oe)=>{S(J);try{const de={status:ce};oe&&(de.catatan_admin=oe);const{error:ue}=await Ce.from("peminjaman").update(de).eq("id",J);if(ue)throw ue;xe.success(`Booking berhasil ${ce==="approved"?"disetujui":"ditolak"}`),_(),j(!1),T("")}catch(de){console.error("Error updating booking:",de),xe.error("Gagal memperbarui status booking")}finally{S(null)}},R=async J=>{S(J);try{const{error:ce}=await Ce.from("peminjaman").update({status:"completed"}).eq("id",J);if(ce)throw ce;xe.success("Booking berhasil diselesaikan"),_()}catch(ce){console.error("Error completing booking:",ce),xe.error("Gagal menyelesaikan booking")}finally{S(null)}},X=e.filter(J=>{var ue,Oe,_e,It;const ce=((ue=J.users)==null?void 0:ue.nama.toLowerCase().includes(i.toLowerCase()))||((Oe=J.users)==null?void 0:Oe.email.toLowerCase().includes(i.toLowerCase()))||J.keperluan.toLowerCase().includes(i.toLowerCase())||(((_e=J.ruangan)==null?void 0:_e.nama)||"").toLowerCase().includes(i.toLowerCase())||(((It=J.kendaraan)==null?void 0:It.nama)||"").toLowerCase().includes(i.toLowerCase()),oe=h==="all"||J.status===h,de=p==="all"||J.jenis_booking===p;return ce&&oe&&de}),H=J=>{switch(J){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},L=J=>{switch(J){case"pending":return"Menunggu";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"completed":return"Selesai";default:return J}},G=J=>{switch(J){case"pending":return c.jsx(Ir,{className:"h-4 w-4"});case"approved":return c.jsx(Ut,{className:"h-4 w-4"});case"rejected":return c.jsx(kr,{className:"h-4 w-4"});case"completed":return c.jsx(Ut,{className:"h-4 w-4"});default:return c.jsx(Hi,{className:"h-4 w-4"})}},B=J=>Pn(new Date(J),"dd MMM yyyy, HH:mm",{locale:Rs});return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat booking..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kelola Booking"}),c.jsx("p",{className:"text-gray-600",children:"Kelola dan pantau semua booking ruangan dan kendaraan"})]}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cari booking...",value:i,onChange:J=>o(J.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:p,onChange:J=>x(J.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Jenis"}),c.jsx("option",{value:"ruangan",children:"Ruangan"}),c.jsx("option",{value:"kendaraan",children:"Kendaraan"})]}),c.jsxs("select",{value:h,onChange:J=>g(J.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Status"}),c.jsx("option",{value:"pending",children:"Menunggu"}),c.jsx("option",{value:"approved",children:"Disetujui"}),c.jsx("option",{value:"rejected",children:"Ditolak"}),c.jsx("option",{value:"completed",children:"Selesai"})]})]}),X.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Lt,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:i||h!=="all"||p!=="all"?"Tidak ada booking yang sesuai":"Belum ada booking"}),c.jsx("p",{className:"text-gray-600",children:i||h!=="all"||p!=="all"?"Coba ubah filter pencarian":"Booking akan muncul di sini ketika ada yang dibuat"})]}):c.jsx("div",{className:"space-y-4",children:X.map(J=>{var ce,oe,de,ue,Oe,_e;return c.jsx("div",{className:"card",children:c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:J.jenis_booking==="ruangan"?c.jsx(vn,{className:"h-5 w-5 text-primary-600"}):c.jsx(xt,{className:"h-5 w-5 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:J.jenis_booking==="ruangan"?(ce=J.ruangan)==null?void 0:ce.nama:(oe=J.kendaraan)==null?void 0:oe.nama}),c.jsx("span",{className:"text-sm text-gray-500",children:J.jenis_booking==="ruangan"?(de=J.ruangan)==null?void 0:de.lokasi:(ue=J.kendaraan)==null?void 0:ue.plat_nomor})]}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_n,{className:"h-4 w-4"}),c.jsxs("span",{children:[(Oe=J.users)==null?void 0:Oe.nama," (",(_e=J.users)==null?void 0:_e.email,")"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Lt,{className:"h-4 w-4"}),c.jsxs("span",{children:[B(J.tanggal_mulai)," - ",B(J.tanggal_selesai)]})]}),c.jsxs("p",{className:"text-gray-700 mt-2",children:[c.jsx("strong",{children:"Keperluan:"})," ",J.keperluan]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[G(J.status),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${H(J.status)}`,children:L(J.status)})]}),c.jsx("button",{onClick:()=>{b(J),j(!0)},className:"btn btn-outline btn-sm",children:"Detail"})]})]}),J.status==="pending"&&c.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:[c.jsx("button",{onClick:()=>E(J.id,"approved"),disabled:I===J.id,className:"btn btn-primary btn-sm",children:I===J.id?c.jsx(Ve,{size:"sm"}):c.jsxs(c.Fragment,{children:[c.jsx(Ut,{className:"h-4 w-4 mr-1"}),"Setujui"]})}),c.jsxs("button",{onClick:()=>{b(J),j(!0)},className:"btn btn-outline btn-sm text-red-600 border-red-300 hover:bg-red-50",children:[c.jsx(kr,{className:"h-4 w-4 mr-1"}),"Tolak"]})]}),J.status==="approved"&&c.jsx("div",{className:"flex gap-2 mt-4 pt-4 border-t border-gray-200",children:c.jsx("button",{onClick:()=>R(J.id),disabled:I===J.id,className:"btn btn-primary btn-sm",children:I===J.id?c.jsx(Ve,{size:"sm"}):c.jsxs(c.Fragment,{children:[c.jsx(Ut,{className:"h-4 w-4 mr-1"}),"Selesaikan"]})})})]})},J.id)})}),N&&w&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detail Booking"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Jenis Booking"}),c.jsx("p",{className:"text-gray-900 capitalize",children:w.jenis_booking})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:w.jenis_booking==="ruangan"?"Ruangan":"Kendaraan"}),c.jsx("p",{className:"text-gray-900",children:w.jenis_booking==="ruangan"?`${(V=w.ruangan)==null?void 0:V.nama} - ${(W=w.ruangan)==null?void 0:W.lokasi}`:`${(q=w.kendaraan)==null?void 0:q.nama} (${(re=w.kendaraan)==null?void 0:re.plat_nomor})`})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pemohon"}),c.jsx("p",{className:"text-gray-900",children:(ye=w.users)==null?void 0:ye.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:($=w.users)==null?void 0:$.email})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("div",{className:"flex items-center gap-2",children:[G(w.status),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${H(w.status)}`,children:L(w.status)})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal & Waktu"}),c.jsxs("p",{className:"text-gray-900",children:[B(w.tanggal_mulai)," - ",B(w.tanggal_selesai)]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Keperluan"}),c.jsx("p",{className:"text-gray-900",children:w.keperluan})]}),w.catatan_admin&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catatan Admin"}),c.jsx("p",{className:"text-gray-900",children:w.catatan_admin})]}),w.status==="pending"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Catatan (Opsional)"}),c.jsx("textarea",{value:O,onChange:J=>T(J.target.value),className:"input",rows:3,placeholder:"Tambahkan catatan untuk pemohon..."})]})]}),c.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t border-gray-200",children:[c.jsx("button",{onClick:()=>{j(!1),T("")},className:"btn btn-outline flex-1",children:"Tutup"}),w.status==="pending"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>E(w.id,"rejected",O),disabled:I===w.id,className:"btn btn-outline text-red-600 border-red-300 hover:bg-red-50",children:I===w.id?c.jsx(Ve,{size:"sm"}):"Tolak"}),c.jsx("button",{onClick:()=>E(w.id,"approved",O),disabled:I===w.id,className:"btn btn-primary",children:I===w.id?c.jsx(Ve,{size:"sm"}):"Setujui"})]})]})]})})]})},m8=()=>{const[e,t]=F.useState(null),[n,r]=F.useState(!0),[i,o]=F.useState({start:Pn(A4(V_(new Date,5)),"yyyy-MM-dd"),end:Pn(_4(new Date),"yyyy-MM-dd")}),[h,g]=F.useState(!1);F.useEffect(()=>{p()},[i]);const p=async()=>{try{r(!0);const{data:w,error:b}=await Ce.from("peminjaman").select(`
          *,
          users:user_id (
            nama,
            email
          ),
          ruangan:ruangan_id (
            nama,
            lokasi
          ),
          kendaraan:kendaraan_id (
            nama,
            plat_nomor
          )
        `).gte("created_at",i.start).lte("created_at",i.end+"T23:59:59");if(b)throw b;const N=(w==null?void 0:w.length)||0,j=(w==null?void 0:w.filter(W=>W.jenis_booking==="ruangan").length)||0,I=(w==null?void 0:w.filter(W=>W.jenis_booking==="kendaraan").length)||0,S=(w==null?void 0:w.filter(W=>W.status==="pending").length)||0,O=(w==null?void 0:w.filter(W=>W.status==="approved").length)||0,T=(w==null?void 0:w.filter(W=>W.status==="rejected").length)||0,_=(w==null?void 0:w.filter(W=>W.status==="completed").length)||0,E=new Map;w==null||w.forEach(W=>{const q=Pn(bi(W.created_at),"MMM yyyy",{locale:Rs});E.has(q)||E.set(q,{month:q,total:0,rooms:0,vehicles:0});const re=E.get(q);re.total++,W.jenis_booking==="ruangan"?re.rooms++:re.vehicles++});const R=Array.from(E.values()).sort((W,q)=>new Date(W.month).getTime()-new Date(q.month).getTime()),X=new Map;w==null||w.filter(W=>W.jenis_booking==="ruangan"&&W.ruangan).forEach(W=>{const q=W.ruangan_id;X.has(q)||X.set(q,{nama:W.ruangan.nama,lokasi:W.ruangan.lokasi,count:0}),X.get(q).count++});const H=Array.from(X.values()).sort((W,q)=>q.count-W.count).slice(0,5),L=new Map;w==null||w.filter(W=>W.jenis_booking==="kendaraan"&&W.kendaraan).forEach(W=>{const q=W.kendaraan_id;L.has(q)||L.set(q,{nama:W.kendaraan.nama,plat_nomor:W.kendaraan.plat_nomor,count:0}),L.get(q).count++});const G=Array.from(L.values()).sort((W,q)=>q.count-W.count).slice(0,5),B=new Map;w==null||w.forEach(W=>{const q=W.user_id;B.has(q)||B.set(q,{nama:W.users.nama,email:W.users.email,count:0}),B.get(q).count++});const V=Array.from(B.values()).sort((W,q)=>q.count-W.count).slice(0,10);t({totalBookings:N,roomBookings:j,vehicleBookings:I,pendingBookings:S,approvedBookings:O,rejectedBookings:T,completedBookings:_,monthlyData:R,popularRooms:H,popularVehicles:G,userActivity:V})}catch(w){console.error("Error fetching report data:",w),xe.error("Gagal memuat data laporan")}finally{r(!1)}},x=async()=>{if(e){g(!0);try{const{data:w,error:b}=await Ce.from("peminjaman").select(`
          *,
          users:user_id (
            nama,
            email
          ),
          ruangan:ruangan_id (
            nama,
            lokasi
          ),
          kendaraan:kendaraan_id (
            nama,
            plat_nomor
          )
        `).gte("created_at",i.start).lte("created_at",i.end+"T23:59:59").order("created_at",{ascending:!1});if(b)throw b;const N=["Tanggal Booking","Jenis","Item","Lokasi/Plat","Pemohon","Email","Tanggal Mulai","Tanggal Selesai","Keperluan","Status","Catatan Admin"],j=(w==null?void 0:w.map(_=>{var E,R,X,H,L,G;return[Pn(bi(_.created_at),"dd/MM/yyyy HH:mm"),_.jenis_booking,_.jenis_booking==="ruangan"?(E=_.ruangan)==null?void 0:E.nama:(R=_.kendaraan)==null?void 0:R.nama,_.jenis_booking==="ruangan"?(X=_.ruangan)==null?void 0:X.lokasi:(H=_.kendaraan)==null?void 0:H.plat_nomor,(L=_.users)==null?void 0:L.nama,(G=_.users)==null?void 0:G.email,Pn(bi(_.tanggal_mulai),"dd/MM/yyyy HH:mm"),Pn(bi(_.tanggal_selesai),"dd/MM/yyyy HH:mm"),_.keperluan,_.status,_.catatan_admin||""]}))||[],I=[N,...j].map(_=>_.map(E=>`"${E}"`).join(",")).join(`
`),S=new Blob([I],{type:"text/csv;charset=utf-8;"}),O=document.createElement("a"),T=URL.createObjectURL(S);O.setAttribute("href",T),O.setAttribute("download",`laporan-booking-${Pn(new Date,"yyyy-MM-dd")}.csv`),O.style.visibility="hidden",document.body.appendChild(O),O.click(),document.body.removeChild(O),xe.success("Laporan berhasil diunduh")}catch(w){console.error("Error exporting data:",w),xe.error("Gagal mengunduh laporan")}finally{g(!1)}}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat laporan..."})}):e?c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Laporan & Analitik"}),c.jsx("p",{className:"text-gray-600",children:"Analisis data booking dan aktivitas sistem"})]}),c.jsx("button",{onClick:x,disabled:h,className:"btn btn-primary",children:h?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Mengunduh..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(t4,{className:"h-5 w-5 mr-2"}),"Export CSV"]})})]})}),c.jsx("div",{className:"mb-8 card",children:c.jsxs("div",{className:"card-content",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Filter Periode"}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal Mulai"}),c.jsx("input",{type:"date",value:i.start,onChange:w=>o(b=>({...b,start:w.target.value})),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tanggal Akhir"}),c.jsx("input",{type:"date",value:i.end,onChange:w=>o(b=>({...b,end:w.target.value})),className:"input"})]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Booking"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalBookings})]}),c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(h2,{className:"h-6 w-6 text-blue-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booking Ruangan"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.roomBookings})]}),c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(vn,{className:"h-6 w-6 text-green-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Booking Kendaraan"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.vehicleBookings})]}),c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(xt,{className:"h-6 w-6 text-purple-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Menunggu Persetujuan"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.pendingBookings})]}),c.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:c.jsx(a1,{className:"h-6 w-6 text-yellow-600"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Distribusi Status"})}),c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Disetujui"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${e.approvedBookings/e.totalBookings*100}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:e.approvedBookings})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Selesai"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.completedBookings/e.totalBookings*100}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:e.completedBookings})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Menunggu"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:`${e.pendingBookings/e.totalBookings*100}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:e.pendingBookings})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Ditolak"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${e.rejectedBookings/e.totalBookings*100}%`}})}),c.jsx("span",{className:"text-sm font-medium",children:e.rejectedBookings})]})]})]})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Tren Bulanan"})}),c.jsx("div",{className:"card-content",children:c.jsx("div",{className:"space-y-3",children:e.monthlyData.map((w,b)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:w.month}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Ruangan: ",w.rooms]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Kendaraan: ",w.vehicles]})]}),c.jsx("span",{className:"text-sm font-medium",children:w.total})]})]},b))})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Ruangan Terpopuler"})}),c.jsx("div",{className:"card-content",children:e.popularRooms.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Tidak ada data ruangan"}):c.jsx("div",{className:"space-y-3",children:e.popularRooms.map((w,b)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:w.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:w.lokasi})]}),c.jsxs("span",{className:"text-sm font-medium bg-gray-100 px-2 py-1 rounded",children:[w.count," booking"]})]},b))})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Kendaraan Terpopuler"})}),c.jsx("div",{className:"card-content",children:e.popularVehicles.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Tidak ada data kendaraan"}):c.jsx("div",{className:"space-y-3",children:e.popularVehicles.map((w,b)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:w.nama}),c.jsx("p",{className:"text-sm text-gray-600",children:w.plat_nomor})]}),c.jsxs("span",{className:"text-sm font-medium bg-gray-100 px-2 py-1 rounded",children:[w.count," booking"]})]},b))})})]})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Aktivitas Pengguna Teratas"})}),c.jsx("div",{className:"card-content",children:e.userActivity.length===0?c.jsx("p",{className:"text-gray-500 text-center py-4",children:"Tidak ada data aktivitas"}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Nama"}),c.jsx("th",{className:"text-left py-2 text-sm font-medium text-gray-600",children:"Email"}),c.jsx("th",{className:"text-right py-2 text-sm font-medium text-gray-600",children:"Total Booking"})]})}),c.jsx("tbody",{children:e.userActivity.map((w,b)=>c.jsxs("tr",{className:"border-b border-gray-100",children:[c.jsx("td",{className:"py-2 text-sm text-gray-900",children:w.nama}),c.jsx("td",{className:"py-2 text-sm text-gray-600",children:w.email}),c.jsx("td",{className:"py-2 text-sm font-medium text-gray-900 text-right",children:w.count})]},b))})]})})})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Di,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Gagal memuat laporan"}),c.jsx("p",{className:"text-gray-600",children:"Silakan coba lagi nanti"})]})})},g8=()=>{const[e,t]=F.useState([]),[n,r]=F.useState(!0),[i,o]=F.useState(!1),[h,g]=F.useState(null),[p,x]=F.useState(""),[w,b]=F.useState("all"),[N,j]=F.useState({email:"",nama:"",no_telepon:"",role:"user",password:""}),[I,S]=F.useState(!1),[O,T]=F.useState(!1);F.useEffect(()=>{_()},[]);const _=async()=>{try{r(!0);const{data:V,error:W}=await Ce.from("users").select("*").order("created_at",{ascending:!1});if(W)throw W;t(V||[])}catch(V){console.error("Error fetching users:",V),xe.error("Gagal memuat data pengguna")}finally{r(!1)}},E=async V=>{var W;V.preventDefault(),S(!0);try{if(h){const q={nama:N.nama,no_telepon:N.no_telepon||null,role:N.role};N.email!==h.email&&(q.email=N.email);const{error:re}=await Ce.from("users").update(q).eq("id",h.id);if(re)throw re;xe.success("Pengguna berhasil diperbarui")}else{if(!N.password){xe.error("Password harus diisi untuk pengguna baru");return}const{data:q,error:re}=await Ce.auth.signUp({email:N.email,password:N.password});if(re)throw re;if(q.user){const{error:ye}=await Ce.from("users").insert([{id:q.user.id,email:N.email,nama:N.nama,no_telepon:N.no_telepon||null,role:N.role}]);if(ye)throw ye}xe.success("Pengguna berhasil ditambahkan")}o(!1),g(null),j({email:"",nama:"",no_telepon:"",role:"user",password:""}),_()}catch(q){console.error("Error saving user:",q),(W=q.message)!=null&&W.includes("already registered")?xe.error("Email sudah terdaftar"):xe.error("Gagal menyimpan pengguna")}finally{S(!1)}},R=V=>{g(V),j({email:V.email,nama:V.nama,no_telepon:V.no_telepon||"",role:V.role,password:""}),o(!0)},X=async V=>{if(confirm(`Apakah Anda yakin ingin menghapus pengguna "${V.nama}"?`))try{const{error:W}=await Ce.from("users").delete().eq("id",V.id);if(W)throw W;xe.success("Pengguna berhasil dihapus"),_()}catch(W){console.error("Error deleting user:",W),xe.error("Gagal menghapus pengguna")}},H=e.filter(V=>{const W=V.nama.toLowerCase().includes(p.toLowerCase())||V.email.toLowerCase().includes(p.toLowerCase())||(V.no_telepon||"").includes(p),q=w==="all"||V.role===w;return W&&q}),L=V=>{switch(V){case"admin":return"bg-red-100 text-red-800";case"staff":return"bg-blue-100 text-blue-800";case"user":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},G=V=>{switch(V){case"admin":return"Admin";case"staff":return"Staff";case"user":return"User";default:return V}},B=V=>{switch(V){case"admin":return c.jsx(f2,{className:"h-4 w-4"});case"staff":return c.jsx(_n,{className:"h-4 w-4"});case"user":return c.jsx(Ja,{className:"h-4 w-4"});default:return c.jsx(Ja,{className:"h-4 w-4"})}};return n?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat pengguna..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Kelola Pengguna"}),c.jsx("p",{className:"text-gray-600",children:"Tambah, edit, dan kelola akun pengguna sistem"})]}),c.jsxs("button",{onClick:()=>{g(null),j({email:"",nama:"",no_telepon:"",role:"user",password:""}),o(!0)},className:"btn btn-primary",children:[c.jsx($i,{className:"h-5 w-5 mr-2"}),"Tambah Pengguna"]})]})}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(io,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Cari pengguna...",value:p,onChange:V=>x(V.target.value),className:"input pl-10"})]}),c.jsxs("select",{value:w,onChange:V=>b(V.target.value),className:"input w-full sm:w-auto",children:[c.jsx("option",{value:"all",children:"Semua Role"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"staff",children:"Staff"}),c.jsx("option",{value:"user",children:"User"})]})]}),H.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(_n,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:p||w!=="all"?"Tidak ada pengguna yang sesuai":"Belum ada pengguna"}),c.jsx("p",{className:"text-gray-600 mb-6",children:p||w!=="all"?"Coba ubah filter pencarian":"Tambahkan pengguna pertama untuk memulai"})]}):c.jsx("div",{className:"space-y-4",children:H.map(V=>c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:B(V.role)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:V.nama}),c.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full flex items-center gap-1 ${L(V.role)}`,children:[B(V.role),G(V.role)]})]}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(so,{className:"h-4 w-4"}),c.jsx("span",{children:V.email})]}),V.no_telepon&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qu,{className:"h-4 w-4"}),c.jsx("span",{children:V.no_telepon})]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Bergabung: ",Pn(new Date(V.created_at),"dd MMM yyyy",{locale:Rs}),V.last_sign_in_at&&c.jsxs("span",{className:"ml-2",children:[" Login terakhir: ",Pn(new Date(V.last_sign_in_at),"dd MMM yyyy",{locale:Rs})]})]})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>R(V),className:"btn btn-outline btn-sm",children:[c.jsx(n1,{className:"h-4 w-4 mr-1"}),"Edit"]}),c.jsx("button",{onClick:()=>X(V),className:"btn btn-outline btn-sm text-red-600 border-red-300 hover:bg-red-50",children:c.jsx(r1,{className:"h-4 w-4"})})]})]})})},V.id))}),i&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:h?"Edit Pengguna":"Tambah Pengguna"}),c.jsxs("form",{onSubmit:E,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nama Lengkap"}),c.jsx("input",{type:"text",value:N.nama,onChange:V=>j(W=>({...W,nama:V.target.value})),className:"input",placeholder:"Masukkan nama lengkap",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),c.jsx("input",{type:"email",value:N.email,onChange:V=>j(W=>({...W,email:V.target.value})),className:"input",placeholder:"Masukkan email",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Telepon"}),c.jsx("input",{type:"tel",value:N.no_telepon,onChange:V=>j(W=>({...W,no_telepon:V.target.value})),className:"input",placeholder:"Masukkan nomor telepon"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),c.jsxs("select",{value:N.role,onChange:V=>j(W=>({...W,role:V.target.value})),className:"input",required:!0,children:[c.jsx("option",{value:"user",children:"User"}),c.jsx("option",{value:"staff",children:"Staff"}),c.jsx("option",{value:"admin",children:"Admin"})]})]}),!h&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:O?"text":"password",value:N.password,onChange:V=>j(W=>({...W,password:V.target.value})),className:"input pr-10",placeholder:"Masukkan password",required:!0,minLength:6}),c.jsx("button",{type:"button",onClick:()=>T(!O),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:O?"":""})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimal 6 karakter"})]}),c.jsxs("div",{className:"flex gap-3 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>{o(!1),T(!1)},className:"btn btn-outline flex-1",disabled:I,children:"Batal"}),c.jsx("button",{type:"submit",disabled:I,className:"btn btn-primary flex-1",children:I?c.jsxs(c.Fragment,{children:[c.jsx(Ve,{size:"sm"}),c.jsx("span",{className:"ml-2",children:"Menyimpan..."})]}):h?"Perbarui":"Tambah"})]})]})]})})]})},p8=()=>{const[e,t]=F.useState(null),[n,r]=F.useState([]),[i,o]=F.useState(!0),[h,g]=F.useState(null);F.useEffect(()=>{p()},[]);const p=async()=>{try{o(!0);const{data:I,error:S}=await Ce.from("peminjaman").select("*");if(S)throw S;const O=new Date().toISOString().split("T")[0],T=(I==null?void 0:I.length)||0,_=(I==null?void 0:I.filter(B=>B.status==="pending").length)||0,E=(I==null?void 0:I.filter(B=>B.status==="approved").length)||0,R=(I==null?void 0:I.filter(B=>B.tanggal_mulai.startsWith(O)||B.tanggal_selesai.startsWith(O)).length)||0,X=(I==null?void 0:I.filter(B=>B.jenis_booking==="ruangan").length)||0,H=(I==null?void 0:I.filter(B=>B.jenis_booking==="kendaraan").length)||0;t({totalBookings:T,pendingBookings:_,approvedBookings:E,todayBookings:R,roomBookings:X,vehicleBookings:H});const{data:L,error:G}=await Ce.from("peminjaman").select(`
          *,
          users:user_id (
            nama,
            email
          ),
          ruangan:ruangan_id (
            nama,
            lokasi
          ),
          kendaraan:kendaraan_id (
            nama,
            plat_nomor
          )
        `).order("created_at",{ascending:!1}).limit(10);if(G)throw G;r(L||[])}catch(I){console.error("Error fetching dashboard data:",I),xe.error("Gagal memuat data dashboard")}finally{o(!1)}},x=async(I,S)=>{g(I);try{const{error:O}=await Ce.from("peminjaman").update({status:S==="approve"?"approved":"rejected"}).eq("id",I);if(O)throw O;xe.success(`Booking berhasil ${S==="approve"?"disetujui":"ditolak"}`),p()}catch(O){console.error("Error updating booking:",O),xe.error("Gagal memperbarui booking")}finally{g(null)}},w=I=>{switch(I){case"pending":return"bg-yellow-100 text-yellow-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},b=I=>{switch(I){case"pending":return"Menunggu";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"completed":return"Selesai";default:return I}},N=I=>{switch(I){case"pending":return c.jsx(Ir,{className:"h-4 w-4"});case"approved":return c.jsx(Ut,{className:"h-4 w-4"});case"rejected":return c.jsx(kr,{className:"h-4 w-4"});case"completed":return c.jsx(Ut,{className:"h-4 w-4"});default:return c.jsx(Hi,{className:"h-4 w-4"})}},j=I=>Pn(new Date(I),"dd MMM yyyy, HH:mm",{locale:Rs});return i?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(Ve,{size:"lg",text:"Memuat dashboard..."})}):c.jsxs("div",{className:"container mx-auto px-4 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard Staff"}),c.jsx("p",{className:"text-gray-600",children:"Kelola booking dan pantau aktivitas sistem"})]}),e&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6 mb-8",children:[c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Booking"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.totalBookings})]}),c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Lt,{className:"h-6 w-6 text-blue-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Menunggu"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:e.pendingBookings})]}),c.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:c.jsx(Ir,{className:"h-6 w-6 text-yellow-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Disetujui"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:e.approvedBookings})]}),c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(Ut,{className:"h-6 w-6 text-green-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Hari Ini"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.todayBookings})]}),c.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:c.jsx(a1,{className:"h-6 w-6 text-purple-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ruangan"}),c.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:e.roomBookings})]}),c.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg",children:c.jsx(vn,{className:"h-6 w-6 text-indigo-600"})})]})})}),c.jsx("div",{className:"card",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Kendaraan"}),c.jsx("p",{className:"text-2xl font-bold text-pink-600",children:e.vehicleBookings})]}),c.jsx("div",{className:"p-2 bg-pink-100 rounded-lg",children:c.jsx(xt,{className:"h-6 w-6 text-pink-600"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[c.jsx(Ae,{to:"/admin/bookings",className:"card hover:shadow-lg transition-shadow",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:c.jsx(Lt,{className:"h-6 w-6 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Kelola Booking"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Setujui atau tolak booking"})]})]})})}),c.jsx(Ae,{to:"/admin/rooms",className:"card hover:shadow-lg transition-shadow",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:c.jsx(vn,{className:"h-6 w-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Kelola Ruangan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Tambah dan edit ruangan"})]})]})})}),c.jsx(Ae,{to:"/admin/vehicles",className:"card hover:shadow-lg transition-shadow",children:c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:c.jsx(xt,{className:"h-6 w-6 text-purple-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:"Kelola Kendaraan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Tambah dan edit kendaraan"})]})]})})})]}),c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Booking Terbaru"}),c.jsx(Ae,{to:"/admin/bookings",className:"btn btn-outline btn-sm",children:"Lihat Semua"})]})}),c.jsx("div",{className:"card-content",children:n.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Lt,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500",children:"Belum ada booking terbaru"})]}):c.jsx("div",{className:"space-y-4",children:n.map(I=>{var S,O,T,_,E;return c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:I.jenis_booking==="ruangan"?c.jsx(vn,{className:"h-4 w-4 text-primary-600"}):c.jsx(xt,{className:"h-4 w-4 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:I.jenis_booking==="ruangan"?(S=I.ruangan)==null?void 0:S.nama:(O=I.kendaraan)==null?void 0:O.nama}),c.jsx("span",{className:"text-sm text-gray-500",children:I.jenis_booking==="ruangan"?(T=I.ruangan)==null?void 0:T.lokasi:(_=I.kendaraan)==null?void 0:_.plat_nomor})]}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(_n,{className:"h-3 w-3"}),c.jsx("span",{children:(E=I.users)==null?void 0:E.nama})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Lt,{className:"h-3 w-3"}),c.jsxs("span",{children:[j(I.tanggal_mulai)," - ",j(I.tanggal_selesai)]})]}),c.jsxs("p",{className:"text-gray-700 mt-1",children:[c.jsx("strong",{children:"Keperluan:"})," ",I.keperluan]})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[N(I.status),c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(I.status)}`,children:b(I.status)})]}),I.status==="pending"&&c.jsxs("div",{className:"flex gap-1 ml-2",children:[c.jsx("button",{onClick:()=>x(I.id,"approve"),disabled:h===I.id,className:"btn btn-primary btn-xs",children:h===I.id?c.jsx(Ve,{size:"sm"}):c.jsx(Ut,{className:"h-3 w-3"})}),c.jsx("button",{onClick:()=>x(I.id,"reject"),disabled:h===I.id,className:"btn btn-outline btn-xs text-red-600 border-red-300 hover:bg-red-50",children:c.jsx(kr,{className:"h-3 w-3"})})]})]})]})},I.id)})})})]})]})};var fe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(fe||(fe={}));var Qg=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Zg;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Zg||(Zg={}));function x8(e){return Object.values(fe).includes(e)}var es;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(es||(es={}));var Sr=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[es.SCAN_TYPE_CAMERA,es.SCAN_TYPE_FILE],e}(),bw=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Qg.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Qg.get(t))},e}(),Jg=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),qf;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(qf||(qf={}));var Cw=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:qf.UNKWOWN_ERROR}},e}(),Nw=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function zr(e){return typeof e>"u"||e===null}function y8(e,t,n){return e>n?n:e<t?t:e}var Si=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),qe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),ep=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Ew=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(i),h=Object.keys(t),g=0,p=h;g<p.length;g++){var x=p[g];if(o.has(x))return n.logError("".concat(x," is not supported videoConstaints."),!0),!1}return!0},e}(),Qf={exports:{}};(function(e,t){(function(n,r){r(t)})(Pt,function(n){function r(A){return A==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,a){A.__proto__=a}||function(A,a){for(var s in a)a.hasOwnProperty(s)&&(A[s]=a[s])};function o(A,a){i(A,a);function s(){this.constructor=A}A.prototype=a===null?Object.create(a):(s.prototype=a.prototype,new s)}function h(A,a){var s=Object.setPrototypeOf;s?s(A,a):A.__proto__=a}function g(A,a){a===void 0&&(a=A.constructor);var s=Error.captureStackTrace;s&&s(A,a)}var p=function(A){o(a,A);function a(s){var l=this.constructor,u=A.call(this,s)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),h(u,l.prototype),g(u),u}return a}(Error);class x extends p{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}x.kind="Exception";class w extends x{}w.kind="ArgumentException";class b extends x{}b.kind="IllegalArgumentException";class N{constructor(a){if(this.binarizer=a,a===null)throw new b("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,s){return this.binarizer.getBlackRow(a,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,s,l,u){const d=this.binarizer.getLuminanceSource().crop(a,s,l,u);return new N(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class j extends x{static getChecksumInstance(){return new j}}j.kind="ChecksumException";class I{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(a,s,l,u,d){for(;d--;)l[u++]=a[s++]}static currentTimeMillis(){return Date.now()}}class O extends x{}O.kind="IndexOutOfBoundsException";class T extends O{constructor(a=void 0,s=void 0){super(s),this.index=a,this.message=s}}T.kind="ArrayIndexOutOfBoundsException";class _{static fill(a,s){for(let l=0,u=a.length;l<u;l++)a[l]=s}static fillWithin(a,s,l,u){_.rangeCheck(a.length,s,l);for(let d=s;d<l;d++)a[d]=u}static rangeCheck(a,s,l){if(s>l)throw new b("fromIndex("+s+") > toIndex("+l+")");if(s<0)throw new T(s);if(l>a)throw new T(l)}static asList(...a){return a}static create(a,s,l){return Array.from({length:a}).map(d=>Array.from({length:s}).fill(l))}static createInt32Array(a,s,l){return Array.from({length:a}).map(d=>Int32Array.from({length:s}).fill(l))}static equals(a,s){if(!a||!s||!a.length||!s.length||a.length!==s.length)return!1;for(let l=0,u=a.length;l<u;l++)if(a[l]!==s[l])return!1;return!0}static hashCode(a){if(a===null)return 0;let s=1;for(const l of a)s=31*s+l;return s}static fillUint8Array(a,s){for(let l=0;l!==a.length;l++)a[l]=s}static copyOf(a,s){return a.slice(0,s)}static copyOfUint8Array(a,s){if(a.length<=s){const l=new Uint8Array(s);return l.set(a),l}return a.slice(0,s)}static copyOfRange(a,s,l){const u=l-s,d=new Int32Array(u);return S.arraycopy(a,s,d,0,u),d}static binarySearch(a,s,l){l===void 0&&(l=_.numberComparator);let u=0,d=a.length-1;for(;u<=d;){const f=d+u>>1,m=l(s,a[f]);if(m>0)u=f+1;else if(m<0)d=f-1;else return f}return-u-1}static numberComparator(a,s){return a-s}}class E{static numberOfTrailingZeros(a){let s;if(a===0)return 32;let l=31;return s=a<<16,s!==0&&(l-=16,a=s),s=a<<8,s!==0&&(l-=8,a=s),s=a<<4,s!==0&&(l-=4,a=s),s=a<<2,s!==0&&(l-=2,a=s),l-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let s=1;return a>>>16||(s+=16,a<<=16),a>>>24||(s+=8,a<<=8),a>>>28||(s+=4,a<<=4),a>>>30||(s+=2,a<<=2),s-=a>>>31,s}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,s){return Math.trunc(a/s)}static parseInt(a,s=void 0){return parseInt(a,s)}}E.MIN_VALUE_32_BITS=-2147483648,E.MAX_VALUE=Number.MAX_SAFE_INTEGER;class R{constructor(a,s){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,s==null?this.bits=R.makeArray(a):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const s=R.makeArray(a);S.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const s=this.size;if(a>=s)return s;const l=this.bits;let u=Math.floor(a/32),d=l[u];d&=~((1<<(a&31))-1);const f=l.length;for(;d===0;){if(++u===f)return s;d=l[u]}const m=u*32+E.numberOfTrailingZeros(d);return m>s?s:m}getNextUnset(a){const s=this.size;if(a>=s)return s;const l=this.bits;let u=Math.floor(a/32),d=~l[u];d&=~((1<<(a&31))-1);const f=l.length;for(;d===0;){if(++u===f)return s;d=~l[u]}const m=u*32+E.numberOfTrailingZeros(d);return m>s?s:m}setBulk(a,s){this.bits[Math.floor(a/32)]=s}setRange(a,s){if(s<a||a<0||s>this.size)throw new b;if(s===a)return;s--;const l=Math.floor(a/32),u=Math.floor(s/32),d=this.bits;for(let f=l;f<=u;f++){const m=f>l?0:a&31,v=(2<<(f<u?31:s&31))-(1<<m);d[f]|=v}}clear(){const a=this.bits.length,s=this.bits;for(let l=0;l<a;l++)s[l]=0}isRange(a,s,l){if(s<a||a<0||s>this.size)throw new b;if(s===a)return!0;s--;const u=Math.floor(a/32),d=Math.floor(s/32),f=this.bits;for(let m=u;m<=d;m++){const y=m>u?0:a&31,C=(2<<(m<d?31:s&31))-(1<<y)&4294967295;if((f[m]&C)!==(l?C:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,s){if(s<0||s>32)throw new b("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let l=s;l>0;l--)this.appendBit((a>>l-1&1)===1)}appendBitArray(a){const s=a.size;this.ensureCapacity(this.size+s);for(let l=0;l<s;l++)this.appendBit(a.get(l))}xor(a){if(this.size!==a.size)throw new b("Sizes don't match");const s=this.bits;for(let l=0,u=s.length;l<u;l++)s[l]^=a.bits[l]}toBytes(a,s,l,u){for(let d=0;d<u;d++){let f=0;for(let m=0;m<8;m++)this.get(a)&&(f|=1<<7-m),a++;s[l+d]=f}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),l=s+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,a[s-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=a[0]>>>d;for(let m=1;m<l;m++){const y=a[m];f|=y<<32-d,a[m-1]=f,f=y>>>d}a[l-1]=f}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof R))return!1;const s=a;return this.size===s.size&&_.equals(this.bits,s.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let a="";for(let s=0,l=this.size;s<l;s++)s&7||(a+=" "),a+=this.get(s)?"X":".";return a}clone(){return new R(this.size,this.bits.slice())}}var X;(function(A){A[A.OTHER=0]="OTHER",A[A.PURE_BARCODE=1]="PURE_BARCODE",A[A.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",A[A.TRY_HARDER=3]="TRY_HARDER",A[A.CHARACTER_SET=4]="CHARACTER_SET",A[A.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",A[A.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",A[A.ASSUME_GS1=7]="ASSUME_GS1",A[A.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",A[A.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",A[A.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(X||(X={}));var H=X;class L extends x{static getFormatInstance(){return new L}}L.kind="FormatException";var G;(function(A){A[A.Cp437=0]="Cp437",A[A.ISO8859_1=1]="ISO8859_1",A[A.ISO8859_2=2]="ISO8859_2",A[A.ISO8859_3=3]="ISO8859_3",A[A.ISO8859_4=4]="ISO8859_4",A[A.ISO8859_5=5]="ISO8859_5",A[A.ISO8859_6=6]="ISO8859_6",A[A.ISO8859_7=7]="ISO8859_7",A[A.ISO8859_8=8]="ISO8859_8",A[A.ISO8859_9=9]="ISO8859_9",A[A.ISO8859_10=10]="ISO8859_10",A[A.ISO8859_11=11]="ISO8859_11",A[A.ISO8859_13=12]="ISO8859_13",A[A.ISO8859_14=13]="ISO8859_14",A[A.ISO8859_15=14]="ISO8859_15",A[A.ISO8859_16=15]="ISO8859_16",A[A.SJIS=16]="SJIS",A[A.Cp1250=17]="Cp1250",A[A.Cp1251=18]="Cp1251",A[A.Cp1252=19]="Cp1252",A[A.Cp1256=20]="Cp1256",A[A.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",A[A.UTF8=22]="UTF8",A[A.ASCII=23]="ASCII",A[A.Big5=24]="Big5",A[A.GB18030=25]="GB18030",A[A.EUC_KR=26]="EUC_KR"})(G||(G={}));class B{constructor(a,s,l,...u){this.valueIdentifier=a,this.name=l,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=u,B.VALUE_IDENTIFIER_TO_ECI.set(a,this),B.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,m=d.length;f!==m;f++){const y=d[f];B.VALUES_TO_ECI.set(y,this)}for(const f of u)B.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new L("incorect value");const s=B.VALUES_TO_ECI.get(a);if(s===void 0)throw new L("incorect value");return s}static getCharacterSetECIByName(a){const s=B.NAME_TO_ECI.get(a);if(s===void 0)throw new L("incorect value");return s}equals(a){if(!(a instanceof B))return!1;const s=a;return this.getName()===s.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(G.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(G.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(G.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(G.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(G.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(G.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(G.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(G.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(G.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(G.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(G.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(G.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(G.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(G.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(G.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(G.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(G.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(G.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(G.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(G.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(G.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(G.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(G.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(G.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(G.Big5,28,"Big5"),B.GB18030=new B(G.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(G.EUC_KR,30,"EUC_KR","EUC-KR");class V extends x{}V.kind="UnsupportedOperationException";class W{static decode(a,s){const l=this.encodingName(s);return this.customDecoder?this.customDecoder(a,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(a,l):new TextDecoder(l).decode(a)}static shouldDecodeOnFallback(a){return!W.isBrowser()&&a==="ISO-8859-1"}static encode(a,s){const l=this.encodingName(s);return this.customEncoder?this.customEncoder(a,l):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof B?a:B.getCharacterSetECIByName(a)}static decodeFallback(a,s){const l=this.encodingCharacterSet(s);if(W.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=a.length;d<f;d++){let m=a[d].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new V(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(B.UTF8)||a.equals(B.ISO8859_1)||a.equals(B.ASCII)}static encodeFallback(a){const l=btoa(unescape(encodeURIComponent(a))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class q{static castAsNonUtf8Char(a,s=null){const l=s?s.getName():this.ISO88591;return W.decode(new Uint8Array([a]),l)}static guessEncoding(a,s){if(s!=null&&s.get(H.CHARACTER_SET)!==void 0)return s.get(H.CHARACTER_SET).toString();const l=a.length;let u=!0,d=!0,f=!0,m=0,y=0,v=0,C=0,k=0,D=0,P=0,U=0,z=0,Y=0,Z=0;const se=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let ie=0;ie<l&&(u||d||f);ie++){const ne=a[ie]&255;f&&(m>0?ne&128?m--:f=!1:ne&128&&(ne&64?(m++,ne&32?(m++,ne&16?(m++,ne&8?f=!1:C++):v++):y++):f=!1)),u&&(ne>127&&ne<160?u=!1:ne>159&&(ne<192||ne===215||ne===247)&&Z++),d&&(k>0?ne<64||ne===127||ne>252?d=!1:k--:ne===128||ne===160||ne>239?d=!1:ne>160&&ne<224?(D++,U=0,P++,P>z&&(z=P)):ne>127?(k++,P=0,U++,U>Y&&(Y=U)):(P=0,U=0))}return f&&m>0&&(f=!1),d&&k>0&&(d=!1),f&&(se||y+v+C>0)?q.UTF8:d&&(q.ASSUME_SHIFT_JIS||z>=3||Y>=3)?q.SHIFT_JIS:u&&d?z===2&&D===2||Z*10>=l?q.SHIFT_JIS:q.ISO88591:u?q.ISO88591:d?q.SHIFT_JIS:f?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(a,...s){let l=-1;function u(f,m,y,v,C,k){if(f==="%%")return"%";if(s[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,P;switch(k){case"s":P=s[l];break;case"c":P=s[l][0];break;case"f":P=parseFloat(s[l]).toFixed(f);break;case"p":P=parseFloat(s[l]).toPrecision(f);break;case"e":P=parseFloat(s[l]).toExponential(f);break;case"x":P=parseInt(s[l]).toString(D||16);break;case"d":P=parseFloat(parseInt(s[l],D||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(D);let U=parseInt(y),z=y&&y[0]+""=="0"?"0":" ";for(;P.length<U;)P=m!==void 0?P+z:z+P;return P}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(d,u)}static getBytes(a,s){return W.encode(a,s)}static getCharCode(a,s=0){return a.charCodeAt(s)}static getCharAt(a){return String.fromCharCode(a)}}q.SHIFT_JIS=B.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=B.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=B.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class re{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=q.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,s,l){for(let u=s;s<s+l;u++)this.append(a[u]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,s){this.value=this.value.substr(0,a)+s+this.value.substr(a+1)}substring(a,s){return this.value.substring(a,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,s){this.value=this.value.substr(0,a)+s+this.value.substr(a+s.length)}}class ye{constructor(a,s,l,u){if(this.width=a,this.height=s,this.rowSize=l,this.bits=u,s==null&&(s=a),this.height=s,a<1||s<1)throw new b("Both dimensions must be greater than 0");l==null&&(l=Math.floor((a+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const s=a.length,l=a[0].length,u=new ye(l,s);for(let d=0;d<s;d++){const f=a[d];for(let m=0;m<l;m++)f[m]&&u.set(m,d)}return u}static parseFromString(a,s,l){if(a===null)throw new b("stringRepresentation cannot be null");const u=new Array(a.length);let d=0,f=0,m=-1,y=0,v=0;for(;v<a.length;)if(a.charAt(v)===`
`||a.charAt(v)==="\r"){if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new b("row lengths do not match");f=d,y++}v++}else if(a.substring(v,v+s.length)===s)v+=s.length,u[d]=!0,d++;else if(a.substring(v,v+l.length)===l)v+=l.length,u[d]=!1,d++;else throw new b("illegal character encountered: "+a.substring(v));if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new b("row lengths do not match");y++}const C=new ye(m,y);for(let k=0;k<d;k++)u[k]&&C.set(Math.floor(k%m),Math.floor(k/m));return C}get(a,s){const l=s*this.rowSize+Math.floor(a/32);return(this.bits[l]>>>(a&31)&1)!==0}set(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]|=1<<(a&31)&4294967295}unset(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]&=~(1<<(a&31)&4294967295)}flip(a,s){const l=s*this.rowSize+Math.floor(a/32);this.bits[l]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new b("input matrix dimensions do not match");const s=new R(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const m=d*l,y=a.getRow(d,s).getBitArray();for(let v=0;v<l;v++)u[m+v]^=y[v]}}clear(){const a=this.bits,s=a.length;for(let l=0;l<s;l++)a[l]=0}setRegion(a,s,l,u){if(s<0||a<0)throw new b("Left and top must be nonnegative");if(u<1||l<1)throw new b("Height and width must be at least 1");const d=a+l,f=s+u;if(f>this.height||d>this.width)throw new b("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let v=s;v<f;v++){const C=v*m;for(let k=a;k<d;k++)y[C+Math.floor(k/32)]|=1<<(k&31)&4294967295}}getRow(a,s){s==null||s.getSize()<this.width?s=new R(this.width):s.clear();const l=this.rowSize,u=this.bits,d=a*l;for(let f=0;f<l;f++)s.setBulk(f*32,u[d+f]);return s}setRow(a,s){S.arraycopy(s.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),s=this.getHeight();let l=new R(a),u=new R(a);for(let d=0,f=Math.floor((s+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(s-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(s-1-d,l)}getEnclosingRectangle(){const a=this.width,s=this.height,l=this.rowSize,u=this.bits;let d=a,f=s,m=-1,y=-1;for(let v=0;v<s;v++)for(let C=0;C<l;C++){const k=u[v*l+C];if(k!==0){if(v<f&&(f=v),v>y&&(y=v),C*32<d){let D=0;for(;!(k<<31-D&4294967295);)D++;C*32+D<d&&(d=C*32+D)}if(C*32+31>m){let D=31;for(;!(k>>>D);)D--;C*32+D>m&&(m=C*32+D)}}}return m<d||y<f?null:Int32Array.from([d,f,m-d+1,y-f+1])}getTopLeftOnBit(){const a=this.rowSize,s=this.bits;let l=0;for(;l<s.length&&s[l]===0;)l++;if(l===s.length)return null;const u=l/a;let d=l%a*32;const f=s[l];let m=0;for(;!(f<<31-m&4294967295);)m++;return d+=m,Int32Array.from([d,u])}getBottomRightOnBit(){const a=this.rowSize,s=this.bits;let l=s.length-1;for(;l>=0&&s[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/a);let d=Math.floor(l%a)*32;const f=s[l];let m=31;for(;!(f>>>m);)m--;return d+=m,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ye))return!1;const s=a;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&_.equals(this.bits,s.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+_.hashCode(this.bits),a}toString(a="X ",s="  ",l=`
`){return this.buildToString(a,s,l)}buildToString(a,s,l){let u=new re;for(let d=0,f=this.height;d<f;d++){for(let m=0,y=this.width;m<y;m++)u.append(this.get(m,d)?a:s);u.append(l)}return u.toString()}clone(){return new ye(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends x{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class J extends I{constructor(a){super(a),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(a,s){const l=this.getLuminanceSource(),u=l.getWidth();s==null||s.getSize()<u?s=new R(u):s.clear(),this.initArrays(u);const d=l.getRow(a,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(d[y]&255)>>J.LUMINANCE_SHIFT]++;const m=J.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(d[y]&255)<m&&s.set(y);else{let y=d[0]&255,v=d[1]&255;for(let C=1;C<u-1;C++){const k=d[C+1]&255;(v*4-y-k)/2<m&&s.set(C),y=v,v=k}}return s}getBlackMatrix(){const a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight(),u=new ye(s,l);this.initArrays(s);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),C=a.getRow(v,this.luminances),k=Math.floor(s*4/5);for(let D=Math.floor(s/5);D<k;D++){const P=C[D]&255;d[P>>J.LUMINANCE_SHIFT]++}}const f=J.estimateBlackPoint(d),m=a.getMatrix();for(let y=0;y<l;y++){const v=y*s;for(let C=0;C<s;C++)(m[v+C]&255)<f&&u.set(C,y)}return u}createBinarizer(a){return new J(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const s=this.buckets;for(let l=0;l<J.LUMINANCE_BUCKETS;l++)s[l]=0}static estimateBlackPoint(a){const s=a.length;let l=0,u=0,d=0;for(let C=0;C<s;C++)a[C]>d&&(u=C,d=a[C]),a[C]>l&&(l=a[C]);let f=0,m=0;for(let C=0;C<s;C++){const k=C-u,D=a[C]*k*k;D>m&&(f=C,m=D)}if(u>f){const C=u;u=f,f=C}if(f-u<=s/16)throw new $;let y=f-1,v=-1;for(let C=f-1;C>u;C--){const k=C-u,D=k*k*(f-C)*(l-a[C]);D>v&&(y=C,v=D)}return y<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class ce extends J{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),s=a.getWidth(),l=a.getHeight();if(s>=ce.MINIMUM_DIMENSION&&l>=ce.MINIMUM_DIMENSION){const u=a.getMatrix();let d=s>>ce.BLOCK_SIZE_POWER;s&ce.BLOCK_SIZE_MASK&&d++;let f=l>>ce.BLOCK_SIZE_POWER;l&ce.BLOCK_SIZE_MASK&&f++;const m=ce.calculateBlackPoints(u,d,f,s,l),y=new ye(s,l);ce.calculateThresholdForBlock(u,d,f,s,l,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new ce(a)}static calculateThresholdForBlock(a,s,l,u,d,f,m){const y=d-ce.BLOCK_SIZE,v=u-ce.BLOCK_SIZE;for(let C=0;C<l;C++){let k=C<<ce.BLOCK_SIZE_POWER;k>y&&(k=y);const D=ce.cap(C,2,l-3);for(let P=0;P<s;P++){let U=P<<ce.BLOCK_SIZE_POWER;U>v&&(U=v);const z=ce.cap(P,2,s-3);let Y=0;for(let se=-2;se<=2;se++){const ie=f[D+se];Y+=ie[z-2]+ie[z-1]+ie[z]+ie[z+1]+ie[z+2]}const Z=Y/25;ce.thresholdBlock(a,U,k,Z,u,m)}}}static cap(a,s,l){return a<s?s:a>l?l:a}static thresholdBlock(a,s,l,u,d,f){for(let m=0,y=l*d+s;m<ce.BLOCK_SIZE;m++,y+=d)for(let v=0;v<ce.BLOCK_SIZE;v++)(a[y+v]&255)<=u&&f.set(s+v,l+m)}static calculateBlackPoints(a,s,l,u,d){const f=d-ce.BLOCK_SIZE,m=u-ce.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(s);let C=v<<ce.BLOCK_SIZE_POWER;C>f&&(C=f);for(let k=0;k<s;k++){let D=k<<ce.BLOCK_SIZE_POWER;D>m&&(D=m);let P=0,U=255,z=0;for(let Z=0,se=C*u+D;Z<ce.BLOCK_SIZE;Z++,se+=u){for(let ie=0;ie<ce.BLOCK_SIZE;ie++){const ne=a[se+ie]&255;P+=ne,ne<U&&(U=ne),ne>z&&(z=ne)}if(z-U>ce.MIN_DYNAMIC_RANGE)for(Z++,se+=u;Z<ce.BLOCK_SIZE;Z++,se+=u)for(let ie=0;ie<ce.BLOCK_SIZE;ie++)P+=a[se+ie]&255}let Y=P>>ce.BLOCK_SIZE_POWER*2;if(z-U<=ce.MIN_DYNAMIC_RANGE&&(Y=U/2,v>0&&k>0)){const Z=(y[v-1][k]+2*y[v][k-1]+y[v-1][k-1])/4;U<Z&&(Y=Z)}y[v][k]=Y}}return y}}ce.BLOCK_SIZE_POWER=3,ce.BLOCK_SIZE=1<<ce.BLOCK_SIZE_POWER,ce.BLOCK_SIZE_MASK=ce.BLOCK_SIZE-1,ce.MINIMUM_DIMENSION=ce.BLOCK_SIZE*5,ce.MIN_DYNAMIC_RANGE=24;class oe{constructor(a,s){this.width=a,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,s,l,u){throw new V("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new V("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new V("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let s=new re;for(let l=0;l<this.height;l++){const u=this.getRow(l,a);for(let d=0;d<this.width;d++){const f=u[d]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",s.append(m)}s.append(`
`)}return s.toString()}}class de extends oe{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,s){const l=this.delegate.getRow(a,s),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const a=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(s);for(let u=0;u<s;u++)l[u]=255-(a[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(a,s,l,u){return new de(this.delegate.crop(a,s,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class ue extends oe{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=ue.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const s=a.getContext("2d").getImageData(0,0,a.width,a.height);return ue.toGrayscaleBuffer(s.data,a.width,a.height)}static toGrayscaleBuffer(a,s,l){const u=new Uint8ClampedArray(s*l);for(let d=0,f=0,m=a.length;d<m;d+=4,f++){let y;if(a[d+3]===0)y=255;else{const C=a[d],k=a[d+1],D=a[d+2];y=306*C+601*k+117*D+512>>10}u[f]=y}return u}getRow(a,s){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const l=this.getWidth(),u=a*l;return s===null?s=this.buffer.slice(u,u+l):(s.length<l&&(s=new Uint8ClampedArray(l)),s.set(this.buffer.slice(u,u+l))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,s,l,u){return super.crop(a,s,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const s=this.getTempCanvasElement(),l=s.getContext("2d"),u=a*ue.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return s.width=m,s.height=y,l.translate(m/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=ue.makeBufferFromCanvasImageData(s),this}invert(){return new de(this)}}ue.DEGREE_TO_RADIANS=Math.PI/180;class Oe{constructor(a,s,l){this.deviceId=a,this.label=s,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var _e=(globalThis||Pt||self||window||void 0)&&(globalThis||Pt||self||window||void 0).__awaiter||function(A,a,s,l){function u(d){return d instanceof s?d:new s(function(f){f(d)})}return new(s||(s=Promise))(function(d,f){function m(C){try{v(l.next(C))}catch(k){f(k)}}function y(C){try{v(l.throw(C))}catch(k){f(k)}}function v(C){C.done?d(C.value):u(C.value).then(m,y)}v((l=l.apply(A,a||[])).next())})};class It{constructor(a,s=500,l){this.reader=a,this.timeBetweenScansMillis=s,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return _e(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const l of a){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${s.length+1}`,m=l.groupId,y={deviceId:d,label:f,kind:u,groupId:m};s.push(y)}return s})}getVideoInputDevices(){return _e(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new Oe(s.deviceId,s.label))})}findDeviceById(a){return _e(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(l=>l.deviceId===a):null})}decodeFromInputVideoDevice(a,s){return _e(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,s)})}decodeOnceFromVideoDevice(a,s){return _e(this,void 0,void 0,function*(){this.reset();let l;a?l={deviceId:{exact:a}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,s)})}decodeOnceFromConstraints(a,s){return _e(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(l,s)})}decodeOnceFromStream(a,s){return _e(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(a,s);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(a,s,l){return _e(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,s,l)})}decodeFromVideoDevice(a,s,l){return _e(this,void 0,void 0,function*(){let u;a?u={deviceId:{exact:a}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,s,l)})}decodeFromConstraints(a,s,l){return _e(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(u,s,l)})}decodeFromStream(a,s,l){return _e(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(a,s);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,s){return _e(this,void 0,void 0,function*(){const l=this.prepareVideoElement(s);return this.addVideoSource(l,a),this.videoElement=l,this.stream=a,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(a){return new Promise((s,l)=>this.playVideoOnLoad(a,()=>s()))}playVideoOnLoad(a,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",s),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return _e(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,s){const l=document.getElementById(a);if(!l)throw new w(`element with id '${a}' not found`);if(l.nodeName.toLowerCase()!==s.toLowerCase())throw new w(`element with id '${a}' must be an ${s} element`);return l}decodeFromImage(a,s){if(!a&&!s)throw new w("either imageElement with a src set or an url must be provided");return s&&!a?this.decodeFromImageUrl(s):this.decodeFromImageElement(a)}decodeFromVideo(a,s){if(!a&&!s)throw new w("Either an element with a src set or an URL must be provided");return s&&!a?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,s,l){if(a===void 0&&s===void 0)throw new w("Either an element with a src set or an URL must be provided");return s&&!a?this.decodeFromVideoUrlContinuously(s,l):this.decodeFromVideoElementContinuously(a,l)}decodeFromImageElement(a){if(!a)throw new w("An image element must be provided.");this.reset();const s=this.prepareImageElement(a);this.imageElement=s;let l;return this.isImageLoaded(s)?l=this.decodeOnce(s,!1,!0):l=this._decodeOnLoadImage(s),l}decodeFromVideoElement(a){const s=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(a,s){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(l,s)}_decodeFromVideoElementSetup(a){if(!a)throw new w("A video element must be provided.");this.reset();const s=this.prepareVideoElement(a);return this.videoElement=s,s}decodeFromImageUrl(a){if(!a)throw new w("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const l=this._decodeOnLoadImage(s);return s.src=a,l}decodeFromVideoUrl(a){if(!a)throw new w("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),l=this.decodeFromVideoElement(s);return s.src=a,l}decodeFromVideoUrlContinuously(a,s){if(!a)throw new w("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,s);return l.src=a,u}_decodeOnLoadImage(a){return new Promise((s,l)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(s,l),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return _e(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,s){return _e(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,s)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let s;return typeof a>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof a=="string"&&(s=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(s=a),s}prepareVideoElement(a){let s;return!a&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof a=="string"&&(s=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(s=a),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(a,s=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(a);d(m)}catch(m){const y=s&&m instanceof $,C=(m instanceof j||m instanceof L)&&l;if(y||C)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(m)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(a,s){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(a);s(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){s(null,u);const d=u instanceof j||u instanceof L,f=u instanceof $;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(a){const s=this.createBinaryBitmap(a);return this.decodeBitmap(s)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,s,l){s||(s={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(a,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(a,s,l=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(a,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const s=this.getCaptureCanvas(a),l=new ue(s),u=new ce(l);return new N(u)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const s=this.createCaptureCanvas(a);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let l,u;return typeof a<"u"&&(a instanceof HTMLVideoElement?(l=a.videoWidth,u=a.videoHeight):a instanceof HTMLImageElement&&(l=a.naturalWidth||a.width,u=a.naturalHeight||a.height)),s.style.width=l+"px",s.style.height=u+"px",s.width=l,s.height=u,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,s){try{a.srcObject=s}catch{a.src=URL.createObjectURL(s)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class Ze{constructor(a,s,l=s==null?0:8*s.length,u,d,f=S.currentTimeMillis()){this.text=a,this.rawBytes=s,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=a,this.rawBytes=s,l==null?this.numBits=s==null?0:8*s.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=S.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,s)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const s=this.resultPoints;if(s===null)this.resultPoints=a;else if(a!==null&&a.length>0){const l=new Array(s.length+a.length);S.arraycopy(s,0,l,0,s.length),S.arraycopy(a,0,l,s.length,a.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var gr;(function(A){A[A.AZTEC=0]="AZTEC",A[A.CODABAR=1]="CODABAR",A[A.CODE_39=2]="CODE_39",A[A.CODE_93=3]="CODE_93",A[A.CODE_128=4]="CODE_128",A[A.DATA_MATRIX=5]="DATA_MATRIX",A[A.EAN_8=6]="EAN_8",A[A.EAN_13=7]="EAN_13",A[A.ITF=8]="ITF",A[A.MAXICODE=9]="MAXICODE",A[A.PDF_417=10]="PDF_417",A[A.QR_CODE=11]="QR_CODE",A[A.RSS_14=12]="RSS_14",A[A.RSS_EXPANDED=13]="RSS_EXPANDED",A[A.UPC_A=14]="UPC_A",A[A.UPC_E=15]="UPC_E",A[A.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(gr||(gr={}));var ge=gr,kn;(function(A){A[A.OTHER=0]="OTHER",A[A.ORIENTATION=1]="ORIENTATION",A[A.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",A[A.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",A[A.ISSUE_NUMBER=4]="ISSUE_NUMBER",A[A.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",A[A.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",A[A.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",A[A.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",A[A.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",A[A.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(kn||(kn={}));var yt=kn;class jn{constructor(a,s,l,u,d=-1,f=-1){this.rawBytes=a,this.text=s,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Kr{exp(a){return this.expTable[a]}log(a){if(a===0)throw new b;return this.logTable[a]}static addOrSubtract(a,s){return a^s}}class Xt{constructor(a,s){if(s.length===0)throw new b;this.field=a;const l=s.length;if(l>1&&s[0]===0){let u=1;for(;u<l&&s[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const s=this.coefficients;let l;if(a===1){l=0;for(let f=0,m=s.length;f!==m;f++){const y=s[f];l=Kr.addOrSubtract(l,y)}return l}l=s[0];const u=s.length,d=this.field;for(let f=1;f<u;f++)l=Kr.addOrSubtract(d.multiply(a,l),s[f]);return l}addOrSubtract(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let s=this.coefficients,l=a.coefficients;if(s.length>l.length){const f=s;s=l,l=f}let u=new Int32Array(l.length);const d=l.length-s.length;S.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Kr.addOrSubtract(s[f-d],l[f]);return new Xt(this.field,u)}multiply(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const s=this.coefficients,l=s.length,u=a.coefficients,d=u.length,f=new Int32Array(l+d-1),m=this.field;for(let y=0;y<l;y++){const v=s[y];for(let C=0;C<d;C++)f[y+C]=Kr.addOrSubtract(f[y+C],m.multiply(v,u[C]))}return new Xt(m,f)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const s=this.coefficients.length,l=this.field,u=new Int32Array(s),d=this.coefficients;for(let f=0;f<s;f++)u[f]=l.multiply(d[f],a);return new Xt(l,u)}multiplyByMonomial(a,s){if(a<0)throw new b;if(s===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+a),f=this.field;for(let m=0;m<u;m++)d[m]=f.multiply(l[m],s);return new Xt(f,d)}divide(a){if(!this.field.equals(a.field))throw new b("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new b("Divide by 0");const s=this.field;let l=s.getZero(),u=this;const d=a.getCoefficient(a.getDegree()),f=s.inverse(d);for(;u.getDegree()>=a.getDegree()&&!u.isZero();){const m=u.getDegree()-a.getDegree(),y=s.multiply(u.getCoefficient(u.getDegree()),f),v=a.multiplyByMonomial(m,y),C=s.buildMonomial(m,y);l=l.addOrSubtract(C),u=u.addOrSubtract(v)}return[l,u]}toString(){let a="";for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);if(l!==0){if(l<0?(a+=" - ",l=-l):a.length>0&&(a+=" + "),s===0||l!==1){const u=this.field.log(l);u===0?a+="1":u===1?a+="a":(a+="a^",a+=u)}s!==0&&(s===1?a+="x":(a+="x^",a+=s))}}return a}}class qr extends x{}qr.kind="ArithmeticException";class Be extends Kr{constructor(a,s,l){super(),this.primitive=a,this.size=s,this.generatorBase=l;const u=new Int32Array(s);let d=1;for(let m=0;m<s;m++)u[m]=d,d*=2,d>=s&&(d^=a,d&=s-1);this.expTable=u;const f=new Int32Array(s);for(let m=0;m<s-1;m++)f[u[m]]=m;this.logTable=f,this.zero=new Xt(this,Int32Array.from([0])),this.one=new Xt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,s){if(a<0)throw new b;if(s===0)return this.zero;const l=new Int32Array(a+1);return l[0]=s,new Xt(this,l)}inverse(a){if(a===0)throw new qr;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,s){return a===0||s===0?0:this.expTable[(this.logTable[a]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+E.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Be.AZTEC_DATA_12=new Be(4201,4096,1),Be.AZTEC_DATA_10=new Be(1033,1024,1),Be.AZTEC_DATA_6=new Be(67,64,1),Be.AZTEC_PARAM=new Be(19,16,1),Be.QR_CODE_FIELD_256=new Be(285,256,0),Be.DATA_MATRIX_FIELD_256=new Be(301,256,1),Be.AZTEC_DATA_8=Be.DATA_MATRIX_FIELD_256,Be.MAXICODE_FIELD_64=Be.AZTEC_DATA_6;class st extends x{}st.kind="ReedSolomonException";class hn extends x{}hn.kind="IllegalStateException";class Kt{constructor(a){this.field=a}decode(a,s){const l=this.field,u=new Xt(l,a),d=new Int32Array(s);let f=!0;for(let P=0;P<s;P++){const U=u.evaluateAt(l.exp(P+l.getGeneratorBase()));d[d.length-1-P]=U,U!==0&&(f=!1)}if(f)return;const m=new Xt(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(s,1),m,s),v=y[0],C=y[1],k=this.findErrorLocations(v),D=this.findErrorMagnitudes(C,k);for(let P=0;P<k.length;P++){const U=a.length-1-l.log(k[P]);if(U<0)throw new st("Bad error location");a[U]=Be.addOrSubtract(a[U],D[P])}}runEuclideanAlgorithm(a,s,l){if(a.getDegree()<s.getDegree()){const P=a;a=s,s=P}const u=this.field;let d=a,f=s,m=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let P=d,U=m;if(d=f,m=y,d.isZero())throw new st("r_{i-1} was zero");f=P;let z=u.getZero();const Y=d.getCoefficient(d.getDegree()),Z=u.inverse(Y);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const se=f.getDegree()-d.getDegree(),ie=u.multiply(f.getCoefficient(f.getDegree()),Z);z=z.addOrSubtract(u.buildMonomial(se,ie)),f=f.addOrSubtract(d.multiplyByMonomial(se,ie))}if(y=z.multiply(m).addOrSubtract(U),f.getDegree()>=d.getDegree())throw new hn("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new st("sigmaTilde(0) was zero");const C=u.inverse(v),k=y.multiplyScalar(C),D=f.multiplyScalar(C);return[k,D]}findErrorLocations(a){const s=a.getDegree();if(s===1)return Int32Array.from([a.getCoefficient(1)]);const l=new Int32Array(s);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<s;f++)a.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==s)throw new st("Error locator degree does not match number of roots");return l}findErrorMagnitudes(a,s){const l=s.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const m=d.inverse(s[f]);let y=1;for(let v=0;v<l;v++)if(f!==v){const C=d.multiply(s[v],m),k=C&1?C&-2:C|1;y=d.multiply(y,k)}u[f]=d.multiply(a.evaluateAt(m),d.inverse(y)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],m))}return u}}var _t;(function(A){A[A.UPPER=0]="UPPER",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.DIGIT=3]="DIGIT",A[A.PUNCT=4]="PUNCT",A[A.BINARY=5]="BINARY"})(_t||(_t={}));class Xe{decode(a){this.ddata=a;let s=a.getBits(),l=this.extractBits(s),u=this.correctBits(l),d=Xe.convertBoolArrayToByteArray(u),f=Xe.getEncodedData(u),m=new jn(d,f,null,null);return m.setNumBits(u.length),m}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let s=a.length,l=_t.UPPER,u=_t.UPPER,d="",f=0;for(;f<s;)if(u===_t.BINARY){if(s-f<5)break;let m=Xe.readCode(a,f,5);if(f+=5,m===0){if(s-f<11)break;m=Xe.readCode(a,f,11)+31,f+=11}for(let y=0;y<m;y++){if(s-f<8){f=s;break}const v=Xe.readCode(a,f,8);d+=q.castAsNonUtf8Char(v),f+=8}u=l}else{let m=u===_t.DIGIT?4:5;if(s-f<m)break;let y=Xe.readCode(a,f,m);f+=m;let v=Xe.getCharacter(u,y);v.startsWith("CTRL_")?(l=u,u=Xe.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=u)):(d+=v,u=l)}return d}static getTable(a){switch(a){case"L":return _t.LOWER;case"P":return _t.PUNCT;case"M":return _t.MIXED;case"D":return _t.DIGIT;case"B":return _t.BINARY;case"U":default:return _t.UPPER}}static getCharacter(a,s){switch(a){case _t.UPPER:return Xe.UPPER_TABLE[s];case _t.LOWER:return Xe.LOWER_TABLE[s];case _t.MIXED:return Xe.MIXED_TABLE[s];case _t.PUNCT:return Xe.PUNCT_TABLE[s];case _t.DIGIT:return Xe.DIGIT_TABLE[s];default:throw new hn("Bad table")}}correctBits(a){let s,l;this.ddata.getNbLayers()<=2?(l=6,s=Be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,s=Be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,s=Be.AZTEC_DATA_10):(l=12,s=Be.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=a.length/l;if(d<u)throw new L;let f=a.length%l,m=new Int32Array(d);for(let D=0;D<d;D++,f+=l)m[D]=Xe.readCode(a,f,l);try{new Kt(s).decode(m,d-u)}catch(D){throw new L(D)}let y=(1<<l)-1,v=0;for(let D=0;D<u;D++){let P=m[D];if(P===0||P===y)throw new L;(P===1||P===y-1)&&v++}let C=new Array(u*l-v),k=0;for(let D=0;D<u;D++){let P=m[D];if(P===1||P===y-1)C.fill(P>1,k,k+l-1),k+=l-1;else for(let U=l-1;U>=0;--U)C[k++]=(P&1<<U)!==0}return C}extractBits(a){let s=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(s?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,s));if(s)for(let m=0;m<d.length;m++)d[m]=m;else{let m=u+1+2*E.truncDivision(E.truncDivision(u,2)-1,15),y=u/2,v=E.truncDivision(m,2);for(let C=0;C<y;C++){let k=C+E.truncDivision(C,15);d[y-C-1]=v-k-1,d[y+C]=v+k+1}}for(let m=0,y=0;m<l;m++){let v=(l-m)*4+(s?9:12),C=m*2,k=u-1-C;for(let D=0;D<v;D++){let P=D*2;for(let U=0;U<2;U++)f[y+P+U]=a.get(d[C+U],d[C+D]),f[y+2*v+P+U]=a.get(d[C+D],d[k-U]),f[y+4*v+P+U]=a.get(d[k-U],d[k-D]),f[y+6*v+P+U]=a.get(d[k-D],d[C+U])}y+=v*8}return f}static readCode(a,s,l){let u=0;for(let d=s;d<s+l;d++)u<<=1,a[d]&&(u|=1);return u}static readByte(a,s){let l=a.length-s;return l>=8?Xe.readCode(a,s,8):Xe.readCode(a,s,l)<<8-l}static convertBoolArrayToByteArray(a){let s=new Uint8Array((a.length+7)/8);for(let l=0;l<s.length;l++)s[l]=Xe.readByte(a,8*l);return s}totalBitsInLayer(a,s){return((s?88:112)+16*a)*a}}Xe.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Xe.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Xe.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Xe.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Pe{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,s,l,u){const d=a-l,f=s-u;return Math.sqrt(d*d+f*f)}static sum(a){let s=0;for(let l=0,u=a.length;l!==u;l++){const d=a[l];s+=d}return s}}class Hs{static floatToIntBits(a){return a}}Hs.MAX_VALUE=Number.MAX_SAFE_INTEGER;class pe{constructor(a,s){this.x=a,this.y=s}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof pe){const s=a;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*Hs.floatToIntBits(this.x)+Hs.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const s=this.distance(a[0],a[1]),l=this.distance(a[1],a[2]),u=this.distance(a[0],a[2]);let d,f,m;if(l>=s&&l>=u?(f=a[0],d=a[1],m=a[2]):u>=l&&u>=s?(f=a[1],d=a[0],m=a[2]):(f=a[2],d=a[0],m=a[1]),this.crossProductZ(d,f,m)<0){const y=d;d=m,m=y}a[0]=d,a[1]=f,a[2]=m}static distance(a,s){return Pe.distance(a.x,a.y,s.x,s.y)}static crossProductZ(a,s,l){const u=s.x,d=s.y;return(l.x-u)*(a.y-d)-(l.y-d)*(a.x-u)}}class $s{constructor(a,s){this.bits=a,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class co extends $s{constructor(a,s,l,u,d){super(a,s),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class pr{constructor(a,s,l,u){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),s==null&&(s=pr.INIT_SIZE),l==null&&(l=a.getWidth()/2|0),u==null&&(u=a.getHeight()/2|0);const d=s/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let a=this.leftInit,s=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,m=!1,y=!1,v=!1,C=!1,k=!1;const D=this.width,P=this.height;for(;f;){f=!1;let U=!0;for(;(U||!y)&&s<D;)U=this.containsBlackPoint(l,u,s,!1),U?(s++,f=!0,y=!0):y||s++;if(s>=D){d=!0;break}let z=!0;for(;(z||!v)&&u<P;)z=this.containsBlackPoint(a,s,u,!0),z?(u++,f=!0,v=!0):v||u++;if(u>=P){d=!0;break}let Y=!0;for(;(Y||!C)&&a>=0;)Y=this.containsBlackPoint(l,u,a,!1),Y?(a--,f=!0,C=!0):C||a--;if(a<0){d=!0;break}let Z=!0;for(;(Z||!k)&&l>=0;)Z=this.containsBlackPoint(a,s,l,!0),Z?(l--,f=!0,k=!0):k||l--;if(l<0){d=!0;break}f&&(m=!0)}if(!d&&m){const U=s-a;let z=null;for(let ie=1;z===null&&ie<U;ie++)z=this.getBlackPointOnSegment(a,u-ie,a+ie,u);if(z==null)throw new $;let Y=null;for(let ie=1;Y===null&&ie<U;ie++)Y=this.getBlackPointOnSegment(a,l+ie,a+ie,l);if(Y==null)throw new $;let Z=null;for(let ie=1;Z===null&&ie<U;ie++)Z=this.getBlackPointOnSegment(s,l+ie,s-ie,l);if(Z==null)throw new $;let se=null;for(let ie=1;se===null&&ie<U;ie++)se=this.getBlackPointOnSegment(s,u-ie,s-ie,u);if(se==null)throw new $;return this.centerEdges(se,z,Z,Y)}else throw new $}getBlackPointOnSegment(a,s,l,u){const d=Pe.round(Pe.distance(a,s,l,u)),f=(l-a)/d,m=(u-s)/d,y=this.image;for(let v=0;v<d;v++){const C=Pe.round(a+v*f),k=Pe.round(s+v*m);if(y.get(C,k))return new pe(C,k)}return null}centerEdges(a,s,l,u){const d=a.getX(),f=a.getY(),m=s.getX(),y=s.getY(),v=l.getX(),C=l.getY(),k=u.getX(),D=u.getY(),P=pr.CORR;return d<this.width/2?[new pe(k-P,D+P),new pe(m+P,y+P),new pe(v-P,C-P),new pe(d+P,f-P)]:[new pe(k+P,D+P),new pe(m+P,y-P),new pe(v-P,C+P),new pe(d-P,f-P)]}containsBlackPoint(a,s,l,u){const d=this.image;if(u){for(let f=a;f<=s;f++)if(d.get(f,l))return!0}else for(let f=a;f<=s;f++)if(d.get(l,f))return!0;return!1}}pr.INIT_SIZE=10,pr.CORR=1;class uo{static checkAndNudgePoints(a,s){const l=a.getWidth(),u=a.getHeight();let d=!0;for(let f=0;f<s.length&&d;f+=2){const m=Math.floor(s[f]),y=Math.floor(s[f+1]);if(m<-1||m>l||y<-1||y>u)throw new $;d=!1,m===-1?(s[f]=0,d=!0):m===l&&(s[f]=l-1,d=!0),y===-1?(s[f+1]=0,d=!0):y===u&&(s[f+1]=u-1,d=!0)}d=!0;for(let f=s.length-2;f>=0&&d;f-=2){const m=Math.floor(s[f]),y=Math.floor(s[f+1]);if(m<-1||m>l||y<-1||y>u)throw new $;d=!1,m===-1?(s[f]=0,d=!0):m===l&&(s[f]=l-1,d=!0),y===-1?(s[f+1]=0,d=!0):y===u&&(s[f+1]=u-1,d=!0)}}}class Vn{constructor(a,s,l,u,d,f,m,y,v){this.a11=a,this.a21=s,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=m,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(a,s,l,u,d,f,m,y,v,C,k,D,P,U,z,Y){const Z=Vn.quadrilateralToSquare(a,s,l,u,d,f,m,y);return Vn.squareToQuadrilateral(v,C,k,D,P,U,z,Y).times(Z)}transformPoints(a){const s=a.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,y=this.a23,v=this.a31,C=this.a32,k=this.a33;for(let D=0;D<s;D+=2){const P=a[D],U=a[D+1],z=d*P+y*U+k;a[D]=(l*P+f*U+v)/z,a[D+1]=(u*P+m*U+C)/z}}transformPointsWithValues(a,s){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,y=this.a23,v=this.a31,C=this.a32,k=this.a33,D=a.length;for(let P=0;P<D;P++){const U=a[P],z=s[P],Y=d*U+y*z+k;a[P]=(l*U+f*z+v)/Y,s[P]=(u*U+m*z+C)/Y}}static squareToQuadrilateral(a,s,l,u,d,f,m,y){const v=a-l+d-m,C=s-u+f-y;if(v===0&&C===0)return new Vn(l-a,d-l,a,u-s,f-u,s,0,0,1);{const k=l-d,D=m-d,P=u-f,U=y-f,z=k*U-D*P,Y=(v*U-D*C)/z,Z=(k*C-v*P)/z;return new Vn(l-a+Y*l,m-a+Z*m,a,u-s+Y*u,y-s+Z*y,s,Y,Z,1)}}static quadrilateralToSquare(a,s,l,u,d,f,m,y){return Vn.squareToQuadrilateral(a,s,l,u,d,f,m,y).buildAdjoint()}buildAdjoint(){return new Vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Vn(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class Vl extends uo{sampleGrid(a,s,l,u,d,f,m,y,v,C,k,D,P,U,z,Y,Z,se,ie){const ne=Vn.quadrilateralToQuadrilateral(u,d,f,m,y,v,C,k,D,P,U,z,Y,Z,se,ie);return this.sampleGridWithTransform(a,s,l,ne)}sampleGridWithTransform(a,s,l,u){if(s<=0||l<=0)throw new $;const d=new ye(s,l),f=new Float32Array(2*s);for(let m=0;m<l;m++){const y=f.length,v=m+.5;for(let C=0;C<y;C+=2)f[C]=C/2+.5,f[C+1]=v;u.transformPoints(f),uo.checkAndNudgePoints(a,f);try{for(let C=0;C<y;C+=2)a.get(Math.floor(f[C]),Math.floor(f[C+1]))&&d.set(C/2,m)}catch{throw new $}}return d}}class Or{static setGridSampler(a){Or.gridSampler=a}static getInstance(){return Or.gridSampler}}Or.gridSampler=new Vl;class zt{constructor(a,s){this.x=a,this.y=s}toResultPoint(){return new pe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ho{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let s=this.getMatrixCenter(),l=this.getBullsEyeCorners(s);if(a){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new co(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new $;let s=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(a[0],a[1],s),this.sampleLine(a[1],a[2],s),this.sampleLine(a[2],a[3],s),this.sampleLine(a[3],a[0],s)]);this.shift=this.getRotation(l,s);let u=0;for(let f=0;f<4;f++){let m=l[(this.shift+f)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(a,s){let l=0;a.forEach((u,d,f)=>{let m=(u>>s-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(E.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new $}getCorrectedParameterData(a,s){let l,u;s?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=a&15,a>>=4;try{new Kt(Be.AZTEC_PARAM).decode(f,d)}catch{throw new $}let m=0;for(let y=0;y<u;y++)m=(m<<4)+f[y];return m}getBullsEyeCorners(a){let s=a,l=a,u=a,d=a,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let k=this.getFirstDifferent(s,f,1,-1),D=this.getFirstDifferent(l,f,1,1),P=this.getFirstDifferent(u,f,-1,1),U=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let z=this.distancePoint(U,k)*this.nbCenterLayers/(this.distancePoint(d,s)*(this.nbCenterLayers+2));if(z<.75||z>1.25||!this.isWhiteOrBlackRectangle(k,D,P,U))break}s=k,l=D,u=P,d=U,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let m=new pe(s.getX()+.5,s.getY()-.5),y=new pe(l.getX()+.5,l.getY()+.5),v=new pe(u.getX()-.5,u.getY()+.5),C=new pe(d.getX()-.5,d.getY()-.5);return this.expandSquare([m,y,v,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,s,l,u;try{let m=new pr(this.image).detect();a=m[0],s=m[1],l=m[2],u=m[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;a=this.getFirstDifferent(new zt(y+7,v-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new zt(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new zt(y-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new zt(y-7,v-7),!1,-1,-1).toResultPoint()}let d=Pe.round((a.getX()+u.getX()+s.getX()+l.getX())/4),f=Pe.round((a.getY()+u.getY()+s.getY()+l.getY())/4);try{let m=new pr(this.image,15,d,f).detect();a=m[0],s=m[1],l=m[2],u=m[3]}catch{a=this.getFirstDifferent(new zt(d+7,f-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new zt(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new zt(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new zt(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Pe.round((a.getX()+u.getX()+s.getX()+l.getX())/4),f=Pe.round((a.getY()+u.getY()+s.getY()+l.getY())/4),new zt(d,f)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,s,l,u,d){let f=Or.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return f.sampleGrid(a,m,m,y,y,v,y,v,v,y,v,s.getX(),s.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(a,s,l){let u=0,d=this.distanceResultPoint(a,s),f=d/l,m=a.getX(),y=a.getY(),v=f*(s.getX()-a.getX())/d,C=f*(s.getY()-a.getY())/d;for(let k=0;k<l;k++)this.image.get(Pe.round(m+k*v),Pe.round(y+k*C))&&(u|=1<<l-k-1);return u}isWhiteOrBlackRectangle(a,s,l,u){let d=3;a=new zt(a.getX()-d,a.getY()+d),s=new zt(s.getX()-d,s.getY()-d),l=new zt(l.getX()+d,l.getY()-d),u=new zt(u.getX()+d,u.getY()+d);let f=this.getColor(u,a);if(f===0)return!1;let m=this.getColor(a,s);return m!==f||(m=this.getColor(s,l),m!==f)?!1:(m=this.getColor(l,u),m===f)}getColor(a,s){let l=this.distancePoint(a,s),u=(s.getX()-a.getX())/l,d=(s.getY()-a.getY())/l,f=0,m=a.getX(),y=a.getY(),v=this.image.get(a.getX(),a.getY()),C=Math.ceil(l);for(let D=0;D<C;D++)m+=u,y+=d,this.image.get(Pe.round(m),Pe.round(y))!==v&&f++;let k=f/l;return k>.1&&k<.9?0:k<=.1===v?1:-1}getFirstDifferent(a,s,l,u){let d=a.getX()+l,f=a.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===s;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===s;)f+=u;return f-=u,new zt(d,f)}expandSquare(a,s,l){let u=l/(2*s),d=a[0].getX()-a[2].getX(),f=a[0].getY()-a[2].getY(),m=(a[0].getX()+a[2].getX())/2,y=(a[0].getY()+a[2].getY())/2,v=new pe(m+u*d,y+u*f),C=new pe(m-u*d,y-u*f);d=a[1].getX()-a[3].getX(),f=a[1].getY()-a[3].getY(),m=(a[1].getX()+a[3].getX())/2,y=(a[1].getY()+a[3].getY())/2;let k=new pe(m+u*d,y+u*f),D=new pe(m-u*d,y-u*f);return[v,k,C,D]}isValid(a,s){return a>=0&&a<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(a){let s=Pe.round(a.getX()),l=Pe.round(a.getY());return this.isValid(s,l)}distancePoint(a,s){return Pe.distance(a.getX(),a.getY(),s.getX(),s.getY())}distanceResultPoint(a,s){return Pe.distance(a.getX(),a.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(E.truncDivision(this.nbLayers-4,8)+1)+15}}class hs{decode(a,s=null){let l=null,u=new ho(a.getBlackMatrix()),d=null,f=null;try{let C=u.detectMirror(!1);d=C.getPoints(),this.reportFoundResultPoints(s,d),f=new Xe().decode(C)}catch(C){l=C}if(f==null)try{let C=u.detectMirror(!0);d=C.getPoints(),this.reportFoundResultPoints(s,d),f=new Xe().decode(C)}catch(C){throw l??C}let m=new Ze(f.getText(),f.getRawBytes(),f.getNumBits(),d,ge.AZTEC,S.currentTimeMillis()),y=f.getByteSegments();y!=null&&m.putMetadata(yt.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&m.putMetadata(yt.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(a,s){if(a!=null){let l=a.get(H.NEED_RESULT_POINT_CALLBACK);l!=null&&s.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class dd extends It{constructor(a=500){super(new hs,a)}}class ut{decode(a,s){try{return this.doDecode(a,s)}catch{if(s&&s.get(H.TRY_HARDER)===!0&&a.isRotateSupported()){const d=a.rotateCounterClockwise(),f=this.doDecode(d,s),m=f.getResultMetadata();let y=270;m!==null&&m.get(yt.ORIENTATION)===!0&&(y=y+m.get(yt.ORIENTATION)%360),f.putMetadata(yt.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const C=d.getHeight();for(let k=0;k<v.length;k++)v[k]=new pe(C-v[k].getY()-1,v[k].getX())}return f}else throw new $}}reset(){}doDecode(a,s){const l=a.getWidth(),u=a.getHeight();let d=new R(l);const f=s&&s.get(H.TRY_HARDER)===!0,m=Math.max(1,u>>(f?8:5));let y;f?y=u:y=15;const v=Math.trunc(u/2);for(let C=0;C<y;C++){const k=Math.trunc((C+1)/2),D=(C&1)===0,P=v+m*(D?k:-k);if(P<0||P>=u)break;try{d=a.getBlackRow(P,d)}catch{continue}for(let U=0;U<2;U++){if(U===1&&(d.reverse(),s&&s.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const z=new Map;s.forEach((Y,Z)=>z.set(Z,Y)),z.delete(H.NEED_RESULT_POINT_CALLBACK),s=z}try{const z=this.decodeRow(P,d,s);if(U===1){z.putMetadata(yt.ORIENTATION,180);const Y=z.getResultPoints();Y!==null&&(Y[0]=new pe(l-Y[0].getX()-1,Y[0].getY()),Y[1]=new pe(l-Y[1].getX()-1,Y[1].getY()))}return z}catch{}}}throw new $}static recordPattern(a,s,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=a.getSize();if(s>=d)throw new $;let f=!a.get(s),m=0,y=s;for(;y<d;){if(a.get(y)!==f)l[m]++;else{if(++m===u)break;l[m]=1,f=!f}y++}if(!(m===u||m===u-1&&y===d))throw new $}static recordPatternInReverse(a,s,l){let u=l.length,d=a.get(s);for(;s>0&&u>=0;)a.get(--s)!==d&&(u--,d=!d);if(u>=0)throw new $;ut.recordPattern(a,s+1,l)}static patternMatchVariance(a,s,l){const u=a.length;let d=0,f=0;for(let v=0;v<u;v++)d+=a[v],f+=s[v];if(d<f)return Number.POSITIVE_INFINITY;const m=d/f;l*=m;let y=0;for(let v=0;v<u;v++){const C=a[v],k=s[v]*m,D=C>k?C-k:k-C;if(D>l)return Number.POSITIVE_INFINITY;y+=D}return y/d}}class le extends ut{static findStartPattern(a){const s=a.getSize(),l=a.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,m=!1;const y=6;for(let v=l;v<s;v++)if(a.get(v)!==m)d[u]++;else{if(u===y-1){let C=le.MAX_AVG_VARIANCE,k=-1;for(let D=le.CODE_START_A;D<=le.CODE_START_C;D++){const P=ut.patternMatchVariance(d,le.CODE_PATTERNS[D],le.MAX_INDIVIDUAL_VARIANCE);P<C&&(C=P,k=D)}if(k>=0&&a.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,k]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,m=!m}throw new $}static decodeCode(a,s,l){ut.recordPattern(a,l,s);let u=le.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<le.CODE_PATTERNS.length;f++){const m=le.CODE_PATTERNS[f],y=this.patternMatchVariance(s,m,le.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new $}decodeRow(a,s,l){const u=l&&l.get(H.ASSUME_GS1)===!0,d=le.findStartPattern(s),f=d[2];let m=0;const y=new Uint8Array(20);y[m++]=f;let v;switch(f){case le.CODE_START_A:v=le.CODE_CODE_A;break;case le.CODE_START_B:v=le.CODE_CODE_B;break;case le.CODE_START_C:v=le.CODE_CODE_C;break;default:throw new L}let C=!1,k=!1,D="",P=d[0],U=d[1];const z=Int32Array.from([0,0,0,0,0,0]);let Y=0,Z=0,se=f,ie=0,ne=!0,Le=!1,Te=!1;for(;!C;){const Zs=k;switch(k=!1,Y=Z,Z=le.decodeCode(s,z,U),y[m++]=Z,Z!==le.CODE_STOP&&(ne=!0),Z!==le.CODE_STOP&&(ie++,se+=ie*Z),P=U,U+=z.reduce((Jw,ev)=>Jw+ev,0),Z){case le.CODE_START_A:case le.CODE_START_B:case le.CODE_START_C:throw new L}switch(v){case le.CODE_CODE_A:if(Z<64)Te===Le?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Te=!1;else if(Z<96)Te===Le?D+=String.fromCharCode(Z-64):D+=String.fromCharCode(Z+64),Te=!1;else switch(Z!==le.CODE_STOP&&(ne=!1),Z){case le.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case le.CODE_FNC_2:case le.CODE_FNC_3:break;case le.CODE_FNC_4_A:!Le&&Te?(Le=!0,Te=!1):Le&&Te?(Le=!1,Te=!1):Te=!0;break;case le.CODE_SHIFT:k=!0,v=le.CODE_CODE_B;break;case le.CODE_CODE_B:v=le.CODE_CODE_B;break;case le.CODE_CODE_C:v=le.CODE_CODE_C;break;case le.CODE_STOP:C=!0;break}break;case le.CODE_CODE_B:if(Z<96)Te===Le?D+=String.fromCharCode(32+Z):D+=String.fromCharCode(32+Z+128),Te=!1;else switch(Z!==le.CODE_STOP&&(ne=!1),Z){case le.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case le.CODE_FNC_2:case le.CODE_FNC_3:break;case le.CODE_FNC_4_B:!Le&&Te?(Le=!0,Te=!1):Le&&Te?(Le=!1,Te=!1):Te=!0;break;case le.CODE_SHIFT:k=!0,v=le.CODE_CODE_A;break;case le.CODE_CODE_A:v=le.CODE_CODE_A;break;case le.CODE_CODE_C:v=le.CODE_CODE_C;break;case le.CODE_STOP:C=!0;break}break;case le.CODE_CODE_C:if(Z<100)Z<10&&(D+="0"),D+=Z;else switch(Z!==le.CODE_STOP&&(ne=!1),Z){case le.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case le.CODE_CODE_A:v=le.CODE_CODE_A;break;case le.CODE_CODE_B:v=le.CODE_CODE_B;break;case le.CODE_STOP:C=!0;break}break}Zs&&(v=v===le.CODE_CODE_A?le.CODE_CODE_B:le.CODE_CODE_A)}const Dn=U-P;if(U=s.getNextUnset(U),!s.isRange(U,Math.min(s.getSize(),U+(U-P)/2),!1))throw new $;if(se-=ie*Y,se%103!==Y)throw new j;const wr=D.length;if(wr===0)throw new $;wr>0&&ne&&(v===le.CODE_CODE_C?D=D.substring(0,wr-2):D=D.substring(0,wr-1));const Mn=(d[1]+d[0])/2,at=P+Dn/2,ln=y.length,Yn=new Uint8Array(ln);for(let Zs=0;Zs<ln;Zs++)Yn[Zs]=y[Zs];const Qs=[new pe(Mn,a),new pe(at,a)];return new Ze(D,Yn,0,Qs,ge.CODE_128,new Date().getTime())}}le.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],le.MAX_AVG_VARIANCE=.25,le.MAX_INDIVIDUAL_VARIANCE=.7,le.CODE_SHIFT=98,le.CODE_CODE_C=99,le.CODE_CODE_B=100,le.CODE_CODE_A=101,le.CODE_FNC_1=102,le.CODE_FNC_2=97,le.CODE_FNC_3=96,le.CODE_FNC_4_A=101,le.CODE_FNC_4_B=100,le.CODE_START_A=103,le.CODE_START_B=104,le.CODE_START_C=105,le.CODE_STOP=106;class Ot extends ut{constructor(a=!1,s=!1){super(),this.usingCheckDigit=a,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,s,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=Ot.findAsteriskPattern(s,u),f=s.getNextSet(d[1]),m=s.getSize(),y,v;do{Ot.recordPattern(s,f,u);let z=Ot.toNarrowWidePattern(u);if(z<0)throw new $;y=Ot.patternToChar(z),this.decodeRowResult+=y,v=f;for(let Y of u)f+=Y;f=s.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let z of u)C+=z;let k=f-v-C;if(f!==m&&k*2<C)throw new $;if(this.usingCheckDigit){let z=this.decodeRowResult.length-1,Y=0;for(let Z=0;Z<z;Z++)Y+=Ot.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Z));if(this.decodeRowResult.charAt(z)!==Ot.ALPHABET_STRING.charAt(Y%43))throw new j;this.decodeRowResult=this.decodeRowResult.substring(0,z)}if(this.decodeRowResult.length===0)throw new $;let D;this.extendedMode?D=Ot.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let P=(d[1]+d[0])/2,U=v+C/2;return new Ze(D,null,0,[new pe(P,a),new pe(U,a)],ge.CODE_39,new Date().getTime())}static findAsteriskPattern(a,s){let l=a.getSize(),u=a.getNextSet(0),d=0,f=u,m=!1,y=s.length;for(let v=u;v<l;v++)if(a.get(v)!==m)s[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(s)===Ot.ASTERISK_ENCODING&&a.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,m=!m}throw new $}static toNarrowWidePattern(a){let s=a.length,l=0,u;do{let d=2147483647;for(let y of a)y<d&&y>l&&(d=y);l=d,u=0;let f=0,m=0;for(let y=0;y<s;y++){let v=a[y];v>l&&(m|=1<<s-1-y,u++,f+=v)}if(u===3){for(let y=0;y<s&&u>0;y++){let v=a[y];if(v>l&&(u--,v*2>=f))return-1}return m}}while(u>3);return-1}static patternToChar(a){for(let s=0;s<Ot.CHARACTER_ENCODINGS.length;s++)if(Ot.CHARACTER_ENCODINGS[s]===a)return Ot.ALPHABET_STRING.charAt(s);if(a===Ot.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(a){let s=a.length,l="";for(let u=0;u<s;u++){let d=a.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=a.charAt(u+1),m="\0";switch(d){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new L;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new L;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new L;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new L;break}l+=m,u++}else l+=d}return l}}Ot.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ot.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ot.ASTERISK_ENCODING=148;class Ge extends ut{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,s,l){let u=this.decodeStart(s),d=this.decodeEnd(s),f=new re;Ge.decodeMiddle(s,u[1],d[0],f);let m=f.toString(),y=null;l!=null&&(y=l.get(H.ALLOWED_LENGTHS)),y==null&&(y=Ge.DEFAULT_ALLOWED_LENGTHS);let v=m.length,C=!1,k=0;for(let U of y){if(v===U){C=!0;break}U>k&&(k=U)}if(!C&&v>k&&(C=!0),!C)throw new L;const D=[new pe(u[1],a),new pe(d[0],a)];return new Ze(m,null,0,D,ge.ITF,new Date().getTime())}static decodeMiddle(a,s,l,u){let d=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(d.fill(0),f.fill(0),m.fill(0);s<l;){ut.recordPattern(a,s,d);for(let v=0;v<5;v++){let C=2*v;f[v]=d[C],m[v]=d[C+1]}let y=Ge.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(m),u.append(y.toString()),d.forEach(function(v){s+=v})}}decodeStart(a){let s=Ge.skipWhiteSpace(a),l=Ge.findGuardPattern(a,s,Ge.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(a,l[0]),l}validateQuietZone(a,s){let l=this.narrowLineWidth*10;l=l<s?l:s;for(let u=s-1;l>0&&u>=0&&!a.get(u);u--)l--;if(l!==0)throw new $}static skipWhiteSpace(a){const s=a.getSize(),l=a.getNextSet(0);if(l===s)throw new $;return l}decodeEnd(a){a.reverse();try{let s=Ge.skipWhiteSpace(a),l;try{l=Ge.findGuardPattern(a,s,Ge.END_PATTERN_REVERSED[0])}catch(d){d instanceof $&&(l=Ge.findGuardPattern(a,s,Ge.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,l[0]);let u=l[0];return l[0]=a.getSize()-l[1],l[1]=a.getSize()-u,l}finally{a.reverse()}}static findGuardPattern(a,s,l){let u=l.length,d=new Int32Array(u),f=a.getSize(),m=!1,y=0,v=s;d.fill(0);for(let C=s;C<f;C++)if(a.get(C)!==m)d[y]++;else{if(y===u-1){if(ut.patternMatchVariance(d,l,Ge.MAX_INDIVIDUAL_VARIANCE)<Ge.MAX_AVG_VARIANCE)return[v,C];v+=d[0]+d[1],S.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,m=!m}throw new $}static decodeDigit(a){let s=Ge.MAX_AVG_VARIANCE,l=-1,u=Ge.PATTERNS.length;for(let d=0;d<u;d++){let f=Ge.PATTERNS[d],m=ut.patternMatchVariance(a,f,Ge.MAX_INDIVIDUAL_VARIANCE);m<s?(s=m,l=d):m===s&&(l=-1)}if(l>=0)return l%10;throw new $}}Ge.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ge.MAX_AVG_VARIANCE=.38,Ge.MAX_INDIVIDUAL_VARIANCE=.5,Ge.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ge.START_PATTERN=Int32Array.from([1,1,1,1]),Ge.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class dt extends ut{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let s=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!s;){d=Int32Array.from([0,0,0]),l=dt.findGuardPattern(a,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let m=f-(u-f);m>=0&&(s=a.isRange(m,f,!1))}return l}static checkChecksum(a){return dt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let s=a.length;if(s===0)return!1;let l=parseInt(a.charAt(s-1),10);return dt.getStandardUPCEANChecksum(a.substring(0,s-1))===l}static getStandardUPCEANChecksum(a){let s=a.length,l=0;for(let u=s-1;u>=0;u-=2){let d=a.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new L;l+=d}l*=3;for(let u=s-2;u>=0;u-=2){let d=a.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new L;l+=d}return(1e3-l)%10}static decodeEnd(a,s){return dt.findGuardPattern(a,s,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,s,l,u){return this.findGuardPattern(a,s,l,u,new Int32Array(u.length))}static findGuardPattern(a,s,l,u,d){let f=a.getSize();s=l?a.getNextUnset(s):a.getNextSet(s);let m=0,y=s,v=u.length,C=l;for(let k=s;k<f;k++)if(a.get(k)!==C)d[m]++;else{if(m===v-1){if(ut.patternMatchVariance(d,u,dt.MAX_INDIVIDUAL_VARIANCE)<dt.MAX_AVG_VARIANCE)return Int32Array.from([y,k]);y+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let P=0;P<m-1;P++)d[P]=D[P];d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,C=!C}throw new $}static decodeDigit(a,s,l,u){this.recordPattern(a,l,s);let d=this.MAX_AVG_VARIANCE,f=-1,m=u.length;for(let y=0;y<m;y++){let v=u[y],C=ut.patternMatchVariance(s,v,dt.MAX_INDIVIDUAL_VARIANCE);C<d&&(d=C,f=y)}if(f>=0)return f;throw new $}}dt.MAX_AVG_VARIANCE=.48,dt.MAX_INDIVIDUAL_VARIANCE=.7,dt.START_END_PATTERN=Int32Array.from([1,1,1]),dt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),dt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Qr{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,s,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,u),f=u.toString(),m=Qr.parseExtensionString(f),y=[new pe((l[0]+l[1])/2,a),new pe(d,a)],v=new Ze(f,null,0,y,ge.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(a,s,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=a.getSize(),f=s[1],m=0;for(let v=0;v<5&&f<d;v++){let C=dt.decodeDigit(a,u,f,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let k of u)f+=k;C>=10&&(m|=1<<4-v),v!==4&&(f=a.getNextSet(f),f=a.getNextUnset(f))}if(l.length!==5)throw new $;let y=this.determineCheckDigit(m);if(Qr.extensionChecksum(l.toString())!==y)throw new $;return f}static extensionChecksum(a){let s=a.length,l=0;for(let u=s-2;u>=0;u-=2)l+=a.charAt(u).charCodeAt(0)-48;l*=3;for(let u=s-1;u>=0;u-=2)l+=a.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(a){for(let s=0;s<10;s++)if(a===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new $}static parseExtensionString(a){if(a.length!==5)return null;let s=Qr.parseExtension5String(a);return s==null?null:new Map([[yt.SUGGESTED_PRICE,s]])}static parseExtension5String(a){let s;switch(a.charAt(0)){case"0":s="";break;case"5":s="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let l=parseInt(a.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return s+u+"."+f}}class fo{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,s,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(s,l,u),f=u.toString(),m=fo.parseExtensionString(f),y=[new pe((l[0]+l[1])/2,a),new pe(d,a)],v=new Ze(f,null,0,y,ge.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(a,s,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=a.getSize(),f=s[1],m=0;for(let y=0;y<2&&f<d;y++){let v=dt.decodeDigit(a,u,f,dt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let C of u)f+=C;v>=10&&(m|=1<<1-y),y!==1&&(f=a.getNextSet(f),f=a.getNextUnset(f))}if(l.length!==2)throw new $;if(parseInt(l.toString())%4!==m)throw new $;return f}static parseExtensionString(a){return a.length!==2?null:new Map([[yt.ISSUE_NUMBER,parseInt(a)]])}}class mo{static decodeRow(a,s,l){let u=dt.findGuardPattern(s,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Qr().decodeRow(a,s,u)}catch{return new fo().decodeRow(a,s,u)}}}mo.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ue extends dt{constructor(){super(),this.decodeRowStringBuffer="",Ue.L_AND_G_PATTERNS=Ue.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let s=Ue.L_PATTERNS[a-10],l=new Int32Array(s.length);for(let u=0;u<s.length;u++)l[u]=s[s.length-u-1];Ue.L_AND_G_PATTERNS[a]=l}}decodeRow(a,s,l){let u=Ue.findStartGuardPattern(s),d=l==null?null:l.get(H.NEED_RESULT_POINT_CALLBACK);if(d!=null){const ne=new pe((u[0]+u[1])/2,a);d.foundPossibleResultPoint(ne)}let f=this.decodeMiddle(s,u,this.decodeRowStringBuffer),m=f.rowOffset,y=f.resultString;if(d!=null){const ne=new pe(m,a);d.foundPossibleResultPoint(ne)}let v=this.decodeEnd(s,m);if(d!=null){const ne=new pe((v[0]+v[1])/2,a);d.foundPossibleResultPoint(ne)}let C=v[1],k=C+(C-v[0]);if(k>=s.getSize()||!s.isRange(C,k,!1))throw new $;let D=y.toString();if(D.length<8)throw new L;if(!Ue.checkChecksum(D))throw new j;let P=(u[1]+u[0])/2,U=(v[1]+v[0])/2,z=this.getBarcodeFormat(),Y=[new pe(P,a),new pe(U,a)],Z=new Ze(D,null,0,Y,z,new Date().getTime()),se=0;try{let ne=mo.decodeRow(a,s,v[1]);Z.putMetadata(yt.UPC_EAN_EXTENSION,ne.getText()),Z.putAllMetadata(ne.getResultMetadata()),Z.addResultPoints(ne.getResultPoints()),se=ne.getText().length}catch{}let ie=l==null?null:l.get(H.ALLOWED_EAN_EXTENSIONS);if(ie!=null){let ne=!1;for(let Le in ie)if(se.toString()===Le){ne=!0;break}if(!ne)throw new $}return Z}decodeEnd(a,s){return Ue.findGuardPattern(a,s,!1,Ue.START_END_PATTERN,new Int32Array(Ue.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Ue.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let s=a.length;if(s===0)return!1;let l=parseInt(a.charAt(s-1),10);return Ue.getStandardUPCEANChecksum(a.substring(0,s-1))===l}static getStandardUPCEANChecksum(a){let s=a.length,l=0;for(let u=s-1;u>=0;u-=2){let d=a.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new L;l+=d}l*=3;for(let u=s-2;u>=0;u-=2){let d=a.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new L;l+=d}return(1e3-l)%10}}class Dr extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,s,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=a.getSize(),f=s[1],m=0;for(let v=0;v<6&&f<d;v++){let C=Ue.decodeDigit(a,u,f,Ue.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let k of u)f+=k;C>=10&&(m|=1<<5-v)}l=Dr.determineFirstDigit(l,m),f=Ue.findGuardPattern(a,f,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<d;v++){let C=Ue.decodeDigit(a,u,f,Ue.L_PATTERNS);l+=String.fromCharCode(48+C);for(let k of u)f+=k}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return ge.EAN_13}static determineFirstDigit(a,s){for(let l=0;l<10;l++)if(s===this.FIRST_DIGIT_ENCODINGS[l])return a=String.fromCharCode(48+l)+a,a;throw new $}}Dr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class nn extends Ue{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,s,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=a.getSize(),f=s[1];for(let y=0;y<4&&f<d;y++){let v=Ue.decodeDigit(a,u,f,Ue.L_PATTERNS);l+=String.fromCharCode(48+v);for(let C of u)f+=C}f=Ue.findGuardPattern(a,f,!0,Ue.MIDDLE_PATTERN,new Int32Array(Ue.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let v=Ue.decodeDigit(a,u,f,Ue.L_PATTERNS);l+=String.fromCharCode(48+v);for(let C of u)f+=C}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return ge.EAN_8}}class rn extends Ue{constructor(){super(...arguments),this.ean13Reader=new Dr}getBarcodeFormat(){return ge.UPC_A}decode(a,s){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,s,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,s,l))}decodeMiddle(a,s,l){return this.ean13Reader.decodeMiddle(a,s,l)}maybeReturnResult(a){let s=a.getText();if(s.charAt(0)==="0"){let l=new Ze(s.substring(1),null,null,a.getResultPoints(),ge.UPC_A);return a.getResultMetadata()!=null&&l.putAllMetadata(a.getResultMetadata()),l}else throw new $}reset(){this.ean13Reader.reset()}}class fn extends Ue{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,s,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=a.getSize();let f=s[1],m=0;for(let v=0;v<6&&f<d;v++){const C=fn.decodeDigit(a,u,f,fn.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let k of u)f+=k;C>=10&&(m|=1<<5-v)}let y=fn.determineNumSysAndCheckDigit(l,m);return{rowOffset:f,resultString:y}}decodeEnd(a,s){return fn.findGuardPatternWithoutCounters(a,s,!0,fn.MIDDLE_END_PATTERN)}checkChecksum(a){return Ue.checkChecksum(fn.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,s){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+a+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return ge.UPC_E}static convertUPCEtoUPCA(a){const s=a.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new re;l.append(a.charAt(0));let u=s[5];switch(u){case 0:case 1:case 2:l.appendChars(s,0,2),l.append(u),l.append("0000"),l.appendChars(s,2,3);break;case 3:l.appendChars(s,0,3),l.append("00000"),l.appendChars(s,3,2);break;case 4:l.appendChars(s,0,4),l.append("00000"),l.append(s[4]);break;default:l.appendChars(s,0,5),l.append("0000"),l.append(u);break}return a.length>=8&&l.append(a.charAt(7)),l.toString()}}fn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),fn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class et extends ut{constructor(a){super();let s=a==null?null:a.get(H.POSSIBLE_FORMATS),l=[];r(s)?(l.push(new Dr),l.push(new rn),l.push(new nn),l.push(new fn)):(s.indexOf(ge.EAN_13)>-1&&l.push(new Dr),s.indexOf(ge.UPC_A)>-1&&l.push(new rn),s.indexOf(ge.EAN_8)>-1&&l.push(new nn),s.indexOf(ge.UPC_E)>-1&&l.push(new fn)),this.readers=l}decodeRow(a,s,l){for(let u of this.readers)try{const d=u.decodeRow(a,s,l),f=d.getBarcodeFormat()===ge.EAN_13&&d.getText().charAt(0)==="0",m=l==null?null:l.get(H.POSSIBLE_FORMATS),y=m==null||m.includes(ge.UPC_A);if(f&&y){const v=d.getRawBytes(),C=new Ze(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),ge.UPC_A);return C.putAllMetadata(d.getResultMetadata()),C}return d}catch{}throw new $}reset(){for(let a of this.readers)a.reset()}}class tt extends ut{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,s){for(let l=0;l<s.length;l++)if(ut.patternMatchVariance(a,s[l],tt.MAX_INDIVIDUAL_VARIANCE)<tt.MAX_AVG_VARIANCE)return l;throw new $}static count(a){return Pe.sum(new Int32Array(a))}static increment(a,s){let l=0,u=s[0];for(let d=1;d<a.length;d++)s[d]>u&&(u=s[d],l=d);a[l]++}static decrement(a,s){let l=0,u=s[0];for(let d=1;d<a.length;d++)s[d]<u&&(u=s[d],l=d);a[l]--}static isFinderPattern(a){let s=a[0]+a[1],l=s+a[2]+a[3],u=s/l;if(u>=tt.MIN_FINDER_PATTERN_RATIO&&u<=tt.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of a)m>f&&(f=m),m<d&&(d=m);return f<10*d}return!1}}tt.MAX_AVG_VARIANCE=.2,tt.MAX_INDIVIDUAL_VARIANCE=.45,tt.MIN_FINDER_PATTERN_RATIO=9.5/12,tt.MAX_FINDER_PATTERN_RATIO=12.5/14;class pa{constructor(a,s){this.value=a,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof pa))return!1;const s=a;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class xa{constructor(a,s,l,u,d){this.value=a,this.startEnd=s,this.value=a,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new pe(l,d)),this.resultPoints.push(new pe(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof xa))return!1;const s=a;return this.value===s.value}hashCode(){return this.value}}class Hn{constructor(){}static getRSSvalue(a,s,l){let u=0;for(let y of a)u+=y;let d=0,f=0,m=a.length;for(let y=0;y<m-1;y++){let v;for(v=1,f|=1<<y;v<a[y];v++,f&=~(1<<y)){let C=Hn.combins(u-v-1,m-y-2);if(l&&f===0&&u-v-(m-y-1)>=m-y-1&&(C-=Hn.combins(u-v-(m-y),m-y-2)),m-y-1>1){let k=0;for(let D=u-v-(m-y-2);D>s;D--)k+=Hn.combins(u-v-D-1,m-y-3);C-=k*(m-1-y)}else u-v>s&&C--;d+=C}u-=v}return d}static combins(a,s){let l,u;a-s>s?(u=s,l=a-s):(u=a-s,l=s);let d=1,f=1;for(let m=a;m>l;m--)d*=m,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class Hl{static buildBitArray(a){let s=a.length*2-1;a[a.length-1].getRightChar()==null&&(s-=1);let l=12*s,u=new R(l),d=0,m=a[0].getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&u.set(d),d++;for(let y=1;y<a.length;++y){let v=a[y],C=v.getLeftChar().getValue();for(let k=11;k>=0;--k)C&1<<k&&u.set(d),d++;if(v.getRightChar()!=null){let k=v.getRightChar().getValue();for(let D=11;D>=0;--D)k&1<<D&&u.set(d),d++}}return u}}class xr{constructor(a,s){s?this.decodedInformation=null:(this.finished=a,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ya{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class qt extends ya{constructor(a,s){super(a),this.value=s}getValue(){return this.value}isFNC1(){return this.value===qt.FNC1}}qt.FNC1="$";class yr extends ya{constructor(a,s,l){super(a),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class mn extends ya{constructor(a,s,l){if(super(a),s<0||s>10||l<0||l>10)throw new L;this.firstDigit=s,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===mn.FNC1}isAnyFNC1(){return this.firstDigit===mn.FNC1||this.secondDigit===mn.FNC1}}mn.FNC1=10;class he{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new $;let s=a.substring(0,2);for(let d of he.TWO_DIGIT_DATA_LENGTH)if(d[0]===s)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(2,d[2],a):he.processFixedAI(2,d[1],a);if(a.length<3)throw new $;let l=a.substring(0,3);for(let d of he.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(3,d[2],a):he.processFixedAI(3,d[1],a);for(let d of he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,d[2],a):he.processFixedAI(4,d[1],a);if(a.length<4)throw new $;let u=a.substring(0,4);for(let d of he.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===he.VARIABLE_LENGTH?he.processVariableAI(4,d[2],a):he.processFixedAI(4,d[1],a);throw new $}static processFixedAI(a,s,l){if(l.length<a)throw new $;let u=l.substring(0,a);if(l.length<a+s)throw new $;let d=l.substring(a,a+s),f=l.substring(a+s),m="("+u+")"+d,y=he.parseFieldsInGeneralPurpose(f);return y==null?m:m+y}static processVariableAI(a,s,l){let u=l.substring(0,a),d;l.length<a+s?d=l.length:d=a+s;let f=l.substring(a,d),m=l.substring(d),y="("+u+")"+f,v=he.parseFieldsInGeneralPurpose(m);return v==null?y:y+v}}he.VARIABLE_LENGTH=[],he.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",he.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",he.VARIABLE_LENGTH,20],["22",he.VARIABLE_LENGTH,29],["30",he.VARIABLE_LENGTH,8],["37",he.VARIABLE_LENGTH,8],["90",he.VARIABLE_LENGTH,30],["91",he.VARIABLE_LENGTH,30],["92",he.VARIABLE_LENGTH,30],["93",he.VARIABLE_LENGTH,30],["94",he.VARIABLE_LENGTH,30],["95",he.VARIABLE_LENGTH,30],["96",he.VARIABLE_LENGTH,30],["97",he.VARIABLE_LENGTH,3],["98",he.VARIABLE_LENGTH,30],["99",he.VARIABLE_LENGTH,30]],he.THREE_DIGIT_DATA_LENGTH=[["240",he.VARIABLE_LENGTH,30],["241",he.VARIABLE_LENGTH,30],["242",he.VARIABLE_LENGTH,6],["250",he.VARIABLE_LENGTH,30],["251",he.VARIABLE_LENGTH,30],["253",he.VARIABLE_LENGTH,17],["254",he.VARIABLE_LENGTH,20],["400",he.VARIABLE_LENGTH,30],["401",he.VARIABLE_LENGTH,30],["402",17],["403",he.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",he.VARIABLE_LENGTH,20],["421",he.VARIABLE_LENGTH,15],["422",3],["423",he.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],he.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",he.VARIABLE_LENGTH,15],["391",he.VARIABLE_LENGTH,18],["392",he.VARIABLE_LENGTH,15],["393",he.VARIABLE_LENGTH,18],["703",he.VARIABLE_LENGTH,30]],he.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",he.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",he.VARIABLE_LENGTH,20],["8003",he.VARIABLE_LENGTH,30],["8004",he.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",he.VARIABLE_LENGTH,30],["8008",he.VARIABLE_LENGTH,12],["8018",18],["8020",he.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",he.VARIABLE_LENGTH,70],["8200",he.VARIABLE_LENGTH,70]];class Mr{constructor(a){this.buffer=new re,this.information=a}decodeAllCodes(a,s){let l=s,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=he.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&a.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let s=a;s<a+3;++s)if(this.information.get(s))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(a,4);return d===0?new mn(this.information.getSize(),mn.FNC1,mn.FNC1):new mn(this.information.getSize(),d-1,mn.FNC1)}let s=this.extractNumericValueFromBitArray(a,7),l=(s-8)/11,u=(s-8)%11;return new mn(a+7,l,u)}extractNumericValueFromBitArray(a,s){return Mr.extractNumericValueFromBitArray(this.information,a,s)}static extractNumericValueFromBitArray(a,s,l){let u=0;for(let d=0;d<l;++d)a.get(s+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(a,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(a);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new yr(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new yr(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,s;do{let l=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),a=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),a=s.isFinished()):(s=this.parseNumericBlock(),a=s.isFinished()),!(l!==this.current.getPosition())&&!a)break}while(!a);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let s;return a.isSecondDigitFNC1()?s=new yr(this.current.getPosition(),this.buffer.toString()):s=new yr(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new xr(!0,s)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let s=new yr(this.current.getPosition(),this.buffer.toString());return new xr(!0,s)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new xr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let s=new yr(this.current.getPosition(),this.buffer.toString());return new xr(!0,s)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new xr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let s=new yr(this.current.getPosition(),this.buffer.toString());return new xr(!0,s)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new xr(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(a,5);if(s>=5&&s<16)return!0;if(a+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,7);if(l>=64&&l<116)return!0;if(a+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(a,8);return u>=232&&u<253}decodeIsoIec646(a){let s=this.extractNumericValueFromBitArray(a,5);if(s===15)return new qt(a+5,qt.FNC1);if(s>=5&&s<15)return new qt(a+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(a,7);if(l>=64&&l<90)return new qt(a+7,""+(l+1));if(l>=90&&l<116)return new qt(a+7,""+(l+7));let u=this.extractNumericValueFromBitArray(a,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new L}return new qt(a+8,d)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(a,5);if(s>=5&&s<16)return!0;if(a+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,6);return l>=16&&l<63}decodeAlphanumeric(a){let s=this.extractNumericValueFromBitArray(a,5);if(s===15)return new qt(a+5,qt.FNC1);if(s>=5&&s<15)return new qt(a+5,"0"+(s-5));let l=this.extractNumericValueFromBitArray(a,6);if(l>=32&&l<58)return new qt(a+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new hn("Decoding invalid alphanumeric value: "+l)}return new qt(a+6,u)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let s=0;s<5&&s+a<this.information.getSize();++s)if(s===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+s))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let s=a;s<a+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let s=0;s<4&&s+a<this.information.getSize();++s)if(this.information.get(a+s))return!1;return!0}}class Gs{constructor(a){this.information=a,this.generalDecoder=new Mr(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class gn extends Gs{constructor(a){super(a)}encodeCompressedGtin(a,s){a.append("(01)");let l=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,s,l)}encodeCompressedGtinWithoutAI(a,s,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*u,10);d/100===0&&a.append("0"),d/10===0&&a.append("0"),a.append(d)}gn.appendCheckDigit(a,l)}static appendCheckDigit(a,s){let l=0;for(let u=0;u<13;u++){let d=a.charAt(u+s).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),a.append(l)}}gn.GTIN_SIZE=40;class wa extends gn{constructor(a){super(a)}parseInformation(){let a=new re;a.append("(01)");let s=a.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(wa.HEADER_SIZE,4);return a.append(l),this.encodeCompressedGtinWithoutAI(a,wa.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(a,wa.HEADER_SIZE+44)}}wa.HEADER_SIZE=4;class je extends Gs{constructor(a){super(a)}parseInformation(){let a=new re;return this.getGeneralDecoder().decodeAllCodes(a,je.HEADER_SIZE)}}je.HEADER_SIZE=5;class nt extends gn{constructor(a){super(a)}encodeCompressedWeight(a,s,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(s,l);this.addWeightCode(a,u);let d=this.checkWeight(u),f=1e5;for(let m=0;m<5;++m)d/f===0&&a.append("0"),f/=10;a.append(d)}}class He extends nt{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=He.HEADER_SIZE+nt.GTIN_SIZE+He.WEIGHT_SIZE)throw new $;let a=new re;return this.encodeCompressedGtin(a,He.HEADER_SIZE),this.encodeCompressedWeight(a,He.HEADER_SIZE+nt.GTIN_SIZE,He.WEIGHT_SIZE),a.toString()}}He.HEADER_SIZE=5,He.WEIGHT_SIZE=15;class $n extends He{constructor(a){super(a)}addWeightCode(a,s){a.append("(3103)")}checkWeight(a){return a}}class Gn extends He{constructor(a){super(a)}addWeightCode(a,s){s<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class In extends gn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<In.HEADER_SIZE+gn.GTIN_SIZE)throw new $;let a=new re;this.encodeCompressedGtin(a,In.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(In.HEADER_SIZE+gn.GTIN_SIZE,In.LAST_DIGIT_SIZE);a.append("(392"),a.append(s),a.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(In.HEADER_SIZE+gn.GTIN_SIZE+In.LAST_DIGIT_SIZE,null);return a.append(l.getNewString()),a.toString()}}In.HEADER_SIZE=8,In.LAST_DIGIT_SIZE=2;class an extends gn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+gn.GTIN_SIZE)throw new $;let a=new re;this.encodeCompressedGtin(a,an.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+gn.GTIN_SIZE,an.LAST_DIGIT_SIZE);a.append("(393"),a.append(s),a.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+gn.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);l/100==0&&a.append("0"),l/10==0&&a.append("0"),a.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+gn.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return a.append(u.getNewString()),a.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class it extends nt{constructor(a,s,l){super(a),this.dateCode=l,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE+it.DATE_SIZE)throw new $;let a=new re;return this.encodeCompressedGtin(a,it.HEADER_SIZE),this.encodeCompressedWeight(a,it.HEADER_SIZE+it.GTIN_SIZE,it.WEIGHT_SIZE),this.encodeCompressedDate(a,it.HEADER_SIZE+it.GTIN_SIZE+it.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,s){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(s,it.DATE_SIZE);if(l==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&a.append("0"),a.append(f),d/10==0&&a.append("0"),a.append(d),u/10==0&&a.append("0"),a.append(u)}addWeightCode(a,s){a.append("("),a.append(this.firstAIdigits),a.append(s/1e5),a.append(")")}checkWeight(a){return a%1e5}}it.HEADER_SIZE=8,it.WEIGHT_SIZE=20,it.DATE_SIZE=16;function N1(A){try{if(A.get(1))return new wa(A);if(!A.get(2))return new je(A);switch(Mr.extractNumericValueFromBitArray(A,1,4)){case 4:return new $n(A);case 5:return new Gn(A)}switch(Mr.extractNumericValueFromBitArray(A,1,5)){case 12:return new In(A);case 13:return new an(A)}switch(Mr.extractNumericValueFromBitArray(A,1,7)){case 56:return new it(A,"310","11");case 57:return new it(A,"320","11");case 58:return new it(A,"310","13");case 59:return new it(A,"320","13");case 60:return new it(A,"310","15");case 61:return new it(A,"320","15");case 62:return new it(A,"310","17");case 63:return new it(A,"320","17")}}catch(a){throw console.log(a),new hn("unknown decoder: "+A)}}class va{constructor(a,s,l,u){this.leftchar=a,this.rightchar=s,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,s){return a instanceof va?va.equalsOrNull(a.leftchar,s.leftchar)&&va.equalsOrNull(a.rightchar,s.rightchar)&&va.equalsOrNull(a.finderpattern,s.finderpattern):!1}static equalsOrNull(a,s){return a===null?s===null:va.equals(a,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class hd{constructor(a,s,l){this.pairs=a,this.rowNumber=s,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,s){return a instanceof hd?this.checkEqualitity(a,s)&&a.wasReversed===s.wasReversed:!1}checkEqualitity(a,s){if(!a||!s)return;let l;return a.forEach((u,d)=>{s.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class te extends tt{constructor(a){super(...arguments),this.pairs=new Array(te.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,s,l){this.pairs.length=0,this.startFromEven=!1;try{return te.constructResult(this.decodeRow2pairs(a,s))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,te.constructResult(this.decodeRow2pairs(a,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,s){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,a))}catch(d){if(d instanceof $){if(!this.pairs.length)throw new $;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(a,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new $}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return a&&(this.rows=this.rows.reverse()),s}checkRows(a,s){for(let l=s;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of a)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!te.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(a);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(a){for(let s of te.FINDER_PATTERN_SEQUENCES){if(a.length>s.length)continue;let l=!0;for(let u=0;u<a.length;u++)if(a[u].getFinderPattern().getValue()!=s[u]){l=!1;break}if(l)return!0}return!1}storeRow(a,s){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>a){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||te.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new hd(this.pairs,a,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,s){for(let l of s)if(l.getPairs().length!==a.length){for(let u of l.getPairs())for(let d of a)if(va.equals(u,d))break}}static isPartialRow(a,s){for(let l of s){let u=!0;for(let d of a){let f=!1;for(let m of l.getPairs())if(d.equals(m)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(a){let s=Hl.buildBitArray(a),u=N1(s).parseInformation(),d=a[0].getFinderPattern().getResultPoints(),f=a[a.length-1].getFinderPattern().getResultPoints(),m=[d[0],d[1],f[0],f[1]];return new Ze(u,null,null,m,ge.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),s=a.getLeftChar(),l=a.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);u+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();v!=null&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==s.getValue()}static getNextSecondBar(a,s){let l;return a.get(s)?(l=a.getNextUnset(s),l=a.getNextSet(l)):(l=a.getNextSet(s),l=a.getNextUnset(l)),l}retrieveNextPair(a,s,l){let u=s.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,m=-1;do this.findNextPair(a,s,m),d=this.parseFoundFinderPattern(a,l,u),d==null?m=te.getNextSecondBar(a,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(a,d,u,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new $;let v;try{v=this.decodeDataCharacter(a,d,u,!1)}catch(C){v=null,this.verbose&&console.log(C)}return new va(y,v,d,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,s,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=a.getSize(),f;l>=0?f=l:this.isEmptyPair(s)?f=0:f=s[s.length-1].getFinderPattern().getStartEnd()[1];let m=s.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;f<d&&(y=!a.get(f),!!y);)f++;let v=0,C=f;for(let k=f;k<d;k++)if(a.get(k)!=y)u[v]++;else{if(v==3){if(m&&te.reverseCounters(u),te.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=k;return}m&&te.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,y=!y}throw new $}static reverseCounters(a){let s=a.length;for(let l=0;l<s/2;++l){let u=a[l];a[l]=a[s-l-1],a[s-l-1]=u}}parseFoundFinderPattern(a,s,l){let u,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!a.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=a.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let m=this.getDecodeFinderCounters();S.arraycopy(m,0,m,1,m.length-1),m[0]=u;let y;try{y=this.parseFinderValue(m,te.FINDER_PATTERNS)}catch{return null}return new xa(y,[d,f],d,f,s)}decodeDataCharacter(a,s,l,u){let d=this.getDataCharacterCounters();for(let at=0;at<d.length;at++)d[at]=0;if(u)te.recordPatternInReverse(a,s.getStartEnd()[0],d);else{te.recordPattern(a,s.getStartEnd()[1],d);for(let at=0,ln=d.length-1;at<ln;at++,ln--){let Yn=d[at];d[at]=d[ln],d[ln]=Yn}}let f=17,m=Pe.sum(new Int32Array(d))/f,y=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new $;let v=this.getOddCounts(),C=this.getEvenCounts(),k=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let at=0;at<d.length;at++){let ln=1*d[at]/m,Yn=ln+.5;if(Yn<1){if(ln<.3)throw new $;Yn=1}else if(Yn>8){if(ln>8.7)throw new $;Yn=8}let Qs=at/2;at&1?(C[Qs]=Yn,D[Qs]=ln-Yn):(v[Qs]=Yn,k[Qs]=ln-Yn)}this.adjustOddEvenCounts(f);let P=4*s.getValue()+(l?0:2)+(u?0:1)-1,U=0,z=0;for(let at=v.length-1;at>=0;at--){if(te.isNotA1left(s,l,u)){let ln=te.WEIGHTS[P][2*at];z+=v[at]*ln}U+=v[at]}let Y=0;for(let at=C.length-1;at>=0;at--)if(te.isNotA1left(s,l,u)){let ln=te.WEIGHTS[P][2*at+1];Y+=C[at]*ln}let Z=z+Y;if(U&1||U>13||U<4)throw new $;let se=(13-U)/2,ie=te.SYMBOL_WIDEST[se],ne=9-ie,Le=Hn.getRSSvalue(v,ie,!0),Te=Hn.getRSSvalue(C,ne,!1),Dn=te.EVEN_TOTAL_SUBSET[se],wr=te.GSUM[se],Mn=Le*Dn+Te+wr;return new pa(Mn,Z)}static isNotA1left(a,s,l){return!(a.getValue()==0&&s&&l)}adjustOddEvenCounts(a){let s=Pe.sum(new Int32Array(this.getOddCounts())),l=Pe.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;s>13?d=!0:s<4&&(u=!0);let f=!1,m=!1;l>13?m=!0:l<4&&(f=!0);let y=s+l-a,v=(s&1)==1,C=(l&1)==0;if(y==1)if(v){if(C)throw new $;d=!0}else{if(!C)throw new $;m=!0}else if(y==-1)if(v){if(C)throw new $;u=!0}else{if(!C)throw new $;f=!0}else if(y==0){if(v){if(!C)throw new $;s<l?(u=!0,m=!0):(d=!0,f=!0)}else if(C)throw new $}else throw new $;if(u){if(d)throw new $;te.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&te.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new $;te.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&te.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}te.SYMBOL_WIDEST=[7,5,4,3,1],te.EVEN_TOTAL_SUBSET=[4,20,52,104,204],te.GSUM=[0,348,1388,2948,3988],te.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],te.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],te.FINDER_PAT_A=0,te.FINDER_PAT_B=1,te.FINDER_PAT_C=2,te.FINDER_PAT_D=3,te.FINDER_PAT_E=4,te.FINDER_PAT_F=5,te.FINDER_PATTERN_SEQUENCES=[[te.FINDER_PAT_A,te.FINDER_PAT_A],[te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B],[te.FINDER_PAT_A,te.FINDER_PAT_C,te.FINDER_PAT_B,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_C],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_E,te.FINDER_PAT_B,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F],[te.FINDER_PAT_A,te.FINDER_PAT_A,te.FINDER_PAT_B,te.FINDER_PAT_B,te.FINDER_PAT_C,te.FINDER_PAT_D,te.FINDER_PAT_D,te.FINDER_PAT_E,te.FINDER_PAT_E,te.FINDER_PAT_F,te.FINDER_PAT_F]],te.MAX_PAIRS=11;class Tw extends pa{constructor(a,s,l){super(a,s),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class At extends tt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,s,l){const u=this.decodePair(s,!1,a,l);At.addOrTally(this.possibleLeftPairs,u),s.reverse();let d=this.decodePair(s,!0,a,l);At.addOrTally(this.possibleRightPairs,d),s.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&At.checkChecksum(f,m))return At.constructResult(f,m)}throw new $}static addOrTally(a,s){if(s==null)return;let l=!1;for(let u of a)if(u.getValue()===s.getValue()){u.incrementCount(),l=!0;break}l||a.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,s){let l=4537077*a.getValue()+s.getValue(),u=new String(l).toString(),d=new re;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let f=0;for(let v=0;v<13;v++){let C=d.charAt(v).charCodeAt(0)-48;f+=v&1?C:3*C}f=10-f%10,f===10&&(f=0),d.append(f.toString());let m=a.getFinderPattern().getResultPoints(),y=s.getFinderPattern().getResultPoints();return new Ze(d.toString(),null,0,[m[0],m[1],y[0],y[1]],ge.RSS_14,new Date().getTime())}static checkChecksum(a,s){let l=(a.getChecksumPortion()+16*s.getChecksumPortion())%79,u=9*a.getFinderPattern().getValue()+s.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(a,s,l,u){try{let d=this.findFinderPattern(a,s),f=this.parseFoundFinderPattern(a,l,s,d),m=u==null?null:u.get(H.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(d[0]+d[1])/2;s&&(C=a.getSize()-1-C),m.foundPossibleResultPoint(new pe(C,l))}let y=this.decodeDataCharacter(a,f,!0),v=this.decodeDataCharacter(a,f,!1);return new Tw(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(a,s,l){let u=this.getDataCharacterCounters();for(let Y=0;Y<u.length;Y++)u[Y]=0;if(l)ut.recordPatternInReverse(a,s.getStartEnd()[0],u);else{ut.recordPattern(a,s.getStartEnd()[1]+1,u);for(let Y=0,Z=u.length-1;Y<Z;Y++,Z--){let se=u[Y];u[Y]=u[Z],u[Z]=se}}let d=l?16:15,f=Pe.sum(new Int32Array(u))/d,m=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let Y=0;Y<u.length;Y++){let Z=u[Y]/f,se=Math.floor(Z+.5);se<1?se=1:se>8&&(se=8);let ie=Math.floor(Y/2);Y&1?(y[ie]=se,C[ie]=Z-se):(m[ie]=se,v[ie]=Z-se)}this.adjustOddEvenCounts(l,d);let k=0,D=0;for(let Y=m.length-1;Y>=0;Y--)D*=9,D+=m[Y],k+=m[Y];let P=0,U=0;for(let Y=y.length-1;Y>=0;Y--)P*=9,P+=y[Y],U+=y[Y];let z=D+3*P;if(l){if(k&1||k>12||k<4)throw new $;let Y=(12-k)/2,Z=At.OUTSIDE_ODD_WIDEST[Y],se=9-Z,ie=Hn.getRSSvalue(m,Z,!1),ne=Hn.getRSSvalue(y,se,!0),Le=At.OUTSIDE_EVEN_TOTAL_SUBSET[Y],Te=At.OUTSIDE_GSUM[Y];return new pa(ie*Le+ne+Te,z)}else{if(U&1||U>10||U<4)throw new $;let Y=(10-U)/2,Z=At.INSIDE_ODD_WIDEST[Y],se=9-Z,ie=Hn.getRSSvalue(m,Z,!0),ne=Hn.getRSSvalue(y,se,!1),Le=At.INSIDE_ODD_TOTAL_SUBSET[Y],Te=At.INSIDE_GSUM[Y];return new pa(ne*Le+ie+Te,z)}}findFinderPattern(a,s){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=a.getSize(),d=!1,f=0;for(;f<u&&(d=!a.get(f),s!==d);)f++;let m=0,y=f;for(let v=f;v<u;v++)if(a.get(v)!==d)l[m]++;else{if(m===3){if(tt.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,d=!d}throw new $}parseFoundFinderPattern(a,s,l,u){let d=a.get(u[0]),f=u[0]-1;for(;f>=0&&d!==a.get(f);)f--;f++;const m=u[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);S.arraycopy(y,0,v,1,y.length-1),v[0]=m;const C=this.parseFinderValue(v,At.FINDER_PATTERNS);let k=f,D=u[1];return l&&(k=a.getSize()-1-k,D=a.getSize()-1-D),new xa(C,[f,u[1]],k,D,s)}adjustOddEvenCounts(a,s){let l=Pe.sum(new Int32Array(this.getOddCounts())),u=Pe.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,m=!1,y=!1;a?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(m=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(m=!0));let v=l+u-s,C=(l&1)===(a?1:0),k=(u&1)===1;if(v===1)if(C){if(k)throw new $;f=!0}else{if(!k)throw new $;y=!0}else if(v===-1)if(C){if(k)throw new $;d=!0}else{if(!k)throw new $;m=!0}else if(v===0){if(C){if(!k)throw new $;l<u?(d=!0,y=!0):(f=!0,m=!0)}else if(k)throw new $}else throw new $;if(d){if(f)throw new $;tt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&tt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new $;tt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&tt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}At.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],At.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],At.OUTSIDE_GSUM=[0,161,961,2015,2715],At.INSIDE_GSUM=[0,336,1036,1516],At.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],At.INSIDE_ODD_WIDEST=[2,4,6,8],At.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ys extends ut{constructor(a,s){super(),this.readers=[],this.verbose=s===!0;const l=a?a.get(H.POSSIBLE_FORMATS):null,u=a&&a.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(ge.EAN_13)||l.includes(ge.UPC_A)||l.includes(ge.EAN_8)||l.includes(ge.UPC_E))&&this.readers.push(new et(a)),l.includes(ge.CODE_39)&&this.readers.push(new Ot(u)),l.includes(ge.CODE_128)&&this.readers.push(new le),l.includes(ge.ITF)&&this.readers.push(new Ge),l.includes(ge.RSS_14)&&this.readers.push(new At),l.includes(ge.RSS_EXPANDED)&&this.readers.push(new te(this.verbose))):(this.readers.push(new et(a)),this.readers.push(new Ot),this.readers.push(new et(a)),this.readers.push(new le),this.readers.push(new Ge),this.readers.push(new At),this.readers.push(new te(this.verbose)))}decodeRow(a,s,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(a,s,l)}catch{}throw new $}reset(){this.readers.forEach(a=>a.reset())}}class kw extends It{constructor(a=500,s){super(new Ys(s),a,s)}}class Ye{constructor(a,s,l){this.ecCodewords=a,this.ecBlocks=[s],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class $e{constructor(a,s){this.count=a,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(a,s,l,u,d,f){this.versionNumber=a,this.symbolSizeRows=s,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let m=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let C of v)m+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,s){if(a&1||s&1)throw new L;for(let l of Fe.VERSIONS)if(l.symbolSizeRows===a&&l.symbolSizeColumns===s)return l;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new Fe(1,10,10,8,8,new Ye(5,new $e(1,3))),new Fe(2,12,12,10,10,new Ye(7,new $e(1,5))),new Fe(3,14,14,12,12,new Ye(10,new $e(1,8))),new Fe(4,16,16,14,14,new Ye(12,new $e(1,12))),new Fe(5,18,18,16,16,new Ye(14,new $e(1,18))),new Fe(6,20,20,18,18,new Ye(18,new $e(1,22))),new Fe(7,22,22,20,20,new Ye(20,new $e(1,30))),new Fe(8,24,24,22,22,new Ye(24,new $e(1,36))),new Fe(9,26,26,24,24,new Ye(28,new $e(1,44))),new Fe(10,32,32,14,14,new Ye(36,new $e(1,62))),new Fe(11,36,36,16,16,new Ye(42,new $e(1,86))),new Fe(12,40,40,18,18,new Ye(48,new $e(1,114))),new Fe(13,44,44,20,20,new Ye(56,new $e(1,144))),new Fe(14,48,48,22,22,new Ye(68,new $e(1,174))),new Fe(15,52,52,24,24,new Ye(42,new $e(2,102))),new Fe(16,64,64,14,14,new Ye(56,new $e(2,140))),new Fe(17,72,72,16,16,new Ye(36,new $e(4,92))),new Fe(18,80,80,18,18,new Ye(48,new $e(4,114))),new Fe(19,88,88,20,20,new Ye(56,new $e(4,144))),new Fe(20,96,96,22,22,new Ye(68,new $e(4,174))),new Fe(21,104,104,24,24,new Ye(56,new $e(6,136))),new Fe(22,120,120,18,18,new Ye(68,new $e(6,175))),new Fe(23,132,132,20,20,new Ye(62,new $e(8,163))),new Fe(24,144,144,22,22,new Ye(62,new $e(8,156),new $e(2,155))),new Fe(25,8,18,6,16,new Ye(7,new $e(1,5))),new Fe(26,8,32,6,14,new Ye(11,new $e(1,10))),new Fe(27,12,26,10,24,new Ye(14,new $e(1,16))),new Fe(28,12,36,10,16,new Ye(18,new $e(1,22))),new Fe(29,16,36,14,16,new Ye(24,new $e(1,32))),new Fe(30,16,48,14,22,new Ye(28,new $e(1,49)))]}}Fe.VERSIONS=Fe.buildVersions();class fd{constructor(a){const s=a.getHeight();if(s<8||s>144||s&1)throw new L;this.version=fd.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ye(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const s=a.getHeight(),l=a.getWidth();return Fe.getVersionForDimensions(s,l)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let s=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,y=!1,v=!1,C=!1;do if(l===d&&u===0&&!m)a[s++]=this.readCorner1(d,f)&255,l-=2,u+=2,m=!0;else if(l===d-2&&u===0&&f&3&&!y)a[s++]=this.readCorner2(d,f)&255,l-=2,u+=2,y=!0;else if(l===d+4&&u===2&&!(f&7)&&!v)a[s++]=this.readCorner3(d,f)&255,l-=2,u+=2,v=!0;else if(l===d-2&&u===0&&(f&7)===4&&!C)a[s++]=this.readCorner4(d,f)&255,l-=2,u+=2,C=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(a[s++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(a[s++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(s!==this.version.getTotalCodewords())throw new L;return a}readModule(a,s,l,u){return a<0&&(a+=l,s+=4-(l+4&7)),s<0&&(s+=u,a+=4-(u+4&7)),this.readMappingMatrix.set(s,a),this.mappingBitMatrix.get(s,a)}readUtah(a,s,l,u){let d=0;return this.readModule(a-2,s-2,l,u)&&(d|=1),d<<=1,this.readModule(a-2,s-1,l,u)&&(d|=1),d<<=1,this.readModule(a-1,s-2,l,u)&&(d|=1),d<<=1,this.readModule(a-1,s-1,l,u)&&(d|=1),d<<=1,this.readModule(a-1,s,l,u)&&(d|=1),d<<=1,this.readModule(a,s-2,l,u)&&(d|=1),d<<=1,this.readModule(a,s-1,l,u)&&(d|=1),d<<=1,this.readModule(a,s,l,u)&&(d|=1),d}readCorner1(a,s){let l=0;return this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,1,a,s)&&(l|=1),l<<=1,this.readModule(a-1,2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(2,s-1,a,s)&&(l|=1),l<<=1,this.readModule(3,s-1,a,s)&&(l|=1),l}readCorner2(a,s){let l=0;return this.readModule(a-3,0,a,s)&&(l|=1),l<<=1,this.readModule(a-2,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(0,s-4,a,s)&&(l|=1),l<<=1,this.readModule(0,s-3,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l}readCorner3(a,s){let l=0;return this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(0,s-3,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-3,a,s)&&(l|=1),l<<=1,this.readModule(1,s-2,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l}readCorner4(a,s){let l=0;return this.readModule(a-3,0,a,s)&&(l|=1),l<<=1,this.readModule(a-2,0,a,s)&&(l|=1),l<<=1,this.readModule(a-1,0,a,s)&&(l|=1),l<<=1,this.readModule(0,s-2,a,s)&&(l|=1),l<<=1,this.readModule(0,s-1,a,s)&&(l|=1),l<<=1,this.readModule(1,s-1,a,s)&&(l|=1),l<<=1,this.readModule(2,s-1,a,s)&&(l|=1),l<<=1,this.readModule(3,s-1,a,s)&&(l|=1),l}extractDataRegion(a){const s=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(a.getHeight()!==s)throw new b("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=s/u|0,m=l/d|0,y=f*u,v=m*d,C=new ye(v,y);for(let k=0;k<f;++k){const D=k*u;for(let P=0;P<m;++P){const U=P*d;for(let z=0;z<u;++z){const Y=k*(u+2)+1+z,Z=D+z;for(let se=0;se<d;++se){const ie=P*(d+2)+1+se;if(a.get(ie,Y)){const ne=U+se;C.set(ne,Z)}}}}}return C}}class md{constructor(a,s){this.numDataCodewords=a,this.codewords=s}static getDataBlocks(a,s){const l=s.getECBlocks();let u=0;const d=l.getECBlocks();for(let z of d)u+=z.getCount();const f=new Array(u);let m=0;for(let z of d)for(let Y=0;Y<z.getCount();Y++){const Z=z.getDataCodewords(),se=l.getECCodewords()+Z;f[m++]=new md(Z,new Uint8Array(se))}const v=f[0].codewords.length-l.getECCodewords(),C=v-1;let k=0;for(let z=0;z<C;z++)for(let Y=0;Y<m;Y++)f[Y].codewords[z]=a[k++];const D=s.getVersionNumber()===24,P=D?8:m;for(let z=0;z<P;z++)f[z].codewords[v-1]=a[k++];const U=f[0].codewords.length;for(let z=v;z<U;z++)for(let Y=0;Y<m;Y++){const Z=D?(Y+8)%m:Y,se=D&&Z>7?z-1:z;f[Z].codewords[se]=a[k++]}if(k!==a.length)throw new b;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class gd{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new b(""+a);let s=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,m=a<f?a:f,y=f-m,v=255>>8-m<<y;s=(d[u]&v)>>y,a-=m,l+=m,l===8&&(l=0,u++)}if(a>0){for(;a>=8;)s=s<<8|d[u]&255,u++,a-=8;if(a>0){const f=8-a,m=255>>f<<f;s=s<<a|(d[u]&m)>>f,l+=a}}return this.bitOffset=l,this.byteOffset=u,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Wt;(function(A){A[A.PAD_ENCODE=0]="PAD_ENCODE",A[A.ASCII_ENCODE=1]="ASCII_ENCODE",A[A.C40_ENCODE=2]="C40_ENCODE",A[A.TEXT_ENCODE=3]="TEXT_ENCODE",A[A.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",A[A.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",A[A.BASE256_ENCODE=6]="BASE256_ENCODE"})(Wt||(Wt={}));class ba{static decode(a){const s=new gd(a),l=new re,u=new re,d=new Array;let f=Wt.ASCII_ENCODE;do if(f===Wt.ASCII_ENCODE)f=this.decodeAsciiSegment(s,l,u);else{switch(f){case Wt.C40_ENCODE:this.decodeC40Segment(s,l);break;case Wt.TEXT_ENCODE:this.decodeTextSegment(s,l);break;case Wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,l);break;case Wt.EDIFACT_ENCODE:this.decodeEdifactSegment(s,l);break;case Wt.BASE256_ENCODE:this.decodeBase256Segment(s,l,d);break;default:throw new L}f=Wt.ASCII_ENCODE}while(f!==Wt.PAD_ENCODE&&s.available()>0);return u.length()>0&&l.append(u.toString()),new jn(a,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(a,s,l){let u=!1;do{let d=a.readBits(8);if(d===0)throw new L;if(d<=128)return u&&(d+=128),s.append(String.fromCharCode(d-1)),Wt.ASCII_ENCODE;if(d===129)return Wt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&s.append("0"),s.append(""+f)}else switch(d){case 230:return Wt.C40_ENCODE;case 231:return Wt.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:s.append("[)>05"),l.insert(0,"");break;case 237:s.append("[)>06"),l.insert(0,"");break;case 238:return Wt.ANSIX12_ENCODE;case 239:return Wt.TEXT_ENCODE;case 240:return Wt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||a.available()!==0)throw new L;break}}while(a.available()>0);return Wt.ASCII_ENCODE}static decodeC40Segment(a,s){let l=!1;const u=[];let d=0;do{if(a.available()===8)return;const f=a.readBits(8);if(f===254)return;this.parseTwoBytes(f,a.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):s.append(v)}else throw new L;break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):s.append(v)}else switch(y){case 27:s.append("");break;case 30:l=!0;break;default:throw new L}d=0;break;case 3:l?(s.append(String.fromCharCode(y+224)),l=!1):s.append(String.fromCharCode(y+96)),d=0;break;default:throw new L}}}while(a.available()>0)}static decodeTextSegment(a,s){let l=!1,u=[],d=0;do{if(a.available()===8)return;const f=a.readBits(8);if(f===254)return;this.parseTwoBytes(f,a.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];l?(s.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):s.append(v)}else throw new L;break;case 1:l?(s.append(String.fromCharCode(y+128)),l=!1):s.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(s.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):s.append(v)}else switch(y){case 27:s.append("");break;case 30:l=!0;break;default:throw new L}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(s.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):s.append(v),d=0}else throw new L;break;default:throw new L}}}while(a.available()>0)}static decodeAnsiX12Segment(a,s){const l=[];do{if(a.available()===8)return;const u=a.readBits(8);if(u===254)return;this.parseTwoBytes(u,a.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(f<14)s.append(String.fromCharCode(f+44));else if(f<40)s.append(String.fromCharCode(f+51));else throw new L;break}}}while(a.available()>0)}static parseTwoBytes(a,s,l){let u=(a<<8)+s-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(a,s){do{if(a.available()<=16)return;for(let l=0;l<4;l++){let u=a.readBits(6);if(u===31){const d=8-a.getBitOffset();d!==8&&a.readBits(d);return}u&32||(u|=64),s.append(String.fromCharCode(u))}}while(a.available()>0)}static decodeBase256Segment(a,s,l){let u=1+a.getByteOffset();const d=this.unrandomize255State(a.readBits(8),u++);let f;if(d===0?f=a.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(a.readBits(8),u++),f<0)throw new L;const m=new Uint8Array(f);for(let y=0;y<f;y++){if(a.available()<8)throw new L;m[y]=this.unrandomize255State(a.readBits(8),u++)}l.push(m);try{s.append(W.decode(m,q.ISO88591))}catch(y){throw new hn("Platform does not support required encoding: "+y.message)}}static unrandomize255State(a,s){const l=149*s%255+1,u=a-l;return u>=0?u:u+256}}ba.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],ba.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],ba.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],ba.TEXT_SHIFT2_SET_CHARS=ba.C40_SHIFT2_SET_CHARS,ba.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class jw{constructor(){this.rsDecoder=new Kt(Be.DATA_MATRIX_FIELD_256)}decode(a){const s=new fd(a),l=s.getVersion(),u=s.readCodewords(),d=md.getDataBlocks(u,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const m=new Uint8Array(f),y=d.length;for(let v=0;v<y;v++){const C=d[v],k=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(k,D);for(let P=0;P<D;P++)m[P*y+v]=k[P]}return ba.decode(m)}correctErrors(a,s){const l=new Int32Array(a);try{this.rsDecoder.decode(l,a.length-s)}catch{throw new j}for(let u=0;u<s;u++)a[u]=l[u]}}class Dt{constructor(a){this.image=a,this.rectangleDetector=new pr(this.image)}detect(){const a=this.rectangleDetector.detect();let s=this.detectSolid1(a);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new $;s=this.shiftToModuleCenter(s);const l=s[0],u=s[1],d=s[2],f=s[3];let m=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let v=Dt.sampleGrid(this.image,l,u,d,f,m,y);return new $s(v,[l,u,d,f])}static shiftPoint(a,s,l){let u=(s.getX()-a.getX())/(l+1),d=(s.getY()-a.getY())/(l+1);return new pe(a.getX()+u,a.getY()+d)}static moveAway(a,s,l){let u=a.getX(),d=a.getY();return u<s?u-=1:u+=1,d<l?d-=1:d+=1,new pe(u,d)}detectSolid1(a){let s=a[0],l=a[1],u=a[3],d=a[2],f=this.transitionsBetween(s,l),m=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),v=this.transitionsBetween(d,s),C=f,k=[d,s,l,u];return C>m&&(C=m,k[0]=s,k[1]=l,k[2]=u,k[3]=d),C>y&&(C=y,k[0]=l,k[1]=u,k[2]=d,k[3]=s),C>v&&(k[0]=u,k[1]=d,k[2]=s,k[3]=l),k}detectSolid2(a){let s=a[0],l=a[1],u=a[2],d=a[3],f=this.transitionsBetween(s,d),m=Dt.shiftPoint(l,u,(f+1)*4),y=Dt.shiftPoint(u,l,(f+1)*4),v=this.transitionsBetween(m,s),C=this.transitionsBetween(y,d);return v<C?(a[0]=s,a[1]=l,a[2]=u,a[3]=d):(a[0]=l,a[1]=u,a[2]=d,a[3]=s),a}correctTopRight(a){let s=a[0],l=a[1],u=a[2],d=a[3],f=this.transitionsBetween(s,d),m=this.transitionsBetween(l,d),y=Dt.shiftPoint(s,l,(m+1)*4),v=Dt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(y,d),m=this.transitionsBetween(v,d);let C=new pe(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),k=new pe(d.getX()+(s.getX()-l.getX())/(m+1),d.getY()+(s.getY()-l.getY())/(m+1));if(!this.isValid(C))return this.isValid(k)?k:null;if(!this.isValid(k))return C;let D=this.transitionsBetween(y,C)+this.transitionsBetween(v,C),P=this.transitionsBetween(y,k)+this.transitionsBetween(v,k);return D>P?C:k}shiftToModuleCenter(a){let s=a[0],l=a[1],u=a[2],d=a[3],f=this.transitionsBetween(s,d)+1,m=this.transitionsBetween(u,d)+1,y=Dt.shiftPoint(s,l,m*4),v=Dt.shiftPoint(u,l,f*4);f=this.transitionsBetween(y,d)+1,m=this.transitionsBetween(v,d)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let C=(s.getX()+l.getX()+u.getX()+d.getX())/4,k=(s.getY()+l.getY()+u.getY()+d.getY())/4;s=Dt.moveAway(s,C,k),l=Dt.moveAway(l,C,k),u=Dt.moveAway(u,C,k),d=Dt.moveAway(d,C,k);let D,P;return y=Dt.shiftPoint(s,l,m*4),y=Dt.shiftPoint(y,d,f*4),D=Dt.shiftPoint(l,s,m*4),D=Dt.shiftPoint(D,u,f*4),v=Dt.shiftPoint(u,d,m*4),v=Dt.shiftPoint(v,l,f*4),P=Dt.shiftPoint(d,u,m*4),P=Dt.shiftPoint(P,s,f*4),[y,D,v,P]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,s,l,u,d,f,m){return Or.getInstance().sampleGrid(a,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,s.getX(),s.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(a,s){let l=Math.trunc(a.getX()),u=Math.trunc(a.getY()),d=Math.trunc(s.getX()),f=Math.trunc(s.getY()),m=Math.abs(f-u)>Math.abs(d-l);if(m){let z=l;l=u,u=z,z=d,d=f,f=z}let y=Math.abs(d-l),v=Math.abs(f-u),C=-y/2,k=u<f?1:-1,D=l<d?1:-1,P=0,U=this.image.get(m?u:l,m?l:u);for(let z=l,Y=u;z!==d;z+=D){let Z=this.image.get(m?Y:z,m?z:Y);if(Z!==U&&(P++,U=Z),C+=v,C>0){if(Y===f)break;Y+=k,C-=y}}return P}}class Ca{constructor(){this.decoder=new jw}decode(a,s=null){let l,u;if(s!=null&&s.has(H.PURE_BARCODE)){const v=Ca.extractPureBits(a.getBlackMatrix());l=this.decoder.decode(v),u=Ca.NO_POINTS}else{const v=new Dt(a.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),u=v.getPoints()}const d=l.getRawBytes(),f=new Ze(l.getText(),d,8*d.length,u,ge.DATA_MATRIX,S.currentTimeMillis()),m=l.getByteSegments();m!=null&&f.putMetadata(yt.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!=null&&f.putMetadata(yt.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(a){const s=a.getTopLeftOnBit(),l=a.getBottomRightOnBit();if(s==null||l==null)throw new $;const u=this.moduleSize(s,a);let d=s[1];const f=l[1];let m=s[0];const v=(l[0]-m+1)/u,C=(f-d+1)/u;if(v<=0||C<=0)throw new $;const k=u/2;d+=k,m+=k;const D=new ye(v,C);for(let P=0;P<C;P++){const U=d+P*u;for(let z=0;z<v;z++)a.get(m+z*u,U)&&D.set(z,P)}return D}static moduleSize(a,s){const l=s.getWidth();let u=a[0];const d=a[1];for(;u<l&&s.get(u,d);)u++;if(u===l)throw new $;const f=u-a[0];if(f===0)throw new $;return f}}Ca.NO_POINTS=[];class Iw extends It{constructor(a=500){super(new Ca,a)}}var Xs;(function(A){A[A.L=0]="L",A[A.M=1]="M",A[A.Q=2]="Q",A[A.H=3]="H"})(Xs||(Xs={}));class ot{constructor(a,s,l){this.value=a,this.stringValue=s,this.bits=l,ot.FOR_BITS.set(l,this),ot.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return ot.L;case"M":return ot.M;case"Q":return ot.Q;case"H":return ot.H;default:throw new w(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof ot))return!1;const s=a;return this.value===s.value}static forBits(a){if(a<0||a>=ot.FOR_BITS.size)throw new b;return ot.FOR_BITS.get(a)}}ot.FOR_BITS=new Map,ot.FOR_VALUE=new Map,ot.L=new ot(Xs.L,"L",1),ot.M=new ot(Xs.M,"M",0),ot.Q=new ot(Xs.Q,"Q",3),ot.H=new ot(Xs.H,"H",2);class pn{constructor(a){this.errorCorrectionLevel=ot.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,s){return E.bitCount(a^s)}static decodeFormatInformation(a,s){const l=pn.doDecodeFormatInformation(a,s);return l!==null?l:pn.doDecodeFormatInformation(a^pn.FORMAT_INFO_MASK_QR,s^pn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,s){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of pn.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===a||f===s)return new pn(d[1]);let m=pn.numBitsDiffering(a,f);m<l&&(u=d[1],l=m),a!==s&&(m=pn.numBitsDiffering(s,f),m<l&&(u=d[1],l=m))}return l<=3?new pn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof pn))return!1;const s=a;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}pn.FORMAT_INFO_MASK_QR=21522,pn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class K{constructor(a,...s){this.ecCodewordsPerBlock=a,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const s=this.ecBlocks;for(const l of s)a+=l.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(a,s){this.count=a,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ve{constructor(a,s,...l){this.versionNumber=a,this.alignmentPatternCenters=s,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const m of f)u+=m.getCount()*(m.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new L;try{return this.getVersionForNumber((a-17)/4)}catch{throw new L}}static getVersionForNumber(a){if(a<1||a>40)throw new b;return ve.VERSIONS[a-1]}static decodeVersionInformation(a){let s=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<ve.VERSION_DECODE_INFO.length;u++){const d=ve.VERSION_DECODE_INFO[u];if(d===a)return ve.getVersionForNumber(u+7);const f=pn.numBitsDiffering(a,d);f<s&&(l=u+7,s=f)}return s<=3?ve.getVersionForNumber(l):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),s=new ye(a);s.setRegion(0,0,9,9),s.setRegion(a-8,0,8,9),s.setRegion(0,a-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||s.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return s.setRegion(6,9,1,a-17),s.setRegion(9,6,a-17,1),this.versionNumber>6&&(s.setRegion(a-11,0,3,6),s.setRegion(0,a-11,6,3)),s}toString(){return""+this.versionNumber}}ve.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ve.VERSIONS=[new ve(1,new Int32Array(0),new K(7,new M(1,19)),new K(10,new M(1,16)),new K(13,new M(1,13)),new K(17,new M(1,9))),new ve(2,Int32Array.from([6,18]),new K(10,new M(1,34)),new K(16,new M(1,28)),new K(22,new M(1,22)),new K(28,new M(1,16))),new ve(3,Int32Array.from([6,22]),new K(15,new M(1,55)),new K(26,new M(1,44)),new K(18,new M(2,17)),new K(22,new M(2,13))),new ve(4,Int32Array.from([6,26]),new K(20,new M(1,80)),new K(18,new M(2,32)),new K(26,new M(2,24)),new K(16,new M(4,9))),new ve(5,Int32Array.from([6,30]),new K(26,new M(1,108)),new K(24,new M(2,43)),new K(18,new M(2,15),new M(2,16)),new K(22,new M(2,11),new M(2,12))),new ve(6,Int32Array.from([6,34]),new K(18,new M(2,68)),new K(16,new M(4,27)),new K(24,new M(4,19)),new K(28,new M(4,15))),new ve(7,Int32Array.from([6,22,38]),new K(20,new M(2,78)),new K(18,new M(4,31)),new K(18,new M(2,14),new M(4,15)),new K(26,new M(4,13),new M(1,14))),new ve(8,Int32Array.from([6,24,42]),new K(24,new M(2,97)),new K(22,new M(2,38),new M(2,39)),new K(22,new M(4,18),new M(2,19)),new K(26,new M(4,14),new M(2,15))),new ve(9,Int32Array.from([6,26,46]),new K(30,new M(2,116)),new K(22,new M(3,36),new M(2,37)),new K(20,new M(4,16),new M(4,17)),new K(24,new M(4,12),new M(4,13))),new ve(10,Int32Array.from([6,28,50]),new K(18,new M(2,68),new M(2,69)),new K(26,new M(4,43),new M(1,44)),new K(24,new M(6,19),new M(2,20)),new K(28,new M(6,15),new M(2,16))),new ve(11,Int32Array.from([6,30,54]),new K(20,new M(4,81)),new K(30,new M(1,50),new M(4,51)),new K(28,new M(4,22),new M(4,23)),new K(24,new M(3,12),new M(8,13))),new ve(12,Int32Array.from([6,32,58]),new K(24,new M(2,92),new M(2,93)),new K(22,new M(6,36),new M(2,37)),new K(26,new M(4,20),new M(6,21)),new K(28,new M(7,14),new M(4,15))),new ve(13,Int32Array.from([6,34,62]),new K(26,new M(4,107)),new K(22,new M(8,37),new M(1,38)),new K(24,new M(8,20),new M(4,21)),new K(22,new M(12,11),new M(4,12))),new ve(14,Int32Array.from([6,26,46,66]),new K(30,new M(3,115),new M(1,116)),new K(24,new M(4,40),new M(5,41)),new K(20,new M(11,16),new M(5,17)),new K(24,new M(11,12),new M(5,13))),new ve(15,Int32Array.from([6,26,48,70]),new K(22,new M(5,87),new M(1,88)),new K(24,new M(5,41),new M(5,42)),new K(30,new M(5,24),new M(7,25)),new K(24,new M(11,12),new M(7,13))),new ve(16,Int32Array.from([6,26,50,74]),new K(24,new M(5,98),new M(1,99)),new K(28,new M(7,45),new M(3,46)),new K(24,new M(15,19),new M(2,20)),new K(30,new M(3,15),new M(13,16))),new ve(17,Int32Array.from([6,30,54,78]),new K(28,new M(1,107),new M(5,108)),new K(28,new M(10,46),new M(1,47)),new K(28,new M(1,22),new M(15,23)),new K(28,new M(2,14),new M(17,15))),new ve(18,Int32Array.from([6,30,56,82]),new K(30,new M(5,120),new M(1,121)),new K(26,new M(9,43),new M(4,44)),new K(28,new M(17,22),new M(1,23)),new K(28,new M(2,14),new M(19,15))),new ve(19,Int32Array.from([6,30,58,86]),new K(28,new M(3,113),new M(4,114)),new K(26,new M(3,44),new M(11,45)),new K(26,new M(17,21),new M(4,22)),new K(26,new M(9,13),new M(16,14))),new ve(20,Int32Array.from([6,34,62,90]),new K(28,new M(3,107),new M(5,108)),new K(26,new M(3,41),new M(13,42)),new K(30,new M(15,24),new M(5,25)),new K(28,new M(15,15),new M(10,16))),new ve(21,Int32Array.from([6,28,50,72,94]),new K(28,new M(4,116),new M(4,117)),new K(26,new M(17,42)),new K(28,new M(17,22),new M(6,23)),new K(30,new M(19,16),new M(6,17))),new ve(22,Int32Array.from([6,26,50,74,98]),new K(28,new M(2,111),new M(7,112)),new K(28,new M(17,46)),new K(30,new M(7,24),new M(16,25)),new K(24,new M(34,13))),new ve(23,Int32Array.from([6,30,54,78,102]),new K(30,new M(4,121),new M(5,122)),new K(28,new M(4,47),new M(14,48)),new K(30,new M(11,24),new M(14,25)),new K(30,new M(16,15),new M(14,16))),new ve(24,Int32Array.from([6,28,54,80,106]),new K(30,new M(6,117),new M(4,118)),new K(28,new M(6,45),new M(14,46)),new K(30,new M(11,24),new M(16,25)),new K(30,new M(30,16),new M(2,17))),new ve(25,Int32Array.from([6,32,58,84,110]),new K(26,new M(8,106),new M(4,107)),new K(28,new M(8,47),new M(13,48)),new K(30,new M(7,24),new M(22,25)),new K(30,new M(22,15),new M(13,16))),new ve(26,Int32Array.from([6,30,58,86,114]),new K(28,new M(10,114),new M(2,115)),new K(28,new M(19,46),new M(4,47)),new K(28,new M(28,22),new M(6,23)),new K(30,new M(33,16),new M(4,17))),new ve(27,Int32Array.from([6,34,62,90,118]),new K(30,new M(8,122),new M(4,123)),new K(28,new M(22,45),new M(3,46)),new K(30,new M(8,23),new M(26,24)),new K(30,new M(12,15),new M(28,16))),new ve(28,Int32Array.from([6,26,50,74,98,122]),new K(30,new M(3,117),new M(10,118)),new K(28,new M(3,45),new M(23,46)),new K(30,new M(4,24),new M(31,25)),new K(30,new M(11,15),new M(31,16))),new ve(29,Int32Array.from([6,30,54,78,102,126]),new K(30,new M(7,116),new M(7,117)),new K(28,new M(21,45),new M(7,46)),new K(30,new M(1,23),new M(37,24)),new K(30,new M(19,15),new M(26,16))),new ve(30,Int32Array.from([6,26,52,78,104,130]),new K(30,new M(5,115),new M(10,116)),new K(28,new M(19,47),new M(10,48)),new K(30,new M(15,24),new M(25,25)),new K(30,new M(23,15),new M(25,16))),new ve(31,Int32Array.from([6,30,56,82,108,134]),new K(30,new M(13,115),new M(3,116)),new K(28,new M(2,46),new M(29,47)),new K(30,new M(42,24),new M(1,25)),new K(30,new M(23,15),new M(28,16))),new ve(32,Int32Array.from([6,34,60,86,112,138]),new K(30,new M(17,115)),new K(28,new M(10,46),new M(23,47)),new K(30,new M(10,24),new M(35,25)),new K(30,new M(19,15),new M(35,16))),new ve(33,Int32Array.from([6,30,58,86,114,142]),new K(30,new M(17,115),new M(1,116)),new K(28,new M(14,46),new M(21,47)),new K(30,new M(29,24),new M(19,25)),new K(30,new M(11,15),new M(46,16))),new ve(34,Int32Array.from([6,34,62,90,118,146]),new K(30,new M(13,115),new M(6,116)),new K(28,new M(14,46),new M(23,47)),new K(30,new M(44,24),new M(7,25)),new K(30,new M(59,16),new M(1,17))),new ve(35,Int32Array.from([6,30,54,78,102,126,150]),new K(30,new M(12,121),new M(7,122)),new K(28,new M(12,47),new M(26,48)),new K(30,new M(39,24),new M(14,25)),new K(30,new M(22,15),new M(41,16))),new ve(36,Int32Array.from([6,24,50,76,102,128,154]),new K(30,new M(6,121),new M(14,122)),new K(28,new M(6,47),new M(34,48)),new K(30,new M(46,24),new M(10,25)),new K(30,new M(2,15),new M(64,16))),new ve(37,Int32Array.from([6,28,54,80,106,132,158]),new K(30,new M(17,122),new M(4,123)),new K(28,new M(29,46),new M(14,47)),new K(30,new M(49,24),new M(10,25)),new K(30,new M(24,15),new M(46,16))),new ve(38,Int32Array.from([6,32,58,84,110,136,162]),new K(30,new M(4,122),new M(18,123)),new K(28,new M(13,46),new M(32,47)),new K(30,new M(48,24),new M(14,25)),new K(30,new M(42,15),new M(32,16))),new ve(39,Int32Array.from([6,26,54,82,110,138,166]),new K(30,new M(20,117),new M(4,118)),new K(28,new M(40,47),new M(7,48)),new K(30,new M(43,24),new M(22,25)),new K(30,new M(10,15),new M(67,16))),new ve(40,Int32Array.from([6,30,58,86,114,142,170]),new K(30,new M(19,118),new M(6,119)),new K(28,new M(18,47),new M(31,48)),new K(30,new M(34,24),new M(34,25)),new K(30,new M(20,15),new M(61,16)))];var Qt;(function(A){A[A.DATA_MASK_000=0]="DATA_MASK_000",A[A.DATA_MASK_001=1]="DATA_MASK_001",A[A.DATA_MASK_010=2]="DATA_MASK_010",A[A.DATA_MASK_011=3]="DATA_MASK_011",A[A.DATA_MASK_100=4]="DATA_MASK_100",A[A.DATA_MASK_101=5]="DATA_MASK_101",A[A.DATA_MASK_110=6]="DATA_MASK_110",A[A.DATA_MASK_111=7]="DATA_MASK_111"})(Qt||(Qt={}));class ar{constructor(a,s){this.value=a,this.isMasked=s}unmaskBitMatrix(a,s){for(let l=0;l<s;l++)for(let u=0;u<s;u++)this.isMasked(l,u)&&a.flip(u,l)}}ar.values=new Map([[Qt.DATA_MASK_000,new ar(Qt.DATA_MASK_000,(A,a)=>(A+a&1)===0)],[Qt.DATA_MASK_001,new ar(Qt.DATA_MASK_001,(A,a)=>(A&1)===0)],[Qt.DATA_MASK_010,new ar(Qt.DATA_MASK_010,(A,a)=>a%3===0)],[Qt.DATA_MASK_011,new ar(Qt.DATA_MASK_011,(A,a)=>(A+a)%3===0)],[Qt.DATA_MASK_100,new ar(Qt.DATA_MASK_100,(A,a)=>(Math.floor(A/2)+Math.floor(a/3)&1)===0)],[Qt.DATA_MASK_101,new ar(Qt.DATA_MASK_101,(A,a)=>A*a%6===0)],[Qt.DATA_MASK_110,new ar(Qt.DATA_MASK_110,(A,a)=>A*a%6<3)],[Qt.DATA_MASK_111,new ar(Qt.DATA_MASK_111,(A,a)=>(A+a+A*a%3&1)===0)]]);class Ow{constructor(a){const s=a.getHeight();if(s<21||(s&3)!==1)throw new L;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let d=0;d<6;d++)a=this.copyBit(d,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let d=5;d>=0;d--)a=this.copyBit(8,d,a);const s=this.bitMatrix.getHeight();let l=0;const u=s-7;for(let d=s-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=s-8;d<s;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=pn.decodeFormatInformation(a,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),s=Math.floor((a-17)/4);if(s<=6)return ve.getVersionForNumber(s);let l=0;const u=a-11;for(let f=5;f>=0;f--)for(let m=a-9;m>=u;m--)l=this.copyBit(m,f,l);let d=ve.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===a)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let m=a-9;m>=u;m--)l=this.copyBit(f,m,l);if(d=ve.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===a)return this.parsedVersion=d,d;throw new L}copyBit(a,s,l){return(this.isMirror?this.bitMatrix.get(s,a):this.bitMatrix.get(a,s))?l<<1|1:l<<1}readCodewords(){const a=this.readFormatInformation(),s=this.readVersion(),l=ar.values.get(a.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=s.buildFunctionPattern();let f=!0;const m=new Uint8Array(s.getTotalCodewords());let y=0,v=0,C=0;for(let k=u-1;k>0;k-=2){k===6&&k--;for(let D=0;D<u;D++){const P=f?u-1-D:D;for(let U=0;U<2;U++)d.get(k-U,P)||(C++,v<<=1,this.bitMatrix.get(k-U,P)&&(v|=1),C===8&&(m[y++]=v,C=0,v=0))}f=!f}if(y!==s.getTotalCodewords())throw new L;return m}remask(){if(this.parsedFormatInfo===null)return;const a=ar.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,s)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let s=0,l=a.getWidth();s<l;s++)for(let u=s+1,d=a.getHeight();u<d;u++)a.get(s,u)!==a.get(u,s)&&(a.flip(u,s),a.flip(s,u))}}class pd{constructor(a,s){this.numDataCodewords=a,this.codewords=s}static getDataBlocks(a,s,l){if(a.length!==s.getTotalCodewords())throw new b;const u=s.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const U of f)d+=U.getCount();const m=new Array(d);let y=0;for(const U of f)for(let z=0;z<U.getCount();z++){const Y=U.getDataCodewords(),Z=u.getECCodewordsPerBlock()+Y;m[y++]=new pd(Y,new Uint8Array(Z))}const v=m[0].codewords.length;let C=m.length-1;for(;C>=0&&m[C].codewords.length!==v;)C--;C++;const k=v-u.getECCodewordsPerBlock();let D=0;for(let U=0;U<k;U++)for(let z=0;z<y;z++)m[z].codewords[U]=a[D++];for(let U=C;U<y;U++)m[U].codewords[k]=a[D++];const P=m[0].codewords.length;for(let U=k;U<P;U++)for(let z=0;z<y;z++){const Y=z<C?U:U+1;m[z].codewords[Y]=a[D++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var sr;(function(A){A[A.TERMINATOR=0]="TERMINATOR",A[A.NUMERIC=1]="NUMERIC",A[A.ALPHANUMERIC=2]="ALPHANUMERIC",A[A.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",A[A.BYTE=4]="BYTE",A[A.ECI=5]="ECI",A[A.KANJI=6]="KANJI",A[A.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",A[A.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",A[A.HANZI=9]="HANZI"})(sr||(sr={}));class be{constructor(a,s,l,u){this.value=a,this.stringValue=s,this.characterCountBitsForVersions=l,this.bits=u,be.FOR_BITS.set(u,this),be.FOR_VALUE.set(a,this)}static forBits(a){const s=be.FOR_BITS.get(a);if(s===void 0)throw new b;return s}getCharacterCountBits(a){const s=a.getVersionNumber();let l;return s<=9?l=0:s<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof be))return!1;const s=a;return this.value===s.value}toString(){return this.stringValue}}be.FOR_BITS=new Map,be.FOR_VALUE=new Map,be.TERMINATOR=new be(sr.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),be.NUMERIC=new be(sr.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),be.ALPHANUMERIC=new be(sr.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),be.STRUCTURED_APPEND=new be(sr.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),be.BYTE=new be(sr.BYTE,"BYTE",Int32Array.from([8,16,16]),4),be.ECI=new be(sr.ECI,"ECI",Int32Array.from([0,0,0]),7),be.KANJI=new be(sr.KANJI,"KANJI",Int32Array.from([8,10,12]),8),be.FNC1_FIRST_POSITION=new be(sr.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),be.FNC1_SECOND_POSITION=new be(sr.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),be.HANZI=new be(sr.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class bt{static decode(a,s,l,u){const d=new gd(a);let f=new re;const m=new Array;let y=-1,v=-1;try{let C=null,k=!1,D;do{if(d.available()<4)D=be.TERMINATOR;else{const P=d.readBits(4);D=be.forBits(P)}switch(D){case be.TERMINATOR:break;case be.FNC1_FIRST_POSITION:case be.FNC1_SECOND_POSITION:k=!0;break;case be.STRUCTURED_APPEND:if(d.available()<16)throw new L;y=d.readBits(8),v=d.readBits(8);break;case be.ECI:const P=bt.parseECIValue(d);if(C=B.getCharacterSetECIByValue(P),C===null)throw new L;break;case be.HANZI:const U=d.readBits(4),z=d.readBits(D.getCharacterCountBits(s));U===bt.GB2312_SUBSET&&bt.decodeHanziSegment(d,f,z);break;default:const Y=d.readBits(D.getCharacterCountBits(s));switch(D){case be.NUMERIC:bt.decodeNumericSegment(d,f,Y);break;case be.ALPHANUMERIC:bt.decodeAlphanumericSegment(d,f,Y,k);break;case be.BYTE:bt.decodeByteSegment(d,f,Y,C,m,u);break;case be.KANJI:bt.decodeKanjiSegment(d,f,Y);break;default:throw new L}break}}while(D!==be.TERMINATOR)}catch{throw new L}return new jn(a,f.toString(),m.length===0?null:m,l===null?null:l.toString(),y,v)}static decodeHanziSegment(a,s,l){if(l*13>a.available())throw new L;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=a.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,u[d]=m>>8&255,u[d+1]=m&255,d+=2,l--}try{s.append(W.decode(u,q.GB2312))}catch(f){throw new L(f)}}static decodeKanjiSegment(a,s,l){if(l*13>a.available())throw new L;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=a.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,u[d]=m>>8,u[d+1]=m,d+=2,l--}try{s.append(W.decode(u,q.SHIFT_JIS))}catch(f){throw new L(f)}}static decodeByteSegment(a,s,l,u,d,f){if(8*l>a.available())throw new L;const m=new Uint8Array(l);for(let v=0;v<l;v++)m[v]=a.readBits(8);let y;u===null?y=q.guessEncoding(m,f):y=u.getName();try{s.append(W.decode(m,y))}catch(v){throw new L(v)}d.push(m)}static toAlphaNumericChar(a){if(a>=bt.ALPHANUMERIC_CHARS.length)throw new L;return bt.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,s,l,u){const d=s.length();for(;l>1;){if(a.available()<11)throw new L;const f=a.readBits(11);s.append(bt.toAlphaNumericChar(Math.floor(f/45))),s.append(bt.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(a.available()<6)throw new L;s.append(bt.toAlphaNumericChar(a.readBits(6)))}if(u)for(let f=d;f<s.length();f++)s.charAt(f)==="%"&&(f<s.length()-1&&s.charAt(f+1)==="%"?s.deleteCharAt(f+1):s.setCharAt(f,""))}static decodeNumericSegment(a,s,l){for(;l>=3;){if(a.available()<10)throw new L;const u=a.readBits(10);if(u>=1e3)throw new L;s.append(bt.toAlphaNumericChar(Math.floor(u/100))),s.append(bt.toAlphaNumericChar(Math.floor(u/10)%10)),s.append(bt.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(a.available()<7)throw new L;const u=a.readBits(7);if(u>=100)throw new L;s.append(bt.toAlphaNumericChar(Math.floor(u/10))),s.append(bt.toAlphaNumericChar(u%10))}else if(l===1){if(a.available()<4)throw new L;const u=a.readBits(4);if(u>=10)throw new L;s.append(bt.toAlphaNumericChar(u))}}static parseECIValue(a){const s=a.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const l=a.readBits(8);return(s&63)<<8&4294967295|l}if((s&224)===192){const l=a.readBits(16);return(s&31)<<16&4294967295|l}throw new L}}bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",bt.GB2312_SUBSET=1;class E1{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const s=a[0];a[0]=a[2],a[2]=s}}class Dw{constructor(){this.rsDecoder=new Kt(Be.QR_CODE_FIELD_256)}decodeBooleanArray(a,s){return this.decodeBitMatrix(ye.parseFromBooleanArray(a),s)}decodeBitMatrix(a,s){const l=new Ow(a);let u=null;try{return this.decodeBitMatrixParser(l,s)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,s);return d.setOther(new E1(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(a,s){const l=a.readVersion(),u=a.readFormatInformation().getErrorCorrectionLevel(),d=a.readCodewords(),f=pd.getDataBlocks(d,l,u);let m=0;for(const C of f)m+=C.getNumDataCodewords();const y=new Uint8Array(m);let v=0;for(const C of f){const k=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(k,D);for(let P=0;P<D;P++)y[v++]=k[P]}return bt.decode(y,l,u,s)}correctErrors(a,s){const l=new Int32Array(a);try{this.rsDecoder.decode(l,a.length-s)}catch{throw new j}for(let u=0;u<s;u++)a[u]=l[u]}}class xd extends pe{constructor(a,s,l){super(a,s),this.estimatedModuleSize=l}aboutEquals(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){const u=Math.abs(a-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(a,s,l){const u=(this.getX()+s)/2,d=(this.getY()+a)/2,f=(this.estimatedModuleSize+l)/2;return new xd(u,d,f)}}class $l{constructor(a,s,l,u,d,f,m){this.image=a,this.startX=s,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,s=this.height,l=this.width,u=a+l,d=this.startY+s/2,f=new Int32Array(3),m=this.image;for(let y=0;y<s;y++){const v=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=a;for(;C<u&&!m.get(C,v);)C++;let k=0;for(;C<u;){if(m.get(C,v))if(k===1)f[1]++;else if(k===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,C);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,k=1}else f[++k]++;else k===1&&k++,f[k]++;C++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,u);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(a,s){return s-a[2]-a[1]/2}foundPatternCross(a){const s=this.moduleSize,l=s/2;for(let u=0;u<3;u++)if(Math.abs(s-a[u])>=l)return!1;return!0}crossCheckVertical(a,s,l,u){const d=this.image,f=d.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=a;for(;y>=0&&d.get(s,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&!d.get(s,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=a+1;y<f&&d.get(s,y)&&m[1]<=l;)m[1]++,y++;if(y===f||m[1]>l)return NaN;for(;y<f&&!d.get(s,y)&&m[2]<=l;)m[2]++,y++;if(m[2]>l)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-u)>=2*u?NaN:this.foundPatternCross(m)?$l.centerFromEnd(m,y):NaN}handlePossibleCenter(a,s,l){const u=a[0]+a[1]+a[2],d=$l.centerFromEnd(a,l),f=this.crossCheckVertical(s,d,2*a[1],u);if(!isNaN(f)){const m=(a[0]+a[1]+a[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,f,d))return v.combineEstimate(f,d,m);const y=new xd(d,f,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class yd extends pe{constructor(a,s,l,u){super(a,s),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,s,l){if(Math.abs(s-this.getY())<=a&&Math.abs(l-this.getX())<=a){const u=Math.abs(a-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(a,s,l){const u=this.count+1,d=(this.count*this.getX()+s)/u,f=(this.count*this.getY()+a)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new yd(d,f,m,u)}}class Mw{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zt{constructor(a,s){this.image=a,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const s=a!=null&&a.get(H.TRY_HARDER)!==void 0,l=a!=null&&a.get(H.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let m=Math.floor(3*d/(4*Zt.MAX_MODULES));(m<Zt.MIN_SKIP||s)&&(m=Zt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let k=m-1;k<d&&!y;k+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let P=0;P<f;P++)if(u.get(P,k))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(Zt.foundPatternCross(v)){if(this.handlePossibleCenter(v,k,P,l)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const z=this.findRowSkip();z>v[2]&&(k+=z-v[2]-m,P=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;Zt.foundPatternCross(v)&&this.handlePossibleCenter(v,k,f,l)===!0&&(m=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return pe.orderBestPatterns(C),new Mw(C)}static centerFromEnd(a,s){return s-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let s=0;for(let d=0;d<5;d++){const f=a[d];if(f===0)return!1;s+=f}if(s<7)return!1;const l=s/7,u=l/2;return Math.abs(l-a[0])<u&&Math.abs(l-a[1])<u&&Math.abs(3*l-a[2])<3*u&&Math.abs(l-a[3])<u&&Math.abs(l-a[4])<u}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,s,l,u){const d=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;a>=f&&s>=f&&m.get(s-f,a-f);)d[2]++,f++;if(a<f||s<f)return!1;for(;a>=f&&s>=f&&!m.get(s-f,a-f)&&d[1]<=l;)d[1]++,f++;if(a<f||s<f||d[1]>l)return!1;for(;a>=f&&s>=f&&m.get(s-f,a-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=m.getHeight(),v=m.getWidth();for(f=1;a+f<y&&s+f<v&&m.get(s+f,a+f);)d[2]++,f++;if(a+f>=y||s+f>=v)return!1;for(;a+f<y&&s+f<v&&!m.get(s+f,a+f)&&d[3]<l;)d[3]++,f++;if(a+f>=y||s+f>=v||d[3]>=l)return!1;for(;a+f<y&&s+f<v&&m.get(s+f,a+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const C=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(C-u)<2*u&&Zt.foundPatternCross(d)}crossCheckVertical(a,s,l,u){const d=this.image,f=d.getHeight(),m=this.getCrossCheckStateCount();let y=a;for(;y>=0&&d.get(s,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(s,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&d.get(s,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=a+1;y<f&&d.get(s,y);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(s,y)&&m[3]<l;)m[3]++,y++;if(y===f||m[3]>=l)return NaN;for(;y<f&&d.get(s,y)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=2*u?NaN:Zt.foundPatternCross(m)?Zt.centerFromEnd(m,y):NaN}crossCheckHorizontal(a,s,l,u){const d=this.image,f=d.getWidth(),m=this.getCrossCheckStateCount();let y=a;for(;y>=0&&d.get(y,s);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,s)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&d.get(y,s)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=a+1;y<f&&d.get(y,s);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,s)&&m[3]<l;)m[3]++,y++;if(y===f||m[3]>=l)return NaN;for(;y<f&&d.get(y,s)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=u?NaN:Zt.foundPatternCross(m)?Zt.centerFromEnd(m,y):NaN}handlePossibleCenter(a,s,l,u){const d=a[0]+a[1]+a[2]+a[3]+a[4];let f=Zt.centerFromEnd(a,l),m=this.crossCheckVertical(s,Math.floor(f),a[2],d);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),a[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),a[2],d)))){const y=d/7;let v=!1;const C=this.possibleCenters;for(let k=0,D=C.length;k<D;k++){const P=C[k];if(P.aboutEquals(y,m,f)){C[k]=P.combineEstimate(m,f,y),v=!0;break}}if(!v){const k=new yd(f,m,y);C.push(k),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(k)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const l of this.possibleCenters)if(l.getCount()>=Zt.CENTER_QUORUM)if(s==null)s=l;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-l.getX())-Math.abs(s.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,s=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Zt.CENTER_QUORUM&&(a++,s+=f.getEstimatedModuleSize());if(a<3)return!1;const u=s/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*s}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new $;const s=this.possibleCenters;let l;if(a>3){let u=0,d=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();u+=v,d+=v*v}l=u/a;let f=Math.sqrt(d/a-l*l);s.sort((y,v)=>{const C=Math.abs(v.getEstimatedModuleSize()-l),k=Math.abs(y.getEstimatedModuleSize()-l);return C<k?-1:C>k?1:0});const m=Math.max(.2*l,f);for(let y=0;y<s.length&&s.length>3;y++){const v=s[y];Math.abs(v.getEstimatedModuleSize()-l)>m&&(s.splice(y,1),y--)}}if(s.length>3){let u=0;for(const d of s)u+=d.getEstimatedModuleSize();l=u/s.length,s.sort((d,f)=>{if(f.getCount()===d.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return m<y?1:m>y?-1:0}else return f.getCount()-d.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Zt.CENTER_QUORUM=2,Zt.MIN_SKIP=3,Zt.MAX_MODULES=57;class go{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(H.NEED_RESULT_POINT_CALLBACK);const l=new Zt(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(l)}processFinderPatternInfo(a){const s=a.getTopLeft(),l=a.getTopRight(),u=a.getBottomLeft(),d=this.calculateModuleSize(s,l,u);if(d<1)throw new $("No pattern found in proccess finder.");const f=go.computeDimension(s,l,u,d),m=ve.getProvisionalVersionForDimension(f),y=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const P=l.getX()-s.getX()+u.getX(),U=l.getY()-s.getY()+u.getY(),z=1-3/y,Y=Math.floor(s.getX()+z*(P-s.getX())),Z=Math.floor(s.getY()+z*(U-s.getY()));for(let se=4;se<=16;se<<=1)try{v=this.findAlignmentInRegion(d,Y,Z,se);break}catch(ie){if(!(ie instanceof $))throw ie}}const C=go.createTransform(s,l,u,v,f),k=go.sampleGrid(this.image,C,f);let D;return v===null?D=[u,s,l]:D=[u,s,l,v],new $s(k,D)}static createTransform(a,s,l,u,d){const f=d-3.5;let m,y,v,C;return u!==null?(m=u.getX(),y=u.getY(),v=f-3,C=v):(m=s.getX()-a.getX()+l.getX(),y=s.getY()-a.getY()+l.getY(),v=f,C=f),Vn.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,C,3.5,f,a.getX(),a.getY(),s.getX(),s.getY(),m,y,l.getX(),l.getY())}static sampleGrid(a,s,l){return Or.getInstance().sampleGridWithTransform(a,l,l,s)}static computeDimension(a,s,l,u){const d=Pe.round(pe.distance(a,s)/u),f=Pe.round(pe.distance(a,l)/u);let m=Math.floor((d+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new $("Dimensions could be not found.")}return m}calculateModuleSize(a,s,l){return(this.calculateModuleSizeOneWay(a,s)+this.calculateModuleSizeOneWay(a,l))/2}calculateModuleSizeOneWay(a,s){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(a,s,l,u){let d=this.sizeOfBlackWhiteBlackRun(a,s,l,u),f=1,m=a-(l-a);m<0?(f=a/(a-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-a)/(m-a),m=this.image.getWidth()-1);let y=Math.floor(s-(u-s)*f);return f=1,y<0?(f=s/(s-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-s)/(y-s),y=this.image.getHeight()-1),m=Math.floor(a+(m-a)*f),d+=this.sizeOfBlackWhiteBlackRun(a,s,m,y),d-1}sizeOfBlackWhiteBlackRun(a,s,l,u){const d=Math.abs(u-s)>Math.abs(l-a);if(d){let P=a;a=s,s=P,P=l,l=u,u=P}const f=Math.abs(l-a),m=Math.abs(u-s);let y=-f/2;const v=a<l?1:-1,C=s<u?1:-1;let k=0;const D=l+v;for(let P=a,U=s;P!==D;P+=v){const z=d?U:P,Y=d?P:U;if(k===1===this.image.get(z,Y)){if(k===2)return Pe.distance(P,U,a,s);k++}if(y+=m,y>0){if(U===u)break;U+=C,y-=f}}return k===2?Pe.distance(l+v,u,a,s):NaN}findAlignmentInRegion(a,s,l,u){const d=Math.floor(u*a),f=Math.max(0,s-d),m=Math.min(this.image.getWidth()-1,s+d);if(m-f<a*3)throw new $("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<a*3)throw new $("Alignment bottom exceeds estimated module size.");return new $l(this.image,f,y,m-f,v-y,a,this.resultPointCallback).find()}}class Na{constructor(){this.decoder=new Dw}getDecoder(){return this.decoder}decode(a,s){let l,u;if(s!=null&&s.get(H.PURE_BARCODE)!==void 0){const y=Na.extractPureBits(a.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,s),u=Na.NO_POINTS}else{const y=new go(a.getBlackMatrix()).detect(s);l=this.decoder.decodeBitMatrix(y.getBits(),s),u=y.getPoints()}l.getOther()instanceof E1&&l.getOther().applyMirroredCorrection(u);const d=new Ze(l.getText(),l.getRawBytes(),void 0,u,ge.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(yt.BYTE_SEGMENTS,f);const m=l.getECLevel();return m!==null&&d.putMetadata(yt.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(d.putMetadata(yt.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(yt.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(a){const s=a.getTopLeftOnBit(),l=a.getBottomRightOnBit();if(s===null||l===null)throw new $;const u=this.moduleSize(s,a);let d=s[1],f=l[1],m=s[0],y=l[0];if(m>=y||d>=f)throw new $;if(f-d!==y-m&&(y=m+(f-d),y>=a.getWidth()))throw new $;const v=Math.round((y-m+1)/u),C=Math.round((f-d+1)/u);if(v<=0||C<=0)throw new $;if(C!==v)throw new $;const k=Math.floor(u/2);d+=k,m+=k;const D=m+Math.floor((v-1)*u)-y;if(D>0){if(D>k)throw new $;m-=D}const P=d+Math.floor((C-1)*u)-f;if(P>0){if(P>k)throw new $;d-=P}const U=new ye(v,C);for(let z=0;z<C;z++){const Y=d+Math.floor(z*u);for(let Z=0;Z<v;Z++)a.get(m+Math.floor(Z*u),Y)&&U.set(Z,z)}return U}static moduleSize(a,s){const l=s.getHeight(),u=s.getWidth();let d=a[0],f=a[1],m=!0,y=0;for(;d<u&&f<l;){if(m!==s.get(d,f)){if(++y===5)break;m=!m}d++,f++}if(d===u||f===l)throw new $;return(d-a[0])/7}}Na.NO_POINTS=new Array;class Se{PDF417Common(){}static getBitCountSum(a){return Pe.sum(a)}static toIntArray(a){if(a==null||!a.length)return Se.EMPTY_INT_ARRAY;const s=new Int32Array(a.length);let l=0;for(const u of a)s[l++]=u;return s}static getCodeword(a){const s=_.binarySearch(Se.SYMBOL_TABLE,a&262143);return s<0?-1:(Se.CODEWORD_TABLE[s]-1)%Se.NUMBER_OF_CODEWORDS}}Se.NUMBER_OF_CODEWORDS=929,Se.MAX_CODEWORDS_IN_BARCODE=Se.NUMBER_OF_CODEWORDS-1,Se.MIN_ROWS_IN_BARCODE=3,Se.MAX_ROWS_IN_BARCODE=90,Se.MODULES_IN_CODEWORD=17,Se.MODULES_IN_STOP_PATTERN=18,Se.BARS_IN_MODULE=8,Se.EMPTY_INT_ARRAY=new Int32Array([]),Se.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Se.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Rw{constructor(a,s){this.bits=a,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ie{static detectMultiple(a,s,l){let u=a.getBlackMatrix(),d=Ie.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Ie.detect(l,u)),new Rw(u,d)}static detect(a,s){const l=new Array;let u=0,d=0,f=!1;for(;u<s.getHeight();){const m=Ie.findVertices(s,u,d);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ie.ROW_STEP;continue}if(f=!0,l.push(m),!a)break;m[2]!=null?(d=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(d=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(a,s,l){const u=a.getHeight(),d=a.getWidth(),f=new Array(8);return Ie.copyToResult(f,Ie.findRowsWithPattern(a,u,d,s,l,Ie.START_PATTERN),Ie.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),s=Math.trunc(f[4].getY())),Ie.copyToResult(f,Ie.findRowsWithPattern(a,u,d,s,l,Ie.STOP_PATTERN),Ie.INDEXES_STOP_PATTERN),f}static copyToResult(a,s,l){for(let u=0;u<l.length;u++)a[l[u]]=s[u]}static findRowsWithPattern(a,s,l,u,d,f){const m=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;u<s;u+=Ie.ROW_STEP){let k=Ie.findGuardPattern(a,d,u,l,!1,f,v);if(k!=null){for(;u>0;){const D=Ie.findGuardPattern(a,d,--u,l,!1,f,v);if(D!=null)k=D;else{u++;break}}m[0]=new pe(k[0],u),m[1]=new pe(k[1],u),y=!0;break}}let C=u+1;if(y){let k=0,D=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<s;C++){const P=Ie.findGuardPattern(a,D[0],C,l,!1,f,v);if(P!=null&&Math.abs(D[0]-P[0])<Ie.MAX_PATTERN_DRIFT&&Math.abs(D[1]-P[1])<Ie.MAX_PATTERN_DRIFT)D=P,k=0;else{if(k>Ie.SKIPPED_ROW_COUNT_MAX)break;k++}}C-=k+1,m[2]=new pe(D[0],C),m[3]=new pe(D[1],C)}return C-u<Ie.BARCODE_MIN_HEIGHT&&_.fill(m,null),m}static findGuardPattern(a,s,l,u,d,f,m){_.fillWithin(m,0,m.length,0);let y=s,v=0;for(;a.get(y,l)&&y>0&&v++<Ie.MAX_PIXEL_DRIFT;)y--;let C=y,k=0,D=f.length;for(let P=d;C<u;C++)if(a.get(C,l)!==P)m[k]++;else{if(k===D-1){if(Ie.patternMatchVariance(m,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE)return new Int32Array([y,C]);y+=m[0]+m[1],S.arraycopy(m,2,m,0,k-1),m[k-1]=0,m[k]=0,k--}else k++;m[k]=1,P=!P}return k===D-1&&Ie.patternMatchVariance(m,f,Ie.MAX_INDIVIDUAL_VARIANCE)<Ie.MAX_AVG_VARIANCE?new Int32Array([y,C-1]):null}static patternMatchVariance(a,s,l){let u=a.length,d=0,f=0;for(let v=0;v<u;v++)d+=a[v],f+=s[v];if(d<f)return 1/0;let m=d/f;l*=m;let y=0;for(let v=0;v<u;v++){let C=a[v],k=s[v]*m,D=C>k?C-k:k-C;if(D>l)return 1/0;y+=D}return y/d}}Ie.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ie.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ie.MAX_AVG_VARIANCE=.42,Ie.MAX_INDIVIDUAL_VARIANCE=.8,Ie.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ie.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ie.MAX_PIXEL_DRIFT=3,Ie.MAX_PATTERN_DRIFT=5,Ie.SKIPPED_ROW_COUNT_MAX=25,Ie.ROW_STEP=5,Ie.BARCODE_MIN_HEIGHT=10;class sn{constructor(a,s){if(s.length===0)throw new b;this.field=a;let l=s.length;if(l>1&&s[0]===0){let u=1;for(;u<l&&s[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(s,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let s=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)s=this.field.add(this.field.multiply(a,s),this.coefficients[u]);return s}add(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let s=this.coefficients,l=a.coefficients;if(s.length>l.length){let f=s;s=l,l=f}let u=new Int32Array(l.length),d=l.length-s.length;S.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(s[f-d],l[f]);return new sn(this.field,u)}subtract(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof sn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new b("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new sn(this.field,new Int32Array([0]));let s=this.coefficients,l=s.length,u=a.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let m=0;m<l;m++){let y=s[m];for(let v=0;v<d;v++)f[m+v]=this.field.add(f[m+v],this.field.multiply(y,u[v]))}return new sn(this.field,f)}negative(){let a=this.coefficients.length,s=new Int32Array(a);for(let l=0;l<a;l++)s[l]=this.field.subtract(0,this.coefficients[l]);return new sn(this.field,s)}multiplyScalar(a){if(a===0)return new sn(this.field,new Int32Array([0]));if(a===1)return this;let s=this.coefficients.length,l=new Int32Array(s);for(let u=0;u<s;u++)l[u]=this.field.multiply(this.coefficients[u],a);return new sn(this.field,l)}multiplyByMonomial(a,s){if(a<0)throw new b;if(s===0)return new sn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+a);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],s);return new sn(this.field,u)}toString(){let a=new re;for(let s=this.getDegree();s>=0;s--){let l=this.getCoefficient(s);l!==0&&(l<0?(a.append(" - "),l=-l):a.length()>0&&a.append(" + "),(s===0||l!==1)&&a.append(l),s!==0&&(s===1?a.append("x"):(a.append("x^"),a.append(s))))}return a.toString()}}class Pw{add(a,s){return(a+s)%this.modulus}subtract(a,s){return(this.modulus+a-s)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new b;return this.logTable[a]}inverse(a){if(a===0)throw new qr;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,s){return a===0||s===0?0:this.expTable[(this.logTable[a]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class wd extends Pw{constructor(a,s){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let l=1;for(let u=0;u<a;u++)this.expTable[u]=l,l=l*s%a;for(let u=0;u<a-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new sn(this,new Int32Array([0])),this.one=new sn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,s){if(a<0)throw new b;if(s===0)return this.zero;let l=new Int32Array(a+1);return l[0]=s,new sn(this,l)}}wd.PDF417_GF=new wd(Se.NUMBER_OF_CODEWORDS,3);class S1{constructor(){this.field=wd.PDF417_GF}decode(a,s,l){let u=new sn(this.field,a),d=new Int32Array(s),f=!1;for(let U=s;U>0;U--){let z=u.evaluateAt(this.field.exp(U));d[s-U]=z,z!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(l!=null)for(const U of l){let z=this.field.exp(a.length-1-U),Y=new sn(this.field,new Int32Array([this.field.subtract(0,z),1]));m=m.multiply(Y)}let y=new sn(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),y,s),C=v[0],k=v[1],D=this.findErrorLocations(C),P=this.findErrorMagnitudes(k,C,D);for(let U=0;U<D.length;U++){let z=a.length-1-this.field.log(D[U]);if(z<0)throw j.getChecksumInstance();a[z]=this.field.subtract(a[z],P[U])}return D.length}runEuclideanAlgorithm(a,s,l){if(a.getDegree()<s.getDegree()){let D=a;a=s,s=D}let u=a,d=s,f=this.field.getZero(),m=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=u,P=f;if(u=d,f=m,u.isZero())throw j.getChecksumInstance();d=D;let U=this.field.getZero(),z=u.getCoefficient(u.getDegree()),Y=this.field.inverse(z);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let Z=d.getDegree()-u.getDegree(),se=this.field.multiply(d.getCoefficient(d.getDegree()),Y);U=U.add(this.field.buildMonomial(Z,se)),d=d.subtract(u.multiplyByMonomial(Z,se))}m=U.multiply(f).subtract(P).negative()}let y=m.getCoefficient(0);if(y===0)throw j.getChecksumInstance();let v=this.field.inverse(y),C=m.multiply(v),k=d.multiply(v);return[C,k]}findErrorLocations(a){let s=a.getDegree(),l=new Int32Array(s),u=0;for(let d=1;d<this.field.getSize()&&u<s;d++)a.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==s)throw j.getChecksumInstance();return l}findErrorMagnitudes(a,s,l){let u=s.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,s.getCoefficient(v));let f=new sn(this.field,d),m=l.length,y=new Int32Array(m);for(let v=0;v<m;v++){let C=this.field.inverse(l[v]),k=this.field.subtract(0,a.evaluateAt(C)),D=this.field.inverse(f.evaluateAt(C));y[v]=this.field.multiply(k,D)}return y}}class fs{constructor(a,s,l,u,d){a instanceof fs?this.constructor_2(a):this.constructor_1(a,s,l,u,d)}constructor_1(a,s,l,u,d){const f=s==null||l==null,m=u==null||d==null;if(f&&m)throw new $;f?(s=new pe(0,u.getY()),l=new pe(0,d.getY())):m&&(u=new pe(a.getWidth()-1,s.getY()),d=new pe(a.getWidth()-1,l.getY())),this.image=a,this.topLeft=s,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(s.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(s.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,s){return a==null?s:s==null?a:new fs(a.image,a.topLeft,a.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(a,s,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(a>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-a);v<0&&(v=0);let C=new pe(y.getX(),v);l?u=C:f=C}if(s>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+s);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let C=new pe(y.getX(),v);l?d=C:m=C}return new fs(this.image,u,d,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Lw{constructor(a,s,l,u){this.columnCount=a,this.errorCorrectionLevel=u,this.rowCountUpperPart=s,this.rowCountLowerPart=l,this.rowCount=s+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class po{constructor(){this.buffer=""}static form(a,s){let l=-1;function u(f,m,y,v,C,k){if(f==="%%")return"%";if(s[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,P;switch(k){case"s":P=s[l];break;case"c":P=s[l][0];break;case"f":P=parseFloat(s[l]).toFixed(f);break;case"p":P=parseFloat(s[l]).toPrecision(f);break;case"e":P=parseFloat(s[l]).toExponential(f);break;case"x":P=parseInt(s[l]).toString(D||16);break;case"d":P=parseFloat(parseInt(s[l],D||10).toPrecision(f)).toFixed(0);break}P=typeof P=="object"?JSON.stringify(P):(+P).toString(D);let U=parseInt(y),z=y&&y[0]+""=="0"?"0":" ";for(;P.length<U;)P=m!==void 0?P+z:z+P;return P}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(d,u)}format(a,...s){this.buffer+=po.form(a,s)}toString(){return this.buffer}}class xo{constructor(a){this.boundingBox=new fs(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let s=this.getCodeword(a);if(s!=null)return s;for(let l=1;l<xo.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(a)-l;if(u>=0&&(s=this.codewords[u],s!=null)||(u=this.imageRowToCodewordIndex(a)+l,u<this.codewords.length&&(s=this.codewords[u],s!=null)))return s}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,s){this.codewords[this.imageRowToCodewordIndex(a)]=s}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new po;let s=0;for(const l of this.codewords){if(l==null){a.format("%3d:    |   %n",s++);continue}a.format("%3d: %3d|%3d%n",s++,l.getRowNumber(),l.getValue())}return a.toString()}}xo.MAX_NEARBY_DISTANCE=5;class yo{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let s=this.values.get(a);s==null&&(s=0),s++,this.values.set(a,s)}getValue(){let a=-1,s=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>a?(a=d.getValue(),s=[],s.push(d.getKey())):d.getValue()===a&&s.push(d.getKey())}return Se.toIntArray(s)}getConfidence(a){return this.values.get(a)}}class _1 extends xo{constructor(a,s){super(a),this._isLeft=s}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,a);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,C=0;for(let k=f;k<m;k++){if(s[k]==null)continue;let D=s[k],P=D.getRowNumber()-y;if(P===0)C++;else if(P===1)v=Math.max(v,C),C=1,y=D.getRowNumber();else if(P<0||D.getRowNumber()>=a.getRowCount()||P>k)s[k]=null;else{let U;v>2?U=(v-2)*P:U=P;let z=U>=k;for(let Y=1;Y<=U&&!z;Y++)z=s[k-Y]!=null;z?s[k]=null:(y=D.getRowNumber(),C=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let s=new Int32Array(a.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=s.length)continue;s[u]++}return s}adjustIncompleteIndicatorColumnRowNumbers(a){let s=this.getBoundingBox(),l=this._isLeft?s.getTopLeft():s.getTopRight(),u=this._isLeft?s.getBottomLeft():s.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),y=-1;for(let v=d;v<f;v++){if(m[v]==null)continue;let C=m[v];C.setRowNumberAsRowIndicatorColumn();let k=C.getRowNumber()-y;k===0||(k===1?y=C.getRowNumber():C.getRowNumber()>=a.getRowCount()?m[v]=null:y=C.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),s=new yo,l=new yo,u=new yo,d=new yo;for(let m of a){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:s.setValue(y+1);break}}if(s.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||s.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<Se.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>Se.MAX_ROWS_IN_BARCODE)return null;let f=new Lw(s.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(a,f),f}removeIncorrectCodewords(a,s){for(let l=0;l<a.length;l++){let u=a[l];if(a[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>s.getRowCount()){a[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==s.getRowCountUpperPart()&&(a[l]=null);break;case 1:(Math.trunc(d/3)!==s.getErrorCorrectionLevel()||d%3!==s.getRowCountLowerPart())&&(a[l]=null);break;case 2:d+1!==s.getColumnCount()&&(a[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class wo{constructor(a,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=Se.MAX_CODEWORDS_IN_BARCODE,s;do s=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let l=this.detectionResultColumns[s].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(s,u,l))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++)if(a[l]!=null&&s[l]!=null&&a[l].getRowNumber()===s[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(a[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let u=s[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=wo.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,s=this.detectionResultColumns[0].getCodewords();for(let l=0;l<s.length;l++){if(s[l]==null)continue;let u=s[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=wo.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,s,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(a)?(l.setRowNumber(a),s=0):++s),s}adjustRowNumbers(a,s,l){if(!this.detectionResultColumns[a-1])return;let u=l[s],d=this.detectionResultColumns[a-1].getCodewords(),f=d;this.detectionResultColumns[a+1]!=null&&(f=this.detectionResultColumns[a+1].getCodewords());let m=new Array(14);m[2]=d[s],m[3]=f[s],s>0&&(m[0]=l[s-1],m[4]=d[s-1],m[5]=f[s-1]),s>1&&(m[8]=l[s-2],m[10]=d[s-2],m[11]=f[s-2]),s<l.length-1&&(m[1]=l[s+1],m[6]=d[s+1],m[7]=f[s+1]),s<l.length-2&&(m[9]=l[s+2],m[12]=d[s+2],m[13]=f[s+2]);for(let y of m)if(wo.adjustRowNumber(u,y))return}static adjustRowNumber(a,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===a.getBucket()?(a.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,s){this.detectionResultColumns[a]=s}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new po;for(let l=0;l<a.getCodewords().length;l++){s.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){s.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){s.format("    |   ");continue}s.format(" %3d|%3d",d.getRowNumber(),d.getValue())}s.format("%n")}return s.toString()}}class vo{constructor(a,s,l,u){this.rowNumber=vo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(s),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==vo.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}vo.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let a=0;a<Se.SYMBOL_TABLE.length;a++){let s=Se.SYMBOL_TABLE[a],l=s&1;for(let u=0;u<Se.BARS_IN_MODULE;u++){let d=0;for(;(s&1)===l;)d+=1,s>>=1;l=s&1,On.RATIOS_TABLE[a]||(On.RATIOS_TABLE[a]=new Array(Se.BARS_IN_MODULE)),On.RATIOS_TABLE[a][Se.BARS_IN_MODULE-u-1]=Math.fround(d/Se.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let s=On.getDecodedCodewordValue(On.sampleBitCounts(a));return s!==-1?s:On.getClosestDecodedValue(a)}static sampleBitCounts(a){let s=Pe.sum(a),l=new Int32Array(Se.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<Se.MODULES_IN_CODEWORD;f++){let m=s/(2*Se.MODULES_IN_CODEWORD)+f*s/Se.MODULES_IN_CODEWORD;d+a[u]<=m&&(d+=a[u],u++),l[u]++}return l}static getDecodedCodewordValue(a){let s=On.getBitValue(a);return Se.getCodeword(s)===-1?-1:s}static getBitValue(a){let s=0;for(let l=0;l<a.length;l++)for(let u=0;u<a[l];u++)s=s<<1|(l%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(a){let s=Pe.sum(a),l=new Array(Se.BARS_IN_MODULE);if(s>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(a[f]/s);let u=Hs.MAX_VALUE,d=-1;this.bSymbolTableReady||On.initialize();for(let f=0;f<On.RATIOS_TABLE.length;f++){let m=0,y=On.RATIOS_TABLE[f];for(let v=0;v<Se.BARS_IN_MODULE;v++){let C=Math.fround(y[v]-l[v]);if(m+=Math.fround(C*C),m>=u)break}m<u&&(u=m,d=Se.SYMBOL_TABLE[f])}return d}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(Se.SYMBOL_TABLE.length).map(A=>new Array(Se.BARS_IN_MODULE));class A1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class T1{static parseLong(a,s=void 0){return parseInt(a,s)}}class k1 extends x{}k1.kind="NullPointerException";class Bw{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,s,l){if(a==null)throw new k1;if(s<0||s>a.length||l<0||s+l>a.length||s+l<0)throw new O;if(l===0)return;for(let u=0;u<l;u++)this.write(a[s+u])}flush(){}close(){}}class Fw extends x{}class Uw extends Bw{constructor(a=32){if(super(),this.count=0,a<0)throw new b("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let l=this.buf.length<<1;if(l-a<0&&(l=a),l<0){if(a<0)throw new Fw;l=E.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,l)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,s,l){if(s<0||s>a.length||l<0||s+l-a.length>0)throw new O;this.ensureCapacity(this.count+l),S.arraycopy(a,s,this.buf,this.count,l),this.count+=l}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var Je;(function(A){A[A.ALPHA=0]="ALPHA",A[A.LOWER=1]="LOWER",A[A.MIXED=2]="MIXED",A[A.PUNCT=3]="PUNCT",A[A.ALPHA_SHIFT=4]="ALPHA_SHIFT",A[A.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Je||(Je={}));function j1(){if(typeof window<"u")return window.BigInt||null;if(typeof Pt<"u")return Pt.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Gl;function Ea(A){if(typeof Gl>"u"&&(Gl=j1()),Gl===null)throw new Error("BigInt is not supported!");return Gl(A)}function zw(){let A=[];A[0]=Ea(1);let a=Ea(900);A[1]=a;for(let s=2;s<16;s++)A[s]=A[s-1]*a;return A}class Q{static decode(a,s){let l=new re(""),u=B.ISO8859_1;l.enableDecoding(u);let d=1,f=a[d++],m=new A1;for(;d<a[0];){switch(f){case Q.TEXT_COMPACTION_MODE_LATCH:d=Q.textCompaction(a,d,l);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:d=Q.byteCompaction(f,a,u,d,l);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(a[d++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:d=Q.numericCompaction(a,d,l);break;case Q.ECI_CHARSET:B.getCharacterSetECIByValue(a[d++]);break;case Q.ECI_GENERAL_PURPOSE:d+=2;break;case Q.ECI_USER_DEFINED:d++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Q.decodeMacroBlock(a,d,m);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new L;default:d--,d=Q.textCompaction(a,d,l);break}if(d<a.length)f=a[d++];else throw L.getFormatInstance()}if(l.length()===0)throw L.getFormatInstance();let y=new jn(null,l.toString(),null,s);return y.setOther(m),y}static decodeMacroBlock(a,s,l){if(s+Q.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw L.getFormatInstance();let u=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Q.NUMBER_OF_SEQUENCE_CODEWORDS;m++,s++)u[m]=a[s];l.setSegmentIndex(E.parseInt(Q.decodeBase900toBase10(u,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new re;s=Q.textCompaction(a,s,d),l.setFileId(d.toString());let f=-1;for(a[s]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=s+1);s<a[0];)switch(a[s]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,a[s]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new re;s=Q.textCompaction(a,s+1,m),l.setFileName(m.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new re;s=Q.textCompaction(a,s+1,y),l.setSender(y.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new re;s=Q.textCompaction(a,s+1,v),l.setAddressee(v.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new re;s=Q.numericCompaction(a,s+1,C),l.setSegmentCount(E.parseInt(C.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let k=new re;s=Q.numericCompaction(a,s+1,k),l.setTimestamp(T1.parseLong(k.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new re;s=Q.numericCompaction(a,s+1,D),l.setChecksum(E.parseInt(D.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let P=new re;s=Q.numericCompaction(a,s+1,P),l.setFileSize(T1.parseLong(P.toString()));break;default:throw L.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:s++,l.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(f!==-1){let m=s-f;l.isLastSegment()&&m--,l.setOptionalData(_.copyOfRange(a,f,f+m))}return s}static textCompaction(a,s,l){let u=new Int32Array((a[0]-s)*2),d=new Int32Array((a[0]-s)*2),f=0,m=!1;for(;s<a[0]&&!m;){let y=a[s++];if(y<Q.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case Q.TEXT_COMPACTION_MODE_LATCH:u[f++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:s--,m=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=a[s++],d[f]=y,f++;break}}return Q.decodeTextCompaction(u,d,f,l),s}static decodeTextCompaction(a,s,l,u){let d=Je.ALPHA,f=Je.ALPHA,m=0;for(;m<l;){let y=a[m],v="";switch(d){case Je.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.LL:d=Je.LOWER;break;case Q.ML:d=Je.MIXED;break;case Q.PS:f=d,d=Je.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case Q.AS:f=d,d=Je.ALPHA_SHIFT;break;case Q.ML:d=Je.MIXED;break;case Q.PS:f=d,d=Je.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.MIXED:if(y<Q.PL)v=Q.MIXED_CHARS[y];else switch(y){case Q.PL:d=Je.PUNCT;break;case 26:v=" ";break;case Q.LL:d=Je.LOWER;break;case Q.AL:d=Je.ALPHA;break;case Q.PS:f=d,d=Je.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.PUNCT:if(y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=Je.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.ALPHA_SHIFT:if(d=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break;case Je.PUNCT_SHIFT:if(d=f,y<Q.PAL)v=Q.PUNCT_CHARS[y];else switch(y){case Q.PAL:d=Je.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(s[m]);break;case Q.TEXT_COMPACTION_MODE_LATCH:d=Je.ALPHA;break}break}v!==""&&u.append(v),m++}}static byteCompaction(a,s,l,u,d){let f=new Uw,m=0,y=0,v=!1;switch(a){case Q.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),k=s[u++];for(;u<s[0]&&!v;)switch(C[m++]=k,y=900*y+k,k=s[u++],k){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(m%5===0&&m>0){for(let D=0;D<6;++D)f.write(Number(Ea(y)>>Ea(8*(5-D))));y=0,m=0}break}u===s[0]&&k<Q.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=k);for(let D=0;D<m;D++)f.write(C[D]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;u<s[0]&&!v;){let D=s[u++];if(D<Q.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+D;else switch(D){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:u--,v=!0;break}if(m%5===0&&m>0){for(let P=0;P<6;++P)f.write(Number(Ea(y)>>Ea(8*(5-P))));y=0,m=0}}break}return d.append(W.decode(f.toByteArray(),l)),u}static numericCompaction(a,s,l){let u=0,d=!1,f=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;s<a[0]&&!d;){let m=a[s++];if(s===a[0]&&(d=!0),m<Q.TEXT_COMPACTION_MODE_LATCH)f[u]=m,u++;else switch(m){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:s--,d=!0;break}(u%Q.MAX_NUMERIC_CODEWORDS===0||m===Q.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(Q.decodeBase900toBase10(f,u)),u=0)}return s}static decodeBase900toBase10(a,s){let l=Ea(0);for(let d=0;d<s;d++)l+=Q.EXP900[s-d-1]*Ea(a[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new L;return u.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=j1()?zw():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class De{constructor(){}static decode(a,s,l,u,d,f,m){let y=new fs(a,s,l,u,d),v=null,C=null,k;for(let U=!0;;U=!1){if(s!=null&&(v=De.getRowIndicatorColumn(a,y,s,!0,f,m)),u!=null&&(C=De.getRowIndicatorColumn(a,y,u,!1,f,m)),k=De.merge(v,C),k==null)throw $.getNotFoundInstance();let z=k.getBoundingBox();if(U&&z!=null&&(z.getMinY()<y.getMinY()||z.getMaxY()>y.getMaxY()))y=z;else break}k.setBoundingBox(y);let D=k.getBarcodeColumnCount()+1;k.setDetectionResultColumn(0,v),k.setDetectionResultColumn(D,C);let P=v!=null;for(let U=1;U<=D;U++){let z=P?U:D-U;if(k.getDetectionResultColumn(z)!==void 0)continue;let Y;z===0||z===D?Y=new _1(y,z===0):Y=new xo(y),k.setDetectionResultColumn(z,Y);let Z=-1,se=Z;for(let ie=y.getMinY();ie<=y.getMaxY();ie++){if(Z=De.getStartColumn(k,z,ie,P),Z<0||Z>y.getMaxX()){if(se===-1)continue;Z=se}let ne=De.detectCodeword(a,y.getMinX(),y.getMaxX(),P,Z,ie,f,m);ne!=null&&(Y.setCodeword(ie,ne),se=Z,f=Math.min(f,ne.getWidth()),m=Math.max(m,ne.getWidth()))}}return De.createDecoderResult(k)}static merge(a,s){if(a==null&&s==null)return null;let l=De.getBarcodeMetadata(a,s);if(l==null)return null;let u=fs.merge(De.adjustBoundingBox(a),De.adjustBoundingBox(s));return new wo(l,u)}static adjustBoundingBox(a){if(a==null)return null;let s=a.getRowHeights();if(s==null)return null;let l=De.getMax(s),u=0;for(let m of s)if(u+=l-m,m>0)break;let d=a.getCodewords();for(let m=0;u>0&&d[m]==null;m++)u--;let f=0;for(let m=s.length-1;m>=0&&(f+=l-s[m],!(s[m]>0));m--);for(let m=d.length-1;f>0&&d[m]==null;m--)f--;return a.getBoundingBox().addMissingRows(u,f,a.isLeft())}static getMax(a){let s=-1;for(let l of a)s=Math.max(s,l);return s}static getBarcodeMetadata(a,s){let l;if(a==null||(l=a.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let u;return s==null||(u=s.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(a,s,l,u,d,f){let m=new _1(s,u);for(let y=0;y<2;y++){let v=y===0?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let k=Math.trunc(Math.trunc(l.getY()));k<=s.getMaxY()&&k>=s.getMinY();k+=v){let D=De.detectCodeword(a,0,a.getWidth(),u,C,k,d,f);D!=null&&(m.setCodeword(k,D),u?C=D.getStartX():C=D.getEndX())}}return m}static adjustCodewordCount(a,s){let l=s[0][1],u=l.getValue(),d=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-De.getNumberOfECCodeWords(a.getBarcodeECLevel());if(u.length===0){if(d<1||d>Se.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(a){let s=De.createBarcodeMatrix(a);De.adjustCodewordCount(a,s);let l=new Array,u=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<a.getBarcodeRowCount();y++)for(let v=0;v<a.getBarcodeColumnCount();v++){let C=s[y][v+1].getValue(),k=y*a.getBarcodeColumnCount()+v;C.length===0?l.push(k):C.length===1?u[k]=C[0]:(f.push(k),d.push(C))}let m=new Array(d.length);for(let y=0;y<m.length;y++)m[y]=d[y];return De.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),u,Se.toIntArray(l),Se.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(a,s,l,u,d){let f=new Int32Array(u.length),m=100;for(;m-- >0;){for(let y=0;y<f.length;y++)s[u[y]]=d[y][f[y]];try{return De.decodeCodewords(s,a,l)}catch(y){if(!(y instanceof j))throw y}if(f.length===0)throw j.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw j.getChecksumInstance()}throw j.getChecksumInstance()}static createBarcodeMatrix(a){let s=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let u=0;u<s.length;u++)for(let d=0;d<s[u].length;d++)s[u][d]=new yo;let l=0;for(let u of a.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=s.length)continue;s[f][l].setValue(d.getValue())}}}l++}return s}static isValidBarcodeColumn(a,s){return s>=0&&s<=a.getBarcodeColumnCount()+1}static getStartColumn(a,s,l,u){let d=u?1:-1,f=null;if(De.isValidBarcodeColumn(a,s-d)&&(f=a.getDetectionResultColumn(s-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=a.getDetectionResultColumn(s).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(De.isValidBarcodeColumn(a,s-d)&&(f=a.getDetectionResultColumn(s-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let m=0;for(;De.isValidBarcodeColumn(a,s-d);){s-=d;for(let y of a.getDetectionResultColumn(s).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+d*m*(y.getEndX()-y.getStartX());m++}return u?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,s,l,u,d,f,m,y){d=De.adjustCodewordStartColumn(a,s,l,u,d,f);let v=De.getModuleBitCount(a,s,l,u,d,f);if(v==null)return null;let C,k=Pe.sum(v);if(u)C=d+k;else{for(let U=0;U<v.length/2;U++){let z=v[U];v[U]=v[v.length-1-U],v[v.length-1-U]=z}C=d,d=C-k}if(!De.checkCodewordSkew(k,m,y))return null;let D=On.getDecodedValue(v),P=Se.getCodeword(D);return P===-1?null:new vo(d,C,De.getCodewordBucketNumber(D),P)}static getModuleBitCount(a,s,l,u,d,f){let m=d,y=new Int32Array(8),v=0,C=u?1:-1,k=u;for(;(u?m<l:m>=s)&&v<y.length;)a.get(m,f)===k?(y[v]++,m+=C):(v++,k=!k);return v===y.length||m===(u?l:s)&&v===y.length-1?y:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,s,l,u,d,f){let m=d,y=u?-1:1;for(let v=0;v<2;v++){for(;(u?m>=s:m<l)&&u===a.get(m,f);){if(Math.abs(d-m)>De.CODEWORD_SKEW_SIZE)return d;m+=y}y=-y,u=!u}return m}static checkCodewordSkew(a,s,l){return s-De.CODEWORD_SKEW_SIZE<=a&&a<=l+De.CODEWORD_SKEW_SIZE}static decodeCodewords(a,s,l){if(a.length===0)throw L.getFormatInstance();let u=1<<s+1,d=De.correctErrors(a,l,u);De.verifyCodewordCount(a,u);let f=Q.decode(a,""+s);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(a,s,l){if(s!=null&&s.length>l/2+De.MAX_ERRORS||l<0||l>De.MAX_EC_CODEWORDS)throw j.getChecksumInstance();return De.errorCorrection.decode(a,l,s)}static verifyCodewordCount(a,s){if(a.length<4)throw L.getFormatInstance();let l=a[0];if(l>a.length)throw L.getFormatInstance();if(l===0)if(s<a.length)a[0]=a.length-s;else throw L.getFormatInstance()}static getBitCountForCodeword(a){let s=new Int32Array(8),l=0,u=s.length-1;for(;!((a&1)!==l&&(l=a&1,u--,u<0));)s[u]++,a>>=1;return s}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return De.getCodewordBucketNumber(De.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let s=new po;for(let l=0;l<a.length;l++){s.format("Row %2d: ",l);for(let u=0;u<a[l].length;u++){let d=a[l][u];d.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}s.format("%n")}return s.toString()}}De.CODEWORD_SKEW_SIZE=2,De.MAX_ERRORS=3,De.MAX_EC_CODEWORDS=512,De.errorCorrection=new S1;class on{decode(a,s=null){let l=on.decode(a,s,!1);if(l==null||l.length===0||l[0]==null)throw $.getNotFoundInstance();return l[0]}decodeMultiple(a,s=null){try{return on.decode(a,s,!0)}catch(l){throw l instanceof L||l instanceof j?$.getNotFoundInstance():l}}static decode(a,s,l){const u=new Array,d=Ie.detectMultiple(a,s,l);for(const f of d.getPoints()){const m=De.decode(d.getBits(),f[4],f[5],f[6],f[7],on.getMinCodewordWidth(f),on.getMaxCodewordWidth(f)),y=new Ze(m.getText(),m.getRawBytes(),void 0,f,ge.PDF_417);y.putMetadata(yt.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&y.putMetadata(yt.PDF417_EXTRA_METADATA,v),u.push(y)}return u.map(f=>f)}static getMaxWidth(a,s){return a==null||s==null?0:Math.trunc(Math.abs(a.getX()-s.getX()))}static getMinWidth(a,s){return a==null||s==null?E.MAX_VALUE:Math.trunc(Math.abs(a.getX()-s.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(on.getMaxWidth(a[0],a[4]),on.getMaxWidth(a[6],a[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.max(on.getMaxWidth(a[1],a[5]),on.getMaxWidth(a[7],a[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(on.getMinWidth(a[0],a[4]),on.getMinWidth(a[6],a[2])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN),Math.min(on.getMinWidth(a[1],a[5]),on.getMinWidth(a[7],a[3])*Se.MODULES_IN_CODEWORD/Se.MODULES_IN_STOP_PATTERN)))}reset(){}}class Yl extends x{}Yl.kind="ReaderException";class I1{constructor(a,s){this.verbose=a===!0,s&&this.setHints(s)}decode(a,s){return s&&this.setHints(s),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const s=!r(a)&&a.get(H.TRY_HARDER)===!0,l=r(a)?null:a.get(H.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const d=l.some(f=>f===ge.UPC_A||f===ge.UPC_E||f===ge.EAN_13||f===ge.EAN_8||f===ge.CODABAR||f===ge.CODE_39||f===ge.CODE_93||f===ge.CODE_128||f===ge.ITF||f===ge.RSS_14||f===ge.RSS_EXPANDED);d&&!s&&u.push(new Ys(a,this.verbose)),l.includes(ge.QR_CODE)&&u.push(new Na),l.includes(ge.DATA_MATRIX)&&u.push(new Ca),l.includes(ge.AZTEC)&&u.push(new hs),l.includes(ge.PDF_417)&&u.push(new on),d&&s&&u.push(new Ys(a,this.verbose))}u.length===0&&(s||u.push(new Ys(a,this.verbose)),u.push(new Na),u.push(new Ca),u.push(new hs),u.push(new on),s&&u.push(new Ys(a,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new Yl("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(a,this.hints)}catch(l){if(l instanceof Yl)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Ww extends It{constructor(a=null,s=500){const l=new I1;l.setHints(a),super(l,s)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Vw extends It{constructor(a=500){super(new on,a)}}class Hw extends It{constructor(a=500){super(new Na,a)}}var vd;(function(A){A[A.ERROR_CORRECTION=0]="ERROR_CORRECTION",A[A.CHARACTER_SET=1]="CHARACTER_SET",A[A.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",A[A.MIN_SIZE=3]="MIN_SIZE",A[A.MAX_SIZE=4]="MAX_SIZE",A[A.MARGIN=5]="MARGIN",A[A.PDF417_COMPACT=6]="PDF417_COMPACT",A[A.PDF417_COMPACTION=7]="PDF417_COMPACTION",A[A.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",A[A.AZTEC_LAYERS=9]="AZTEC_LAYERS",A[A.QR_VERSION=10]="QR_VERSION"})(vd||(vd={}));var Vt=vd;class bd{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Xt(a,Int32Array.from([1])))}buildGenerator(a){const s=this.cachedGenerators;if(a>=s.length){let l=s[s.length-1];const u=this.field;for(let d=s.length;d<=a;d++){const f=l.multiply(new Xt(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));s.push(f),l=f}}return s[a]}encode(a,s){if(s===0)throw new b("No error correction bytes");const l=a.length-s;if(l<=0)throw new b("No data bytes provided");const u=this.buildGenerator(s),d=new Int32Array(l);S.arraycopy(a,0,d,0,l);let f=new Xt(this.field,d);f=f.multiplyByMonomial(s,1);const y=f.divide(u)[1].getCoefficients(),v=s-y.length;for(let C=0;C<v;C++)a[l+C]=0;S.arraycopy(y,0,a,l+v,y.length)}}class Tt{constructor(){}static applyMaskPenaltyRule1(a){return Tt.applyMaskPenaltyRule1Internal(a,!0)+Tt.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let s=0;const l=a.getArray(),u=a.getWidth(),d=a.getHeight();for(let f=0;f<d-1;f++){const m=l[f];for(let y=0;y<u-1;y++){const v=m[y];v===m[y+1]&&v===l[f+1][y]&&v===l[f+1][y+1]&&s++}}return Tt.N2*s}static applyMaskPenaltyRule3(a){let s=0;const l=a.getArray(),u=a.getWidth(),d=a.getHeight();for(let f=0;f<d;f++)for(let m=0;m<u;m++){const y=l[f];m+6<u&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(Tt.isWhiteHorizontal(y,m-4,m)||Tt.isWhiteHorizontal(y,m+7,m+11))&&s++,f+6<d&&l[f][m]===1&&l[f+1][m]===0&&l[f+2][m]===1&&l[f+3][m]===1&&l[f+4][m]===1&&l[f+5][m]===0&&l[f+6][m]===1&&(Tt.isWhiteVertical(l,m,f-4,f)||Tt.isWhiteVertical(l,m,f+7,f+11))&&s++}return s*Tt.N3}static isWhiteHorizontal(a,s,l){s=Math.max(s,0),l=Math.min(l,a.length);for(let u=s;u<l;u++)if(a[u]===1)return!1;return!0}static isWhiteVertical(a,s,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let d=l;d<u;d++)if(a[d][s]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let s=0;const l=a.getArray(),u=a.getWidth(),d=a.getHeight();for(let y=0;y<d;y++){const v=l[y];for(let C=0;C<u;C++)v[C]===1&&s++}const f=a.getHeight()*a.getWidth();return Math.floor(Math.abs(s*2-f)*10/f)*Tt.N4}static getDataMaskBit(a,s,l){let u,d;switch(a){case 0:u=l+s&1;break;case 1:u=l&1;break;case 2:u=s%3;break;case 3:u=(l+s)%3;break;case 4:u=Math.floor(l/2)+Math.floor(s/3)&1;break;case 5:d=l*s,u=(d&1)+d%3;break;case 6:d=l*s,u=(d&1)+d%3&1;break;case 7:d=l*s,u=d%3+(l+s&1)&1;break;default:throw new b("Invalid mask pattern: "+a)}return u===0}static applyMaskPenaltyRule1Internal(a,s){let l=0;const u=s?a.getHeight():a.getWidth(),d=s?a.getWidth():a.getHeight(),f=a.getArray();for(let m=0;m<u;m++){let y=0,v=-1;for(let C=0;C<d;C++){const k=s?f[m][C]:f[C][m];k===v?y++:(y>=5&&(l+=Tt.N1+(y-5)),y=1,v=k)}y>=5&&(l+=Tt.N1+(y-5))}return l}}Tt.N1=3,Tt.N2=3,Tt.N3=40,Tt.N4=10;class Xl{constructor(a,s){this.width=a,this.height=s;const l=new Array(s);for(let u=0;u!==s;u++)l[u]=new Uint8Array(a);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(a,s){return this.bytes[s][a]}getArray(){return this.bytes}setNumber(a,s,l){this.bytes[s][a]=l}setBoolean(a,s,l){this.bytes[s][a]=l?1:0}clear(a){for(const s of this.bytes)_.fill(s,a)}equals(a){if(!(a instanceof Xl))return!1;const s=a;if(this.width!==s.width||this.height!==s.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=s.bytes[l];for(let m=0,y=this.width;m<y;++m)if(d[m]!==f[m])return!1}return!0}toString(){const a=new re;for(let s=0,l=this.height;s<l;++s){const u=this.bytes[s];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class ms{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new re;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<ms.NUM_MASK_PATTERNS}}ms.NUM_MASK_PATTERNS=8;class rt extends x{}rt.kind="WriterException";class Ne{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,s,l,u,d){Ne.clearMatrix(d),Ne.embedBasicPatterns(l,d),Ne.embedTypeInfo(s,u,d),Ne.maybeEmbedVersionInfo(l,d),Ne.embedDataBits(a,u,d)}static embedBasicPatterns(a,s){Ne.embedPositionDetectionPatternsAndSeparators(s),Ne.embedDarkDotAtLeftBottomCorner(s),Ne.maybeEmbedPositionAdjustmentPatterns(a,s),Ne.embedTimingPatterns(s)}static embedTypeInfo(a,s,l){const u=new R;Ne.makeTypeInfoBits(a,s,u);for(let d=0,f=u.getSize();d<f;++d){const m=u.get(u.getSize()-1-d),y=Ne.TYPE_INFO_COORDINATES[d],v=y[0],C=y[1];if(l.setBoolean(v,C,m),d<8){const k=l.getWidth()-d-1;l.setBoolean(k,8,m)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,m)}}}static maybeEmbedVersionInfo(a,s){if(a.getVersionNumber()<7)return;const l=new R;Ne.makeVersionInfoBits(a,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const m=l.get(u);u--,s.setBoolean(d,s.getHeight()-11+f,m),s.setBoolean(s.getHeight()-11+f,d,m)}}static embedDataBits(a,s,l){let u=0,d=-1,f=l.getWidth()-1,m=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<l.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!Ne.isEmpty(l.get(v,m)))continue;let C;u<a.getSize()?(C=a.get(u),++u):C=!1,s!==255&&Tt.getDataMaskBit(s,v,m)&&(C=!C),l.setBoolean(v,m,C)}m+=d}d=-d,m+=d,f-=2}if(u!==a.getSize())throw new rt("Not all bits consumed: "+u+"/"+a.getSize())}static findMSBSet(a){return 32-E.numberOfLeadingZeros(a)}static calculateBCHCode(a,s){if(s===0)throw new b("0 polynomial");const l=Ne.findMSBSet(s);for(a<<=l-1;Ne.findMSBSet(a)>=l;)a^=s<<Ne.findMSBSet(a)-l;return a}static makeTypeInfoBits(a,s,l){if(!ms.isValidMaskPattern(s))throw new rt("Invalid mask pattern");const u=a.getBits()<<3|s;l.appendBits(u,5);const d=Ne.calculateBCHCode(u,Ne.TYPE_INFO_POLY);l.appendBits(d,10);const f=new R;if(f.appendBits(Ne.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new rt("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(a,s){s.appendBits(a.getVersionNumber(),6);const l=Ne.calculateBCHCode(a.getVersionNumber(),Ne.VERSION_INFO_POLY);if(s.appendBits(l,12),s.getSize()!==18)throw new rt("should not happen but we got: "+s.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let s=8;s<a.getWidth()-8;++s){const l=(s+1)%2;Ne.isEmpty(a.get(s,6))&&a.setNumber(s,6,l),Ne.isEmpty(a.get(6,s))&&a.setNumber(6,s,l)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new rt;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,s,l){for(let u=0;u<8;++u){if(!Ne.isEmpty(l.get(a+u,s)))throw new rt;l.setNumber(a+u,s,0)}}static embedVerticalSeparationPattern(a,s,l){for(let u=0;u<7;++u){if(!Ne.isEmpty(l.get(a,s+u)))throw new rt;l.setNumber(a,s+u,0)}}static embedPositionAdjustmentPattern(a,s,l){for(let u=0;u<5;++u){const d=Ne.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(a+f,s+u,d[f])}}static embedPositionDetectionPattern(a,s,l){for(let u=0;u<7;++u){const d=Ne.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(a+f,s+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(a){const s=Ne.POSITION_DETECTION_PATTERN[0].length;Ne.embedPositionDetectionPattern(0,0,a),Ne.embedPositionDetectionPattern(a.getWidth()-s,0,a),Ne.embedPositionDetectionPattern(0,a.getWidth()-s,a);const l=8;Ne.embedHorizontalSeparationPattern(0,l-1,a),Ne.embedHorizontalSeparationPattern(a.getWidth()-l,l-1,a),Ne.embedHorizontalSeparationPattern(0,a.getWidth()-l,a);const u=7;Ne.embedVerticalSeparationPattern(u,0,a),Ne.embedVerticalSeparationPattern(a.getHeight()-u-1,0,a),Ne.embedVerticalSeparationPattern(u,a.getHeight()-u,a)}static maybeEmbedPositionAdjustmentPatterns(a,s){if(a.getVersionNumber()<2)return;const l=a.getVersionNumber()-1,u=Ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const m=u[d];if(m>=0)for(let y=0;y!==f;y++){const v=u[y];v>=0&&Ne.isEmpty(s.get(v,m))&&Ne.embedPositionAdjustmentPattern(v-2,m-2,s)}}}}Ne.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ne.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ne.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ne.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ne.VERSION_INFO_POLY=7973,Ne.TYPE_INFO_POLY=1335,Ne.TYPE_INFO_MASK_PATTERN=21522;class $w{constructor(a,s){this.dataBytes=a,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class ht{constructor(){}static calculateMaskPenalty(a){return Tt.applyMaskPenaltyRule1(a)+Tt.applyMaskPenaltyRule2(a)+Tt.applyMaskPenaltyRule3(a)+Tt.applyMaskPenaltyRule4(a)}static encode(a,s,l=null){let u=ht.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(Vt.CHARACTER_SET)!==void 0;d&&(u=l.get(Vt.CHARACTER_SET).toString());const f=this.chooseMode(a,u),m=new R;if(f===be.BYTE&&(d||ht.DEFAULT_BYTE_MODE_ENCODING!==u)){const ie=B.getCharacterSetECIByName(u);ie!==void 0&&this.appendECI(ie,m)}this.appendModeInfo(f,m);const y=new R;this.appendBytes(a,f,y,u);let v;if(l!==null&&l.get(Vt.QR_VERSION)!==void 0){const ie=Number.parseInt(l.get(Vt.QR_VERSION).toString(),10);v=ve.getVersionForNumber(ie);const ne=this.calculateBitsNeeded(f,m,y,v);if(!this.willFit(ne,v,s))throw new rt("Data too big for requested version")}else v=this.recommendVersion(s,f,m,y);const C=new R;C.appendBitArray(m);const k=f===be.BYTE?y.getSizeInBytes():a.length;this.appendLengthInfo(k,v,f,C),C.appendBitArray(y);const D=v.getECBlocksForLevel(s),P=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(P,C);const U=this.interleaveWithECBytes(C,v.getTotalCodewords(),P,D.getNumBlocks()),z=new ms;z.setECLevel(s),z.setMode(f),z.setVersion(v);const Y=v.getDimensionForVersion(),Z=new Xl(Y,Y),se=this.chooseMaskPattern(U,s,v,Z);return z.setMaskPattern(se),Ne.buildMatrix(U,s,v,se,Z),z.setMatrix(Z),z}static recommendVersion(a,s,l,u){const d=this.calculateBitsNeeded(s,l,u,ve.getVersionForNumber(1)),f=this.chooseVersion(d,a),m=this.calculateBitsNeeded(s,l,u,f);return this.chooseVersion(m,a)}static calculateBitsNeeded(a,s,l,u){return s.getSize()+a.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(a){return a<ht.ALPHANUMERIC_TABLE.length?ht.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,s=null){if(B.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(a))return be.KANJI;let l=!1,u=!1;for(let d=0,f=a.length;d<f;++d){const m=a.charAt(d);if(ht.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return be.BYTE}return u?be.ALPHANUMERIC:l?be.NUMERIC:be.BYTE}static isOnlyDoubleByteKanji(a){let s;try{s=W.encode(a,B.SJIS)}catch{return!1}const l=s.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=s[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(a,s,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<ms.NUM_MASK_PATTERNS;m++){Ne.buildMatrix(a,s,l,m,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=m)}return f}static chooseVersion(a,s){for(let l=1;l<=40;l++){const u=ve.getVersionForNumber(l);if(ht.willFit(a,u,s))return u}throw new rt("Data too big")}static willFit(a,s,l){const u=s.getTotalCodewords(),f=s.getECBlocksForLevel(l).getTotalECCodewords(),m=u-f,y=(a+7)/8;return m>=y}static terminateBits(a,s){const l=a*8;if(s.getSize()>l)throw new rt("data bits cannot fit in the QR Code"+s.getSize()+" > "+l);for(let f=0;f<4&&s.getSize()<l;++f)s.appendBit(!1);const u=s.getSize()&7;if(u>0)for(let f=u;f<8;f++)s.appendBit(!1);const d=a-s.getSizeInBytes();for(let f=0;f<d;++f)s.appendBits(f&1?17:236,8);if(s.getSize()!==l)throw new rt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,s,l,u,d,f){if(u>=l)throw new rt("Block ID too large");const m=a%l,y=l-m,v=Math.floor(a/l),C=v+1,k=Math.floor(s/l),D=k+1,P=v-k,U=C-D;if(P!==U)throw new rt("EC bytes mismatch");if(l!==y+m)throw new rt("RS blocks mismatch");if(a!==(k+P)*y+(D+U)*m)throw new rt("Total bytes mismatch");u<y?(d[0]=k,f[0]=P):(d[0]=D,f[0]=U)}static interleaveWithECBytes(a,s,l,u){if(a.getSizeInBytes()!==l)throw new rt("Number of bits and data bytes does not match");let d=0,f=0,m=0;const y=new Array;for(let C=0;C<u;++C){const k=new Int32Array(1),D=new Int32Array(1);ht.getNumDataBytesAndNumECBytesForBlockID(s,l,u,C,k,D);const P=k[0],U=new Uint8Array(P);a.toBytes(8*d,U,0,P);const z=ht.generateECBytes(U,D[0]);y.push(new $w(U,z)),f=Math.max(f,P),m=Math.max(m,z.length),d+=k[0]}if(l!==d)throw new rt("Data bytes does not match offset");const v=new R;for(let C=0;C<f;++C)for(const k of y){const D=k.getDataBytes();C<D.length&&v.appendBits(D[C],8)}for(let C=0;C<m;++C)for(const k of y){const D=k.getErrorCorrectionBytes();C<D.length&&v.appendBits(D[C],8)}if(s!==v.getSizeInBytes())throw new rt("Interleaving error: "+s+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(a,s){const l=a.length,u=new Int32Array(l+s);for(let f=0;f<l;f++)u[f]=a[f]&255;new bd(Be.QR_CODE_FIELD_256).encode(u,s);const d=new Uint8Array(s);for(let f=0;f<s;f++)d[f]=u[l+f];return d}static appendModeInfo(a,s){s.appendBits(a.getBits(),4)}static appendLengthInfo(a,s,l,u){const d=l.getCharacterCountBits(s);if(a>=1<<d)throw new rt(a+" is bigger than "+((1<<d)-1));u.appendBits(a,d)}static appendBytes(a,s,l,u){switch(s){case be.NUMERIC:ht.appendNumericBytes(a,l);break;case be.ALPHANUMERIC:ht.appendAlphanumericBytes(a,l);break;case be.BYTE:ht.append8BitBytes(a,l,u);break;case be.KANJI:ht.appendKanjiBytes(a,l);break;default:throw new rt("Invalid mode: "+s)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const s=ht.getDigit(a);return s>=0&&s<=9}static appendNumericBytes(a,s){const l=a.length;let u=0;for(;u<l;){const d=ht.getDigit(a.charAt(u));if(u+2<l){const f=ht.getDigit(a.charAt(u+1)),m=ht.getDigit(a.charAt(u+2));s.appendBits(d*100+f*10+m,10),u+=3}else if(u+1<l){const f=ht.getDigit(a.charAt(u+1));s.appendBits(d*10+f,7),u+=2}else s.appendBits(d,4),u++}}static appendAlphanumericBytes(a,s){const l=a.length;let u=0;for(;u<l;){const d=ht.getAlphanumericCode(a.charCodeAt(u));if(d===-1)throw new rt;if(u+1<l){const f=ht.getAlphanumericCode(a.charCodeAt(u+1));if(f===-1)throw new rt;s.appendBits(d*45+f,11),u+=2}else s.appendBits(d,6),u++}}static append8BitBytes(a,s,l){let u;try{u=W.encode(a,l)}catch(d){throw new rt(d)}for(let d=0,f=u.length;d!==f;d++){const m=u[d];s.appendBits(m,8)}}static appendKanjiBytes(a,s){let l;try{l=W.encode(a,B.SJIS)}catch(d){throw new rt(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,m=l[d+1]&255,y=f<<8&4294967295|m;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new rt("Invalid byte sequence");const C=(v>>8)*192+(v&255);s.appendBits(C,13)}}static appendECI(a,s){s.appendBits(be.ECI.getBits(),4),s.appendBits(a.getValue(),8)}}ht.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),ht.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class gs{write(a,s,l,u=null){if(a.length===0)throw new b("Found empty contents");if(s<0||l<0)throw new b("Requested dimensions are too small: "+s+"x"+l);let d=ot.L,f=gs.QUIET_ZONE_SIZE;u!==null&&(u.get(Vt.ERROR_CORRECTION)!==void 0&&(d=ot.fromString(u.get(Vt.ERROR_CORRECTION).toString())),u.get(Vt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(Vt.MARGIN).toString(),10)));const m=ht.encode(a,d,u);return this.renderResult(m,s,l,f)}writeToDom(a,s,l,u,d=null){typeof a=="string"&&(a=document.querySelector(a));const f=this.write(s,l,u,d);a&&a.appendChild(f)}renderResult(a,s,l,u){const d=a.getMatrix();if(d===null)throw new hn;const f=d.getWidth(),m=d.getHeight(),y=f+u*2,v=m+u*2,C=Math.max(s,y),k=Math.max(l,v),D=Math.min(Math.floor(C/y),Math.floor(k/v)),P=Math.floor((C-f*D)/2),U=Math.floor((k-m*D)/2),z=this.createSVGElement(C,k);for(let Y=0,Z=U;Y<m;Y++,Z+=D)for(let se=0,ie=P;se<f;se++,ie+=D)if(d.get(se,Y)===1){const ne=this.createSvgRectElement(ie,Z,D,D);z.appendChild(ne)}return z}createSVGElement(a,s){const l=document.createElementNS(gs.SVG_NS,"svg");return l.setAttributeNS(null,"height",a.toString()),l.setAttributeNS(null,"width",s.toString()),l}createSvgRectElement(a,s,l,u){const d=document.createElementNS(gs.SVG_NS,"rect");return d.setAttributeNS(null,"x",a.toString()),d.setAttributeNS(null,"y",s.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}gs.QUIET_ZONE_SIZE=4,gs.SVG_NS="http://www.w3.org/2000/svg";class Ks{encode(a,s,l,u,d){if(a.length===0)throw new b("Found empty contents");if(s!==ge.QR_CODE)throw new b("Can only encode QR_CODE, but got "+s);if(l<0||u<0)throw new b(`Requested dimensions are too small: ${l}x${u}`);let f=ot.L,m=Ks.QUIET_ZONE_SIZE;d!==null&&(d.get(Vt.ERROR_CORRECTION)!==void 0&&(f=ot.fromString(d.get(Vt.ERROR_CORRECTION).toString())),d.get(Vt.MARGIN)!==void 0&&(m=Number.parseInt(d.get(Vt.MARGIN).toString(),10)));const y=ht.encode(a,f,d);return Ks.renderResult(y,l,u,m)}static renderResult(a,s,l,u){const d=a.getMatrix();if(d===null)throw new hn;const f=d.getWidth(),m=d.getHeight(),y=f+u*2,v=m+u*2,C=Math.max(s,y),k=Math.max(l,v),D=Math.min(Math.floor(C/y),Math.floor(k/v)),P=Math.floor((C-f*D)/2),U=Math.floor((k-m*D)/2),z=new ye(C,k);for(let Y=0,Z=U;Y<m;Y++,Z+=D)for(let se=0,ie=P;se<f;se++,ie+=D)d.get(se,Y)===1&&z.setRegion(ie,Z,D,D);return z}}Ks.QUIET_ZONE_SIZE=4;class Gw{encode(a,s,l,u,d){let f;switch(s){case ge.QR_CODE:f=new Ks;break;default:throw new b("No encoder available for format "+s)}return f.encode(a,s,l,u,d)}}class Rr extends oe{constructor(a,s,l,u,d,f,m,y){if(super(f,m),this.yuvData=a,this.dataWidth=s,this.dataHeight=l,this.left=u,this.top=d,u+f>s||d+m>l)throw new b("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,m)}getRow(a,s){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const u=(a+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,u,s,0,l),s}getMatrix(){const a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.yuvData;const l=a*s,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return S.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<s;f++){const m=f*a;S.arraycopy(this.yuvData,d,u,m,a),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(a,s,l,u){return new Rr(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+s,l,u,!1)}renderThumbnail(){const a=this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(a*s),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<s;f++){const m=f*a;for(let y=0;y<a;y++){const v=u[d+y*Rr.THUMBNAIL_SCALE_FACTOR]&255;l[m+y]=4278190080|v*65793}d+=this.dataWidth*Rr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/Rr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,s){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<s;u++,d+=this.dataWidth){const f=d+a/2;for(let m=d,y=d+a-1;m<f;m++,y--){const v=l[m];l[m]=l[y],l[y]=v}}}invert(){return new de(this)}}Rr.THUMBNAIL_SCALE_FACTOR=2;class Cd extends oe{constructor(a,s,l,u,d,f,m){if(super(s,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=m,a.BYTES_PER_ELEMENT===4){const y=s*l,v=new Uint8ClampedArray(y);for(let C=0;C<y;C++){const k=a[C],D=k>>16&255,P=k>>7&510,U=k&255;v[C]=(D+P+U)/4&255}this.luminances=v}else this.luminances=a;if(u===void 0&&(this.dataWidth=s),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+l>this.dataHeight)throw new b("Crop rectangle does not fit within image data.")}getRow(a,s){if(a<0||a>=this.getHeight())throw new b("Requested row is outside the image: "+a);const l=this.getWidth();(s==null||s.length<l)&&(s=new Uint8ClampedArray(l));const u=(a+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,u,s,0,l),s}getMatrix(){const a=this.getWidth(),s=this.getHeight();if(a===this.dataWidth&&s===this.dataHeight)return this.luminances;const l=a*s,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return S.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<s;f++){const m=f*a;S.arraycopy(this.luminances,d,u,m,a),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(a,s,l,u){return new Cd(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+a,this.top+s)}invert(){return new de(this)}}class O1 extends B{static forName(a){return this.getCharacterSetECIByName(a)}}class Nd{}Nd.ISO_8859_1=B.ISO8859_1;class D1{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class M1{static singletonList(a){return[a]}static min(a,s){return a.sort(s)[0]}}class Yw{constructor(a){this.previous=a}getPrevious(){return this.previous}}class qs extends Yw{constructor(a,s,l){super(a),this.value=s,this.bitCount=l}appendTo(a,s){a.appendBits(this.value,this.bitCount)}add(a,s){return new qs(this,a,s)}addBinaryShift(a,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new qs(this,a,s)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+E.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class Ed extends qs{constructor(a,s,l){super(a,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=l}appendTo(a,s){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):l===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(s[this.binaryShiftStart+l],8)}addBinaryShift(a,s){return new Ed(this,a,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Xw(A,a,s){return new Ed(A,a,s)}function bo(A,a,s){return new qs(A,a,s)}const Kw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Sa=0,Kl=1,ir=2,R1=3,Pr=4,qw=new qs(null,0,0),Sd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Qw(A){for(let a of A)_.fill(a,-1);return A[Sa][Pr]=0,A[Kl][Pr]=0,A[Kl][Sa]=28,A[R1][Pr]=0,A[ir][Pr]=0,A[ir][Sa]=15,A}const P1=Qw(_.createInt32Array(6,6));class Lr{constructor(a,s,l,u){this.token=a,this.mode=s,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,s){let l=this.bitCount,u=this.token;if(a!==this.mode){let f=Sd[this.mode][a];u=bo(u,f&65535,f>>16),l+=f>>16}let d=a===ir?4:5;return u=bo(u,s,d),new Lr(u,a,0,l+d)}shiftAndAppend(a,s){let l=this.token,u=this.mode===ir?4:5;return l=bo(l,P1[this.mode][a],u),l=bo(l,s,5),new Lr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(a){let s=this.token,l=this.mode,u=this.bitCount;if(this.mode===Pr||this.mode===ir){let m=Sd[l][Sa];s=bo(s,m&65535,m>>16),u+=m>>16,l=Sa}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new Lr(s,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(a+1)),f}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=Xw(s,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Lr(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let s=this.bitCount+(Sd[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?s+=Lr.calculateBinaryShiftCost(a)-Lr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(s+=10),s<=a.bitCount}toBitArray(a){let s=[];for(let u=this.endBinaryShift(a.length).token;u!==null;u=u.getPrevious())s.unshift(u);let l=new R;for(const u of s)u.appendTo(l,a);return l}toString(){return q.format("%s bits=%d bytes=%d",Kw[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Lr.INITIAL_STATE=new Lr(qw,Sa,0,0);function Zw(A){const a=q.getCharCode(" "),s=q.getCharCode("."),l=q.getCharCode(",");A[Sa][a]=1;const u=q.getCharCode("Z"),d=q.getCharCode("A");for(let D=d;D<=u;D++)A[Sa][D]=D-d+2;A[Kl][a]=1;const f=q.getCharCode("z"),m=q.getCharCode("a");for(let D=m;D<=f;D++)A[Kl][D]=D-m+2;A[ir][a]=1;const y=q.getCharCode("9"),v=q.getCharCode("0");for(let D=v;D<=y;D++)A[ir][D]=D-v+2;A[ir][l]=12,A[ir][s]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<C.length;D++)A[R1][q.getCharCode(C[D])]=D;const k=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<k.length;D++)q.getCharCode(k[D])>0&&(A[Pr][q.getCharCode(k[D])]=D);return A}const _d=Zw(_.createInt32Array(5,256));class Co{constructor(a){this.text=a}encode(){const a=q.getCharCode(" "),s=q.getCharCode(`
`);let l=M1.singletonList(Lr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,m=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case q.getCharCode("\r"):f=m===s?2:0;break;case q.getCharCode("."):f=m===a?3:0;break;case q.getCharCode(","):f=m===a?4:0;break;case q.getCharCode(":"):f=m===a?5:0;break;default:f=0}f>0?(l=Co.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return M1.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,s){const l=[];for(let u of a)this.updateStateForChar(u,s,l);return Co.simplifyStates(l)}updateStateForChar(a,s,l){let u=this.text[s]&255,d=_d[a.getMode()][u]>0,f=null;for(let m=0;m<=Pr;m++){let y=_d[m][u];if(y>0){if(f==null&&(f=a.endBinaryShift(s)),!d||m===a.getMode()||m===ir){const v=f.latchAndAppend(m,y);l.push(v)}if(!d&&P1[a.getMode()][m]>=0){const v=f.shiftAndAppend(m,y);l.push(v)}}}if(a.getBinaryShiftByteCount()>0||_d[a.getMode()][u]===0){let m=a.addBinaryShiftChar(s);l.push(m)}}static updateStateListForPair(a,s,l){const u=[];for(let d of a)this.updateStateForPair(d,s,l,u);return this.simplifyStates(u)}static updateStateForPair(a,s,l,u){let d=a.endBinaryShift(s);if(u.push(d.latchAndAppend(Pr,l)),a.getMode()!==Pr&&u.push(d.shiftAndAppend(Pr,l)),l===3||l===4){let f=d.latchAndAppend(ir,16-l).latchAndAppend(ir,1);u.push(f)}if(a.getBinaryShiftByteCount()>0){let f=a.addBinaryShiftChar(s).addBinaryShiftChar(s+1);u.push(f)}}static simplifyStates(a){let s=[];for(const l of a){let u=!0;for(const d of s){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(s=s.filter(f=>f!==d))}u&&s.push(l)}return s}}class ze{constructor(){}static encodeBytes(a){return ze.encode(a,ze.DEFAULT_EC_PERCENT,ze.DEFAULT_AZTEC_LAYERS)}static encode(a,s,l){let u=new Co(a).encode(),d=E.truncDivision(u.getSize()*s,100)+11,f=u.getSize()+d,m,y,v,C,k;if(l!==ze.DEFAULT_AZTEC_LAYERS){if(m=l<0,y=Math.abs(l),y>(m?ze.MAX_NB_BITS_COMPACT:ze.MAX_NB_BITS))throw new b(q.format("Illegal value %s for layers",l));v=ze.totalBitsInLayer(y,m),C=ze.WORD_SIZE[y];let ne=v-v%C;if(k=ze.stuffBits(u,C),k.getSize()+d>ne)throw new b("Data to large for user specified layer");if(m&&k.getSize()>C*64)throw new b("Data to large for user specified layer")}else{C=0,k=null;for(let ne=0;;ne++){if(ne>ze.MAX_NB_BITS)throw new b("Data too large for an Aztec code");if(m=ne<=3,y=m?ne+1:ne,v=ze.totalBitsInLayer(y,m),f>v)continue;(k==null||C!==ze.WORD_SIZE[y])&&(C=ze.WORD_SIZE[y],k=ze.stuffBits(u,C));let Le=v-v%C;if(!(m&&k.getSize()>C*64)&&k.getSize()+d<=Le)break}}let D=ze.generateCheckWords(k,v,C),P=k.getSize()/C,U=ze.generateModeMessage(m,y,P),z=(m?11:14)+y*4,Y=new Int32Array(z),Z;if(m){Z=z;for(let ne=0;ne<Y.length;ne++)Y[ne]=ne}else{Z=z+1+2*E.truncDivision(E.truncDivision(z,2)-1,15);let ne=E.truncDivision(z,2),Le=E.truncDivision(Z,2);for(let Te=0;Te<ne;Te++){let Dn=Te+E.truncDivision(Te,15);Y[ne-Te-1]=Le-Dn-1,Y[ne+Te]=Le+Dn+1}}let se=new ye(Z);for(let ne=0,Le=0;ne<y;ne++){let Te=(y-ne)*4+(m?9:12);for(let Dn=0;Dn<Te;Dn++){let wr=Dn*2;for(let Mn=0;Mn<2;Mn++)D.get(Le+wr+Mn)&&se.set(Y[ne*2+Mn],Y[ne*2+Dn]),D.get(Le+Te*2+wr+Mn)&&se.set(Y[ne*2+Dn],Y[z-1-ne*2-Mn]),D.get(Le+Te*4+wr+Mn)&&se.set(Y[z-1-ne*2-Mn],Y[z-1-ne*2-Dn]),D.get(Le+Te*6+wr+Mn)&&se.set(Y[z-1-ne*2-Dn],Y[ne*2+Mn])}Le+=Te*8}if(ze.drawModeMessage(se,m,Z,U),m)ze.drawBullsEye(se,E.truncDivision(Z,2),5);else{ze.drawBullsEye(se,E.truncDivision(Z,2),7);for(let ne=0,Le=0;ne<E.truncDivision(z,2)-1;ne+=15,Le+=16)for(let Te=E.truncDivision(Z,2)&1;Te<Z;Te+=2)se.set(E.truncDivision(Z,2)-Le,Te),se.set(E.truncDivision(Z,2)+Le,Te),se.set(Te,E.truncDivision(Z,2)-Le),se.set(Te,E.truncDivision(Z,2)+Le)}let ie=new D1;return ie.setCompact(m),ie.setSize(Z),ie.setLayers(y),ie.setCodeWords(P),ie.setMatrix(se),ie}static drawBullsEye(a,s,l){for(let u=0;u<l;u+=2)for(let d=s-u;d<=s+u;d++)a.set(d,s-u),a.set(d,s+u),a.set(s-u,d),a.set(s+u,d);a.set(s-l,s-l),a.set(s-l+1,s-l),a.set(s-l,s-l+1),a.set(s+l,s-l),a.set(s+l,s-l+1),a.set(s+l,s+l-1)}static generateModeMessage(a,s,l){let u=new R;return a?(u.appendBits(s-1,2),u.appendBits(l-1,6),u=ze.generateCheckWords(u,28,4)):(u.appendBits(s-1,5),u.appendBits(l-1,11),u=ze.generateCheckWords(u,40,4)),u}static drawModeMessage(a,s,l,u){let d=E.truncDivision(l,2);if(s)for(let f=0;f<7;f++){let m=d-3+f;u.get(f)&&a.set(m,d-5),u.get(f+7)&&a.set(d+5,m),u.get(20-f)&&a.set(m,d+5),u.get(27-f)&&a.set(d-5,m)}else for(let f=0;f<10;f++){let m=d-5+f+E.truncDivision(f,5);u.get(f)&&a.set(m,d-7),u.get(f+10)&&a.set(d+7,m),u.get(29-f)&&a.set(m,d+7),u.get(39-f)&&a.set(d-7,m)}}static generateCheckWords(a,s,l){let u=a.getSize()/l,d=new bd(ze.getGF(l)),f=E.truncDivision(s,l),m=ze.bitsToWords(a,l,f);d.encode(m,f-u);let y=s%l,v=new R;v.appendBits(0,y);for(const C of Array.from(m))v.appendBits(C,l);return v}static bitsToWords(a,s,l){let u=new Int32Array(l),d,f;for(d=0,f=a.getSize()/s;d<f;d++){let m=0;for(let y=0;y<s;y++)m|=a.get(d*s+y)?1<<s-y-1:0;u[d]=m}return u}static getGF(a){switch(a){case 4:return Be.AZTEC_PARAM;case 6:return Be.AZTEC_DATA_6;case 8:return Be.AZTEC_DATA_8;case 10:return Be.AZTEC_DATA_10;case 12:return Be.AZTEC_DATA_12;default:throw new b("Unsupported word size "+a)}}static stuffBits(a,s){let l=new R,u=a.getSize(),d=(1<<s)-2;for(let f=0;f<u;f+=s){let m=0;for(let y=0;y<s;y++)(f+y>=u||a.get(f+y))&&(m|=1<<s-1-y);(m&d)===d?(l.appendBits(m&d,s),f--):m&d?l.appendBits(m,s):(l.appendBits(m|1,s),f--)}return l}static totalBitsInLayer(a,s){return((s?88:112)+16*a)*a}}ze.DEFAULT_EC_PERCENT=33,ze.DEFAULT_AZTEC_LAYERS=0,ze.MAX_NB_BITS=32,ze.MAX_NB_BITS_COMPACT=4,ze.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ql{encode(a,s,l,u){return this.encodeWithHints(a,s,l,u,null)}encodeWithHints(a,s,l,u,d){let f=Nd.ISO_8859_1,m=ze.DEFAULT_EC_PERCENT,y=ze.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(Vt.CHARACTER_SET)&&(f=O1.forName(d.get(Vt.CHARACTER_SET).toString())),d.has(Vt.ERROR_CORRECTION)&&(m=E.parseInt(d.get(Vt.ERROR_CORRECTION).toString())),d.has(Vt.AZTEC_LAYERS)&&(y=E.parseInt(d.get(Vt.AZTEC_LAYERS).toString()))),ql.encodeLayers(a,s,l,u,f,m,y)}static encodeLayers(a,s,l,u,d,f,m){if(s!==ge.AZTEC)throw new b("Can only encode AZTEC, but got "+s);let y=ze.encode(q.getBytes(a,d),f,m);return ql.renderResult(y,l,u)}static renderResult(a,s,l){let u=a.getMatrix();if(u==null)throw new hn;let d=u.getWidth(),f=u.getHeight(),m=Math.max(s,d),y=Math.max(l,f),v=Math.min(m/d,y/f),C=(m-d*v)/2,k=(y-f*v)/2,D=new ye(m,y);for(let P=0,U=k;P<f;P++,U+=v)for(let z=0,Y=C;z<d;z++,Y+=v)u.get(z,P)&&D.setRegion(Y,U,v,v);return D}}n.AbstractExpandedDecoder=Gs,n.ArgumentException=w,n.ArithmeticException=qr,n.AztecCode=D1,n.AztecCodeReader=hs,n.AztecCodeWriter=ql,n.AztecDecoder=Xe,n.AztecDetector=ho,n.AztecDetectorResult=co,n.AztecEncoder=ze,n.AztecHighLevelEncoder=Co,n.AztecPoint=zt,n.BarcodeFormat=ge,n.Binarizer=I,n.BinaryBitmap=N,n.BitArray=R,n.BitMatrix=ye,n.BitSource=gd,n.BrowserAztecCodeReader=dd,n.BrowserBarcodeReader=kw,n.BrowserCodeReader=It,n.BrowserDatamatrixCodeReader=Iw,n.BrowserMultiFormatReader=Ww,n.BrowserPDF417Reader=Vw,n.BrowserQRCodeReader=Hw,n.BrowserQRCodeSvgWriter=gs,n.CharacterSetECI=B,n.ChecksumException=j,n.Code128Reader=le,n.Code39Reader=Ot,n.DataMatrixDecodedBitStreamParser=ba,n.DataMatrixReader=Ca,n.DecodeHintType=H,n.DecoderResult=jn,n.DefaultGridSampler=Vl,n.DetectorResult=$s,n.EAN13Reader=Dr,n.EncodeHintType=Vt,n.Exception=x,n.FormatException=L,n.GenericGF=Be,n.GenericGFPoly=Xt,n.GlobalHistogramBinarizer=J,n.GridSampler=uo,n.GridSamplerInstance=Or,n.HTMLCanvasElementLuminanceSource=ue,n.HybridBinarizer=ce,n.ITFReader=Ge,n.IllegalArgumentException=b,n.IllegalStateException=hn,n.InvertedLuminanceSource=de,n.LuminanceSource=oe,n.MathUtils=Pe,n.MultiFormatOneDReader=Ys,n.MultiFormatReader=I1,n.MultiFormatWriter=Gw,n.NotFoundException=$,n.OneDReader=ut,n.PDF417DecodedBitStreamParser=Q,n.PDF417DecoderErrorCorrection=S1,n.PDF417Reader=on,n.PDF417ResultMetadata=A1,n.PerspectiveTransform=Vn,n.PlanarYUVLuminanceSource=Rr,n.QRCodeByteMatrix=Xl,n.QRCodeDataMask=ar,n.QRCodeDecodedBitStreamParser=bt,n.QRCodeDecoderErrorCorrectionLevel=ot,n.QRCodeDecoderFormatInformation=pn,n.QRCodeEncoder=ht,n.QRCodeEncoderQRCode=ms,n.QRCodeMaskUtil=Tt,n.QRCodeMatrixUtil=Ne,n.QRCodeMode=be,n.QRCodeReader=Na,n.QRCodeVersion=ve,n.QRCodeWriter=Ks,n.RGBLuminanceSource=Cd,n.RSS14Reader=At,n.RSSExpandedReader=te,n.ReaderException=Yl,n.ReedSolomonDecoder=Kt,n.ReedSolomonEncoder=bd,n.ReedSolomonException=st,n.Result=Ze,n.ResultMetadataType=yt,n.ResultPoint=pe,n.StringUtils=q,n.UnsupportedOperationException=V,n.VideoInputDevice=Oe,n.WhiteRectangleDetector=pr,n.WriterException=rt,n.ZXingArrays=_,n.ZXingCharset=O1,n.ZXingInteger=E,n.ZXingStandardCharsets=Nd,n.ZXingStringBuilder=re,n.ZXingStringEncoding=W,n.ZXingSystem=S,n.createAbstractExpandedDecoder=N1,Object.defineProperty(n,"__esModule",{value:!0})})})(Qf,Qf.exports);var mt=Qf.exports;const w8=Tl(mt),v8=fp({__proto__:null,default:w8},[mt]);var tp=function(){function e(t,n,r){if(this.formatMap=new Map([[fe.QR_CODE,mt.BarcodeFormat.QR_CODE],[fe.AZTEC,mt.BarcodeFormat.AZTEC],[fe.CODABAR,mt.BarcodeFormat.CODABAR],[fe.CODE_39,mt.BarcodeFormat.CODE_39],[fe.CODE_93,mt.BarcodeFormat.CODE_93],[fe.CODE_128,mt.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,mt.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,mt.BarcodeFormat.MAXICODE],[fe.ITF,mt.BarcodeFormat.ITF],[fe.EAN_13,mt.BarcodeFormat.EAN_13],[fe.EAN_8,mt.BarcodeFormat.EAN_8],[fe.PDF_417,mt.BarcodeFormat.PDF_417],[fe.RSS_14,mt.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,mt.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,mt.BarcodeFormat.UPC_A],[fe.UPC_E,mt.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,mt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!v8)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),o=new Map;o.set(mt.DecodeHintType.POSSIBLE_FORMATS,i),o.set(mt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(o){i(o)}})},e.prototype.decode=function(t){var n=new mt.MultiFormatReader(this.verbose,this.hints),r=new mt.HTMLCanvasElementLuminanceSource(t),i=new mt.BinaryBitmap(new mt.HybridBinarizer(r)),o=n.decode(i);return{text:o.text,format:bw.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),b8=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},C8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},np=function(){function e(t,n,r){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return b8(this,void 0,void 0,function(){var n,r;return C8(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:bw.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,o=t;i<o.length;i++){var h=o[i],g=h.boundingBox.width*h.boundingBox.height;g>r&&(r=g,n=h)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var o=i[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),rp=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},ap=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},N8=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&np.isSupported()?(this.primaryDecoder=new np(t,r,i),this.secondaryDecoder=new tp(t,r,i)):this.primaryDecoder=new tp(t,r,i)}return e.prototype.decodeAsync=function(t){return rp(this,void 0,void 0,function(){var n;return ap(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return rp(this,void 0,void 0,function(){var n,r;return ap(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var o=t/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),b1=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nu=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},Eu=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},Sw=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),E8=function(e){b1(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Sw),S8=function(e){b1(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(E8),_8=function(e){b1(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Sw),A8=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new S8(this.track)},e.prototype.torchFeature=function(){return new _8(this.track)},e}(),T8=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Nu(this,void 0,void 0,function(){var o,h;return Eu(this,function(g){switch(g.label){case 0:return o=new e(t,n,i),r.aspectRatio?(h={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(h)]):[3,2];case 1:g.sent(),g.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Nu(this,void 0,void 0,function(){return Eu(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),o=i.length,h=0;t.mediaStream.getVideoTracks().forEach(function(g){t.mediaStream.removeTrack(g),g.stop(),++h,h>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new A8(this.getFirstTrackOrFail())},e}(),k8=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Nu(this,void 0,void 0,function(){return Eu(this,function(i){return[2,T8.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Nu(this,void 0,void 0,function(){var n,r;return Eu(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),sp=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},ip=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},j8=function(){function e(){}return e.failIfNotSupported=function(){return sp(this,void 0,void 0,function(){return ip(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return sp(this,void 0,void 0,function(){return ip(this,function(n){return[2,k8.create(t)]})})},e}(),I8=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},O8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},D8=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Si.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Si.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return I8(this,void 0,void 0,function(){var t,n,r,i,o,h,g;return O8(this,function(p){switch(p.label){case 0:return t=function(x){for(var w=x.getVideoTracks(),b=0,N=w;b<N.length;b++){var j=N[b];j.enabled=!1,j.stop(),x.removeTrack(j)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=p.sent(),i=[],o=0,h=r;o<h.length;o++)g=h[o],g.kind==="videoinput"&&i.push({id:g.deviceId,label:g.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(o){for(var h=[],g=0,p=o;g<p.length;g++){var x=p[g];x.kind==="video"&&h.push({id:x.id,label:x.label})}t(h)},i=MediaStreamTrack;i.getSources(r)})},e}(),kt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(kt||(kt={}));var M8=function(){function e(){this.state=kt.NOT_STARTED,this.onGoingTransactionNewState=kt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===kt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=kt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===kt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=kt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==kt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case kt.UNKNOWN:throw"Transition from unknown is not allowed";case kt.NOT_STARTED:this.failIfNewStateIs(t,[kt.PAUSED]);break;case kt.SCANNING:break;case kt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];if(t===o)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),R8=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===kt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==kt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===kt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===kt.PAUSED},e}(),P8=function(){function e(){}return e.create=function(){return new R8(new M8)},e}(),L8=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xn=function(e){L8(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Sr),B8=function(){function e(t,n){this.logger=n,this.fps=Xn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Xn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ew.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!zr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),op=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new Nw(this.verbose),this.qrcode=new N8(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=P8.create()}return e.prototype.start=function(t,n,r,i){var o=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var h;i?h=i:h=this.verbose?this.logger.log:function(){};var g=B8.create(n,this.logger);this.clearElement();var p=!1;g.videoConstraints&&(g.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var x=p,w=document.getElementById(this.elementId);w.clientWidth?w.clientWidth:Xn.DEFAULT_WIDTH,w.style.position="relative",this.shouldScan=!0,this.element=w;var b=this,N=this.stateManagerProxy.startTransition(kt.SCANNING);return new Promise(function(j,I){var S=x?g.videoConstraints:b.createVideoConstraints(t);if(!S){N.cancel(),I("videoConstraints should be defined");return}var O={};(!x||g.aspectRatio)&&(O.aspectRatio=g.aspectRatio);var T={onRenderSurfaceReady:function(_,E){b.setupUi(_,E,g),b.isScanning=!0,b.foreverScan(g,r,h)}};j8.failIfNotSupported().then(function(_){_.create(S).then(function(E){return E.render(o.element,O,T).then(function(R){b.renderedCamera=R,N.execute(),j(null)}).catch(function(R){N.cancel(),I(R)})}).catch(function(E){N.cancel(),I(Si.errorGettingUserMedia(E))})}).catch(function(_){N.cancel(),I(Si.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(kt.PAUSED),this.showPausedState(),(zr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(kt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(kt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var o=document.getElementById(Xn.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(zr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var h=new Image;h.onload=function(){var g=h.width,p=h.height,x=document.getElementById(r.elementId),w=x.clientWidth?x.clientWidth:Xn.DEFAULT_WIDTH,b=Math.max(x.clientHeight?x.clientHeight:p,Xn.FILE_SCAN_MIN_HEIGHT),N=r.computeCanvasDrawConfig(g,p,w,b);if(n){var j=r.createCanvasElement(w,b,"qr-canvas-visible");j.style.display="inline-block",x.appendChild(j);var I=j.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=w,I.canvas.height=b,I.drawImage(h,0,0,g,p,N.x,N.y,N.width,N.height)}var S=Xn.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(h.width,N.width),T=Math.max(h.height,N.height),_=O+2*S,E=T+2*S,R=r.createCanvasElement(_,E);x.appendChild(R);var X=R.getContext("2d");if(!X)throw"Unable to get 2d context from canvas";X.canvas.width=_,X.canvas.height=E,X.drawImage(h,0,0,g,p,S,S,O,T);try{r.qrcode.decodeRobustlyAsync(R).then(function(H){i(Jg.createFromQrcodeResult(H))}).catch(o)}catch(H){o("QR code parse error, error = ".concat(H))}},h.onerror=o,h.onabort=o,h.onstalled=o,h.onsuspend=o,h.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return D8.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Ew.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,o=t.formatsToSupport;i<o.length;i++){var h=o[i];x8(h)?r.push(h):this.logger.warn("Invalid format: ".concat(h," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(zr(t))return!0;if(!zr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(zr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return zr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,o=r.qrbox;this.validateQrboxConfig(o);var h=this.toQrdimensions(t,n,o),g=function(x){if(x<Xn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Xn.MIN_QR_BOX_SIZE,"px.")},p=function(x){return x>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),x=t),x};g(h.width),g(h.height),h.width=p(h.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=zr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,n,i);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var h=r.isShadedBoxEnabled()&&o.height<=n,g={x:0,y:0,width:t,height:n},p=h?this.getShadedRegionBounds(t,n,o):g,x=this.createCanvasElement(p.width,p.height),w={willReadFrequently:!0},b=x.getContext("2d",w);b.canvas.width=p.width,b.canvas.height=p.height,this.element.append(x),h&&this.possiblyInsertShadingElement(this.element,t,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=b,this.canvasElement=x},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Si.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Jg.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var o=Si.codeParseError(i);return n(o,Cw.createFrom(o)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),h=o.videoWidth/o.clientWidth,g=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*h,x=this.qrRegion.height*g,w=this.qrRegion.x*h,b=this.qrRegion.y*g;this.context.drawImage(o,w,b,p,x,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(j){!j&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){N()})):N()}).catch(function(j){i.logger.logError("Error happend while scanning context",j),N()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},o="exact",h=function(I){if(I in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},g=Object.keys(t);if(g.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(g.length," keys");var p=Object.keys(t)[0];if(p!==n&&p!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(p===n){var x=t.facingMode;if(typeof x=="string"){if(h(x))return{facingMode:x}}else if(typeof x=="object")if(o in x){if(h(x["".concat(o)]))return{facingMode:{exact:x["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var w=typeof x;throw"Invalid type of 'facingMode' = ".concat(w)}}else{var b=t.deviceId;if(typeof b=="string")return{deviceId:b};if(typeof b=="object"){if(o in b)return{deviceId:{exact:b["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var N=typeof b;throw"Invalid type of 'deviceId' = ".concat(N)}}}var j=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(j)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var o=(r-t)/2,h=(i-n)/2;return{x:o,y:h,width:t,height:n}}else{var g=t,p=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(g,"X").concat(p)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Xn.BORDER_SHADER_MATCH_COLOR:Xn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,o=n,h=document.createElement("canvas");return h.style.width="".concat(i,"px"),h.style.height="".concat(o,"px"),h.style.display="none",h.id=zr(r)?"qr-canvas":r,h},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var h=(n-i.width)/2,g=(r-i.height)/2;if(o.style.borderLeft="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Xn.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var p=5,x=40;this.insertShaderBorders(o,x,p,-p,null,0,!0),this.insertShaderBorders(o,x,p,-p,null,0,!1),this.insertShaderBorders(o,x,p,null,-p,0,!0),this.insertShaderBorders(o,x,p,null,-p,0,!1),this.insertShaderBorders(o,p,x+p,-p,null,-p,!0),this.insertShaderBorders(o,p,x+p,null,-p,-p,!0),this.insertShaderBorders(o,p,x+p,-p,null,-p,!1),this.insertShaderBorders(o,p,x+p,null,-p,-p,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,n,r,i,o,h,g){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=Xn.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(n,"px"),p.style.height="".concat(r,"px"),i!==null&&(p.style.top="".concat(i,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),g?p.style.left="".concat(h,"px"):p.style.right="".concat(h,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),t.appendChild(p)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),C1="data:image/svg+xml;base64,",F8=C1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",U8=C1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",lp=C1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",z8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",cp=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),W8=function(){function e(){this.data=cp.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=cp.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),V8=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ep.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=ep.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),H8=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=lp,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=z8,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=lp,this.infoIcon.style.opacity="0.6")},e}(),$8=function(){function e(){var t=this;this.infoDiv=new V8,this.infoIcon=new H8(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),G8=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},Y8=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},up=function(){function e(){}return e.hasPermissions=function(){return G8(this,void 0,void 0,function(){var t,n,r,i;return Y8(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),ka=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===es.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===es.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Sr.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Sr.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var o=i[r];if(!Sr.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),Qn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),ia=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(Qn.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),_w=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(h){h(o)})}return new(n||(n=Promise))(function(o,h){function g(w){try{x(r.next(w))}catch(b){h(b)}}function p(w){try{x(r.throw(w))}catch(b){h(b)}}function x(w){w.done?o(w.value):i(w.value).then(g,p)}x((r=r.apply(e,t||[])).next())})},Aw=function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,h;return h={next:g(0),throw:g(1),return:g(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function g(x){return function(w){return p([x,w])}}function p(x){if(r)throw new TypeError("Generator is already executing.");for(;h&&(h=0,x[0]&&(n=0)),n;)try{if(r=1,i&&(o=x[0]&2?i.return:x[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,x[1])).done)return o;switch(i=0,o&&(x=[x[0]&2,o.value]),x[0]){case 0:case 1:o=x;break;case 4:return n.label++,{value:x[1],done:!1};case 5:n.label++,i=x[1],x=[0];continue;case 7:x=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(x[0]===6||x[0]===2)){n=0;continue}if(x[0]===3&&(!o||x[1]>o[0]&&x[1]<o[3])){n.label=x[1];break}if(x[0]===6&&n.label<o[1]){n.label=o[1],o=x;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(x);break}o[2]&&n.ops.pop(),n.trys.pop();continue}x=t.call(e,n)}catch(w){x=[6,w],i=0}finally{r=o=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},dp=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return _w(this,void 0,void 0,function(){var t,n;return Aw(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?qe.torchOffButton():qe.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?qe.torchOnFailedMessage():qe.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),X8=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=ia.createElement("button",Qn.TORCH_BUTTON_ID),this.torchController=new dp(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=qe.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return _w(r,void 0,void 0,function(){return Aw(this,function(h){switch(h.label){case 0:return[4,i.torchController.flipState()];case 1:return h.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Qn.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Qn.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Qn.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Qn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new dp(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=qe.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var o=new e(n,i);return o.render(t,r),o},e}(),K8=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=ia.createElement("button",Qn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(g){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=ia.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(g){if(!(g==null||g.target==null)){var p=g.target;if(!(p.files&&p.files.length===0)){var x=p.files,w=x[0],b=w.name;o.setImageNameToButton(b),r(w)}}});var h=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(h),this.fileBasedScanRegion.addEventListener("dragenter",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(g){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),g.stopPropagation(),g.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(g){g.stopPropagation(),g.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var p=g.dataTransfer;if(p){var x=p.files;if(!x||x.length===0)return;for(var w=!1,b=0;b<x.length;++b){var N=x.item(b);if(N){var j=/image.*/;if(N.type.match(j)){w=!0;var I=N.name;o.setImageNameToButton(I),r(N),h.innerText=qe.dragAndDropMessage();break}}}w||(h.innerText=qe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=qe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,o=t.substring(i-8,i);t="".concat(r,"....").concat(o)}var h=qe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=h},e.prototype.setInitialValueToButton=function(){var t=qe.fileSelectionChooseImage()+" - "+qe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),q8=function(){function e(t){this.selectElement=ia.createElement("select",Qn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=qe.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,h=0,g=this.cameras;h<g.length;h++){var p=g[h],x=p.id,w=p.label==null?x:p.label;(!w||w==="")&&(w=[qe.anonymousCameraPrefix(),o++].join(" "));var b=document.createElement("option");b.value=x,b.innerText=w,this.options.push(b),this.selectElement.appendChild(b)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Q8=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=ia.createElement("input",Qn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=qe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Kn;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Kn||(Kn={}));function Z8(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function J8(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var ej=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new ka(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Nw(this.verbose),this.persistedDataManager=new W8,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,h){if(t)t(o,h);else{if(r.lastMatchFound===o)return;r.lastMatchFound=o,r.setHeaderMessage(qe.lastMatch(o),Kn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,h){n&&n(o,h)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new op(this.getScanRegionId(),J8(this.config,this.verbose))},e.prototype.pause=function(t){(zr(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Sr.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Sr.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Sr.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Sr.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Sr.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Sr.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Sr.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),ka.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new $8;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(qe.cameraPermissionRequesting());var o=function(){r||i.createPermissionButton(t,n)};op.getCameras().then(function(h){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),h&&h.length>0?(t.removeChild(n),i.renderCameraSelection(h)):(i.setHeaderMessage(qe.noCameraFound(),Kn.STATUS_WARNING),o())}).catch(function(h){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:o(),i.setHeaderMessage(h,Kn.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=ia.createElement("button",this.getCameraPermissionButtonId());i.innerText=qe.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(ka.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){up.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=ka.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=ka.isFileScanType(this.currentScanType),r=this,i=function(o){if(!r.html5Qrcode)throw"html5Qrcode not defined";ka.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(qe.loadingImage()),r.html5Qrcode.scanFileV2(o,!0).then(function(h){r.resetHeaderMessage(),r.qrCodeSuccessCallback(h.decodedText,h)}).catch(function(h){r.setHeaderMessage(h,Kn.STATUS_WARNING),r.qrCodeErrorCallback(h,Cw.createFrom(h))}))};this.fileSelectionUi=K8.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=Q8.create(i,!1),h=function(S){var O=S.zoomFeature();if(O.isSupported()){o.setOnCameraZoomValueChangeCallback(function(_){O.apply(_)});var T=1;n.config.defaultZoomValueIfSupported&&(T=n.config.defaultZoomValueIfSupported),T=y8(T,O.min(),O.max()),o.setValues(O.min(),O.max(),T,O.step()),o.show()}},g=q8.create(i,t),p=document.createElement("span"),x=ia.createElement("button",Qn.CAMERA_START_BUTTON_ID);x.innerText=qe.scanButtonStartScanningText(),p.appendChild(x);var w=ia.createElement("button",Qn.CAMERA_STOP_BUTTON_ID);w.innerText=qe.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,p.appendChild(w);var b,N=function(S){if(!S.torchFeature().isSupported()){b&&b.hide();return}b?b.updateTorchCapability(S.torchFeature()):b=X8.create(p,S.torchFeature(),{display:"none",marginLeft:"5px"},function(O){r.setHeaderMessage(O,Kn.STATUS_WARNING)}),b.show()};i.appendChild(p);var j=function(S){S||(x.style.display="none"),x.innerText=qe.scanButtonStartScanningText(),x.style.opacity="1",x.disabled=!1,S&&(x.style.display="inline-block")};if(x.addEventListener("click",function(S){x.innerText=qe.scanButtonScanningStarting(),g.disable(),x.disabled=!0,x.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var O=g.getValue();r.persistedDataManager.setLastUsedCameraId(O),r.html5Qrcode.start(O,Z8(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(T){w.disabled=!1,w.style.display="inline-block",j(!1);var _=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&N(_),n.config.showZoomSliderIfSupported===!0&&h(_)}).catch(function(T){r.showHideScanTypeSwapLink(!0),g.enable(),j(!0),r.setHeaderMessage(T,Kn.STATUS_WARNING)})}),g.hasSingleItem()&&x.click(),w.addEventListener("click",function(S){if(!r.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,r.html5Qrcode.stop().then(function(O){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),g.enable(),x.disabled=!1,w.style.display="none",x.style.display="inline-block",b&&(b.reset(),b.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(O){w.disabled=!1,r.setHeaderMessage(O,Kn.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var I=r.persistedDataManager.getLastUsedCameraId();g.hasValue(I)?(g.setValue(I),x.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=qe.textIfCameraScanSelected(),r=qe.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var h=ia.createElement("span",this.getDashboardSectionSwapLinkId());h.style.textDecoration="underline",h.style.cursor="pointer",h.innerText=ka.isCameraScanType(this.currentScanType)?n:r,h.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,ka.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),h.innerText=r,t.currentScanType=es.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),h.innerText=n,t.currentScanType=es.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),o.appendChild(h),i.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){up.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Kn.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Kn.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Kn.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Kn.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=F8,this.cameraScanImage.alt=qe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=U8,this.fileScanImage.alt=qe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Qn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Qn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const tj=()=>{var X,H,L,G,B,V,W,q,re;const[e,t]=F.useState(!1),[n,r]=F.useState(null),[i,o]=F.useState(!1),[h,g]=F.useState(null),[p,x]=F.useState(!1),w=F.useRef(null),b=F.useRef(null);F.useEffect(()=>()=>{w.current&&w.current.clear(),b.current&&b.current.stop()},[]);const N=()=>{t(!0),g(null),r(null);const ye={fps:10,qrbox:{width:250,height:250},aspectRatio:1},$=new ej("qr-reader",ye,!1);$.render(J=>{I(J),$.clear(),t(!1)},J=>{console.log("QR scan error:",J)}),w.current=$},j=()=>{w.current&&(w.current.clear(),w.current=null),t(!1)},I=async ye=>{o(!0),g(null);try{let $;try{const oe=JSON.parse(ye);$=oe.bookingId||oe.id}catch{$=ye}if(!$)throw new Error("QR Code tidak valid: ID booking tidak ditemukan");const{data:J,error:ce}=await Ce.from("peminjaman").select(`
          *,
          users:user_id (
            nama,
            email,
            nim
          ),
          ruangan:ruangan_id (
            nama,
            lokasi,
            kapasitas
          ),
          kendaraan:kendaraan_id (
            nama,
            plat_nomor,
            jenis
          )
        `).eq("id",$).single();if(ce)throw ce.code==="PGRST116"?new Error("Booking tidak ditemukan"):ce;r(J),xe.success("QR Code berhasil dipindai!")}catch($){console.error("Error processing QR code:",$);const J=$.message||"Gagal memproses QR Code";g(J),xe.error(J)}finally{o(!1)}},S=async ye=>{if(n){x(!0);try{const{error:$}=await Ce.from("peminjaman").update({status:ye}).eq("id",n.id);if($)throw $;r({...n,status:ye});const J={approved:"disetujui",rejected:"ditolak",completed:"diselesaikan"}[ye];xe.success(`Booking berhasil ${J}!`)}catch($){console.error("Error updating booking status:",$),xe.error("Gagal memperbarui status booking")}finally{x(!1)}}},O=ye=>{switch(ye){case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";case"completed":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},T=ye=>{switch(ye){case"pending":return"Menunggu Persetujuan";case"approved":return"Disetujui";case"rejected":return"Ditolak";case"completed":return"Selesai";default:return ye}},_=ye=>{switch(ye){case"pending":return c.jsx(Hi,{className:"h-5 w-5"});case"approved":return c.jsx(Ut,{className:"h-5 w-5"});case"rejected":return c.jsx(kr,{className:"h-5 w-5"});case"completed":return c.jsx(Ut,{className:"h-5 w-5"});default:return c.jsx(Hi,{className:"h-5 w-5"})}},E=ye=>Pn(new Date(ye),"dd MMMM yyyy, HH:mm",{locale:Rs}),R=()=>{r(null),g(null)};return c.jsx("div",{className:"container mx-auto px-4 py-8",children:c.jsxs("div",{className:"max-w-2xl mx-auto",children:[c.jsxs("div",{className:"mb-8 text-center",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[c.jsx("div",{className:"p-3 bg-primary-100 rounded-full",children:c.jsx(Gi,{className:"h-8 w-8 text-primary-600"})}),c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"QR Scanner"})]}),c.jsx("p",{className:"text-gray-600",children:"Pindai QR Code booking untuk melihat detail dan mengelola status"})]}),!n&&c.jsx("div",{className:"card mb-6",children:c.jsx("div",{className:"card-content",children:e?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Pindai QR Code"}),c.jsx("button",{onClick:j,className:"btn btn-outline btn-sm",children:"Batal"})]}),c.jsx("div",{id:"qr-reader",className:"w-full"}),i&&c.jsx("div",{className:"mt-4 text-center",children:c.jsx(Ve,{size:"sm",text:"Memproses QR Code..."})})]}):c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"p-4 bg-gray-100 rounded-full w-20 h-20 mx-auto mb-4 flex items-center justify-center",children:c.jsx(vg,{className:"h-10 w-10 text-gray-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Mulai Pemindaian"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Klik tombol di bawah untuk memulai pemindaian QR Code"}),c.jsxs("button",{onClick:N,className:"btn btn-primary",children:[c.jsx(vg,{className:"h-5 w-5 mr-2"}),"Mulai Scanner"]})]})})}),h&&c.jsx("div",{className:"card border-red-200 bg-red-50 mb-6",children:c.jsxs("div",{className:"card-content",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(kr,{className:"h-6 w-6 text-red-600"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-red-900",children:"Error"}),c.jsx("p",{className:"text-red-700",children:h})]})]}),c.jsx("button",{onClick:R,className:"btn btn-outline btn-sm mt-4",children:"Coba Lagi"})]})}),n&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Detail Booking"}),c.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border ${O(n.status)}`,children:[_(n.status),c.jsx("span",{className:"font-medium",children:T(n.status)})]})]})}),c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:n.jenis_booking==="ruangan"?c.jsx(vn,{className:"h-5 w-5 text-primary-600"}):c.jsx(xt,{className:"h-5 w-5 text-primary-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:n.jenis_booking==="ruangan"?(X=n.ruangan)==null?void 0:X.nama:(H=n.kendaraan)==null?void 0:H.nama}),c.jsx("p",{className:"text-gray-600",children:n.jenis_booking==="ruangan"?`${(L=n.ruangan)==null?void 0:L.lokasi}  Kapasitas: ${(G=n.ruangan)==null?void 0:G.kapasitas} orang`:`${(B=n.kendaraan)==null?void 0:B.plat_nomor}  ${(V=n.kendaraan)==null?void 0:V.jenis}`})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Ja,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:(W=n.users)==null?void 0:W.nama}),c.jsxs("p",{className:"text-gray-600",children:[(q=n.users)==null?void 0:q.email,((re=n.users)==null?void 0:re.nim)&&c.jsxs("span",{className:"block",children:["NIM: ",n.users.nim]})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(Lt,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900",children:"Waktu Booking"}),c.jsxs("p",{className:"text-gray-600",children:[c.jsxs("span",{className:"block",children:["Mulai: ",E(n.tanggal_mulai)]}),c.jsxs("span",{className:"block",children:["Selesai: ",E(n.tanggal_selesai)]})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Keperluan"}),c.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:n.keperluan})]})]})]})})]}),n.status==="pending"&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Aksi"})}),c.jsx("div",{className:"card-content",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>S("approved"),disabled:p,className:"btn btn-primary flex-1",children:p?c.jsx(Ve,{size:"sm"}):c.jsxs(c.Fragment,{children:[c.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Setujui"]})}),c.jsxs("button",{onClick:()=>S("rejected"),disabled:p,className:"btn btn-outline flex-1 text-red-600 border-red-300 hover:bg-red-50",children:[c.jsx(kr,{className:"h-5 w-5 mr-2"}),"Tolak"]})]})})]}),n.status==="approved"&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"card-header",children:c.jsx("h3",{className:"text-lg font-semibold",children:"Aksi"})}),c.jsx("div",{className:"card-content",children:c.jsx("button",{onClick:()=>S("completed"),disabled:p,className:"btn btn-primary w-full",children:p?c.jsx(Ve,{size:"sm"}):c.jsxs(c.Fragment,{children:[c.jsx(Ut,{className:"h-5 w-5 mr-2"}),"Tandai Selesai"]})})})]}),c.jsx("div",{className:"text-center",children:c.jsxs("button",{onClick:R,className:"btn btn-outline",children:[c.jsx(Gi,{className:"h-5 w-5 mr-2"}),"Pindai QR Code Lain"]})})]})]})})},or=({children:e,requiredRole:t})=>{const{user:n,userProfile:r,loading:i}=mr();return i?c.jsx(Ve,{}):n?t&&r&&!t.includes(r.role)?c.jsx(lu,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:e}):c.jsx(lu,{to:"/login",replace:!0})},hp=({children:e})=>{const{user:t,loading:n}=mr();return n?c.jsx(Ve,{}):t?c.jsx(lu,{to:"/dashboard",replace:!0}):c.jsx(c.Fragment,{children:e})};function nj(){return c.jsx(y4,{children:c.jsxs(wN,{children:[c.jsx(Mt,{path:"/",element:c.jsx(w4,{})}),c.jsx(Mt,{path:"/rooms",element:c.jsx(oT,{})}),c.jsx(Mt,{path:"/vehicles",element:c.jsx(lT,{})}),c.jsx(Mt,{path:"/calendar",element:c.jsx(n8,{})}),c.jsx(Mt,{path:"/guide",element:c.jsx(r8,{})}),c.jsx(Mt,{path:"/login",element:c.jsx(hp,{children:c.jsx(a8,{})})}),c.jsx(Mt,{path:"/register",element:c.jsx(hp,{children:c.jsx(s8,{})})}),c.jsx(Mt,{path:"/dashboard",element:c.jsx(or,{children:c.jsx(i8,{})})}),c.jsx(Mt,{path:"/booking",element:c.jsx(or,{children:c.jsx(o8,{})})}),c.jsx(Mt,{path:"/my-bookings",element:c.jsx(or,{children:c.jsx(l8,{})})}),c.jsx(Mt,{path:"/profile",element:c.jsx(or,{children:c.jsx(c8,{})})}),c.jsx(Mt,{path:"/admin",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(u8,{})})}),c.jsx(Mt,{path:"/admin/rooms",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(d8,{})})}),c.jsx(Mt,{path:"/admin/vehicles",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(h8,{})})}),c.jsx(Mt,{path:"/admin/bookings",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(f8,{})})}),c.jsx(Mt,{path:"/admin/reports",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(m8,{})})}),c.jsx(Mt,{path:"/admin/users",element:c.jsx(or,{requiredRole:["admin"],children:c.jsx(g8,{})})}),c.jsx(Mt,{path:"/staff",element:c.jsx(or,{requiredRole:["petugas","admin"],children:c.jsx(p8,{})})}),c.jsx(Mt,{path:"/staff/scanner",element:c.jsx(or,{requiredRole:["petugas","admin"],children:c.jsx(tj,{})})}),c.jsx(Mt,{path:"*",element:c.jsx(lu,{to:"/",replace:!0})})]})})}vh.createRoot(document.getElementById("root")).render(c.jsx(we.StrictMode,{children:c.jsx(_N,{children:c.jsxs(XS,{children:[c.jsx(nj,{}),c.jsx(k3,{}),c.jsx(w3,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#4ade80",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}));
